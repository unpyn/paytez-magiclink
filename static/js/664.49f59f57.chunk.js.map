{"version":3,"file":"static/js/664.49f59f57.chunk.js","mappings":"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A,SACA,UACA,UACA,UACA,MACA,QACA,UACA,SACA,QACA,UACA,QACA,OACA,SACA,OACA,QACA,QACA,MACA,QACA,QACA,OACA,SACA,UACA,SACA,SACA,QACA,MACA,WACA,SACA,UACA,MACA,SACA,UACA,QACA,SACA,SACA,SACA,UACA,OACA,SACA,SACA,WACA,UACA,UACA,QACA,SACA,OACA,SACA,OACA,SACA,UACA,UACA,QACA,QACA,QACA,OACA,UACA,QACA,UACA,OACA,OACA,WACA,QACA,QACA,MACA,UACA,UACA,OACA,SACA,SACA,SACA,MACA,SACA,UACA,SACA,OACA,QACA,SACA,SACA,QACA,OACA,SACA,UACA,SACA,OACA,SACA,QACA,SACA,SACA,UACA,QACA,OACA,QACA,UACA,OACA,SACA,SACA,UACA,SACA,UACA,MACA,OACA,OACA,UACA,OACA,QACA,SACA,QACA,QACA,QACA,UACA,QACA,QACA,QACA,QACA,QACA,UACA,SACA,OACA,OACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,QACA,SACA,SACA,SACA,OACA,SACA,SACA,MACA,MACA,UACA,QACA,QACA,QACA,QACA,QACA,SACA,QACA,SACA,QACA,SACA,QACA,QACA,WACA,SACA,SACA,QACA,UACA,QACA,QACA,SACA,QACA,SACA,UACA,QACA,OACA,OACA,SACA,SACA,SACA,SACA,SACA,QACA,MACA,WACA,OACA,SACA,QACA,OACA,UACA,QACA,QACA,SACA,OACA,OACA,OACA,OACA,SACA,OACA,MACA,QACA,SACA,QACA,SACA,QACA,SACA,SACA,UACA,UACA,UACA,MACA,SACA,OACA,QACA,SACA,QACA,OACA,OACA,OACA,SACA,SACA,SACA,MACA,UACA,QACA,WACA,SACA,SACA,QACA,UACA,OACA,UACA,SACA,SACA,SACA,UACA,SACA,UACA,QACA,QACA,WACA,SACA,QACA,UACA,SACA,QACA,OACA,QACA,QACA,SACA,OACA,SACA,QACA,UACA,QACA,QACA,UACA,SACA,SACA,UACA,UACA,QACA,QACA,QACA,WACA,SACA,UACA,OACA,QACA,QACA,OACA,UACA,OACA,OACA,QACA,QACA,SACA,QACA,SACA,QACA,QACA,SACA,OACA,QACA,OACA,QACA,QACA,QACA,QACA,OACA,QACA,UACA,SACA,QACA,QACA,UACA,OACA,SACA,OACA,OACA,UACA,QACA,SACA,UACA,OACA,UACA,QACA,SACA,UACA,UACA,UACA,UACA,WACA,UACA,WACA,UACA,WACA,OACA,OACA,SACA,OACA,QACA,OACA,OACA,UACA,OACA,SACA,QACA,UACA,SACA,SACA,SACA,QACA,SACA,QACA,SACA,QACA,OACA,QACA,QACA,SACA,QACA,QACA,QACA,SACA,QACA,OACA,UACA,QACA,QACA,SACA,OACA,QACA,SACA,QACA,UACA,QACA,SACA,UACA,SACA,QACA,MACA,UACA,OACA,UACA,MACA,WACA,UACA,UACA,UACA,QACA,UACA,SACA,OACA,QACA,MACA,SACA,OACA,QACA,SACA,SACA,OACA,WACA,OACA,MACA,OACA,SACA,SACA,SACA,WACA,SACA,UACA,WACA,WACA,OACA,UACA,SACA,OACA,SACA,QACA,UACA,SACA,SACA,SACA,UACA,OACA,SACA,SACA,UACA,QACA,SACA,SACA,WACA,SACA,SACA,OACA,UACA,UACA,SACA,SACA,UACA,SACA,SACA,UACA,OACA,UACA,QACA,OACA,SACA,OACA,SACA,UACA,UACA,UACA,SACA,WACA,SACA,OACA,WACA,WACA,UACA,OACA,UACA,WACA,UACA,WACA,SACA,SACA,UACA,QACA,SACA,WACA,MACA,OACA,UACA,SACA,SACA,SACA,QACA,OACA,OACA,SACA,OACA,QACA,SACA,QACA,UACA,OACA,QACA,QACA,QACA,QACA,QACA,OACA,QACA,OACA,OACA,MACA,OACA,OACA,OACA,SACA,OACA,QACA,OACA,QACA,UACA,QACA,QACA,QACA,OACA,QACA,SACA,OACA,OACA,OACA,UACA,UACA,OACA,OACA,UACA,SACA,MACA,QACA,SACA,QACA,QACA,WACA,UACA,UACA,WACA,WACA,QACA,OACA,SACA,SACA,UACA,SACA,UACA,SACA,UACA,QACA,SACA,QACA,MACA,UACA,UACA,QACA,SACA,UACA,SACA,SACA,UACA,QACA,SACA,SACA,SACA,SACA,SACA,QACA,SACA,QACA,WACA,UACA,QACA,QACA,MACA,QACA,QACA,UACA,QACA,QACA,SACA,QACA,UACA,SACA,UACA,SACA,WACA,OACA,QACA,SACA,QACA,UACA,SACA,WACA,SACA,UACA,SACA,UACA,WACA,UACA,UACA,QACA,QACA,OACA,SACA,SACA,SACA,SACA,UACA,SACA,UACA,SACA,QACA,MACA,UACA,SACA,OACA,UACA,OACA,QACA,QACA,OACA,QACA,OACA,SACA,SACA,MACA,QACA,UACA,OACA,UACA,MACA,QACA,SACA,UACA,QACA,WACA,UACA,WACA,UACA,MACA,OACA,OACA,SACA,QACA,WACA,QACA,QACA,MACA,QACA,UACA,QACA,SACA,OACA,OACA,SACA,QACA,OACA,OACA,SACA,SACA,OACA,OACA,QACA,SACA,OACA,MACA,UACA,MACA,OACA,QACA,QACA,OACA,SACA,OACA,SACA,OACA,QACA,QACA,QACA,SACA,QACA,QACA,MACA,OACA,QACA,MACA,OACA,OACA,SACA,OACA,OACA,QACA,SACA,SACA,OACA,UACA,QACA,UACA,SACA,SACA,QACA,MACA,UACA,QACA,WACA,QACA,SACA,SACA,OACA,QACA,QACA,QACA,SACA,QACA,OACA,MACA,QACA,UACA,OACA,SACA,SACA,OACA,SACA,UACA,OACA,MACA,SACA,UACA,SACA,SACA,UACA,MACA,OACA,OACA,SACA,QACA,OACA,UACA,SACA,QACA,SACA,UACA,UACA,QACA,QACA,OACA,SACA,SACA,UACA,OACA,OACA,OACA,SACA,QACA,QACA,QACA,UACA,QACA,QACA,QACA,QACA,OACA,OACA,OACA,UACA,OACA,OACA,QACA,UACA,SACA,SACA,SACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,UACA,QACA,QACA,OACA,QACA,OACA,UACA,QACA,OACA,QACA,QACA,QACA,QACA,QACA,SACA,MACA,MACA,QACA,OACA,OACA,SACA,UACA,OACA,QACA,SACA,OACA,QACA,UACA,MACA,OACA,OACA,SACA,OACA,SACA,QACA,QACA,WACA,SACA,QACA,SACA,OACA,MACA,OACA,SACA,OACA,OACA,OACA,MACA,OACA,UACA,QACA,SACA,OACA,OACA,UACA,SACA,OACA,QACA,OACA,OACA,OACA,SACA,QACA,WACA,OACA,QACA,OACA,QACA,MACA,OACA,QACA,SACA,QACA,UACA,SACA,OACA,SACA,QACA,OACA,UACA,SACA,MACA,OACA,OACA,WACA,OACA,SACA,MACA,UACA,UACA,QACA,UACA,UACA,SACA,SACA,SACA,UACA,UACA,OACA,UACA,SACA,WACA,QACA,WACA,SACA,WACA,SACA,UACA,SACA,SACA,UACA,UACA,SACA,SACA,SACA,QACA,WACA,QACA,UACA,SACA,SACA,SACA,UACA,UACA,SACA,WACA,OACA,SACA,SACA,UACA,OACA,SACA,UACA,QACA,OACA,QACA,SACA,SACA,MACA,OACA,UACA,QACA,QACA,QACA,MACA,OACA,OACA,UACA,MACA,QACA,QACA,OACA,SACA,SACA,OACA,OACA,WACA,OACA,OACA,UACA,MACA,OACA,MACA,SACA,OACA,UACA,OACA,MACA,UACA,OACA,SACA,OACA,OACA,QACA,QACA,OACA,MACA,QACA,QACA,SACA,OACA,OACA,OACA,WACA,SACA,QACA,QACA,QACA,QACA,UACA,OACA,MACA,OACA,UACA,QACA,OACA,SACA,OACA,QACA,QACA,UACA,OACA,MACA,QACA,SACA,UACA,QACA,OACA,SACA,OACA,UACA,SACA,SACA,QACA,OACA,UACA,UACA,UACA,OACA,OACA,QACA,OACA,OACA,QACA,OACA,OACA,SACA,OACA,SACA,OACA,SACA,OACA,OACA,UACA,QACA,OACA,QACA,SACA,OACA,OACA,UACA,OACA,SACA,OACA,QACA,QACA,UACA,SACA,QACA,QACA,SACA,SACA,UACA,MACA,QACA,SACA,OACA,OACA,OACA,QACA,OACA,SACA,MACA,SACA,UACA,QACA,UACA,SACA,QACA,SACA,QACA,SACA,SACA,SACA,WACA,OACA,OACA,SACA,QACA,WACA,OACA,SACA,SACA,UACA,OACA,SACA,OACA,UACA,OACA,WACA,QACA,QACA,SACA,OACA,SACA,SACA,UACA,OACA,QACA,QACA,QACA,QACA,OACA,UACA,QACA,SACA,SACA,WACA,OACA,UACA,QACA,OACA,UACA,QACA,SACA,UACA,SACA,SACA,OACA,UACA,MACA,QACA,UACA,SACA,QACA,SACA,MACA,SACA,UACA,SACA,UACA,QACA,OACA,QACA,OACA,UACA,WACA,SACA,SACA,QACA,WACA,QACA,OACA,QACA,OACA,SACA,OACA,WACA,SACA,SACA,WACA,QACA,OACA,SACA,SACA,UACA,OACA,QACA,OACA,SACA,SACA,QACA,SACA,SACA,OACA,OACA,OACA,WACA,UACA,UACA,SACA,QACA,OACA,MACA,UACA,UACA,QACA,OACA,OACA,OACA,QACA,QACA,QACA,UACA,SACA,SACA,QACA,OACA,UACA,OACA,UACA,SACA,QACA,MACA,UACA,SACA,QACA,MACA,MACA,OACA,SACA,SACA,UACA,UACA,SACA,UACA,QACA,QACA,UACA,OACA,MACA,QACA,SACA,QACA,MACA,OACA,MACA,QACA,UACA,OACA,OACA,MACA,QACA,SACA,OACA,OACA,QACA,UACA,SACA,SACA,SACA,QACA,UACA,QACA,WACA,QACA,SACA,WACA,SACA,UACA,QACA,UACA,QACA,SACA,UACA,OACA,OACA,OACA,MACA,QACA,SACA,SACA,QACA,OACA,SACA,OACA,OACA,SACA,OACA,QACA,QACA,QACA,UACA,QACA,SACA,SACA,OACA,SACA,QACA,OACA,QACA,OACA,UACA,SACA,UACA,QACA,OACA,UACA,QACA,SACA,OACA,UACA,UACA,MACA,UACA,SACA,SACA,SACA,UACA,SACA,SACA,MACA,QACA,QACA,SACA,WACA,QACA,SACA,UACA,QACA,MACA,SACA,OACA,QACA,OACA,UACA,OACA,SACA,QACA,QACA,QACA,SACA,UACA,QACA,OACA,SACA,SACA,QACA,OACA,SACA,OACA,OACA,QACA,QACA,OACA,SACA,OACA,OACA,OACA,UACA,UACA,WACA,WACA,OACA,SACA,UACA,UACA,SACA,QACA,WACA,SACA,UACA,SACA,UACA,UACA,SACA,UACA,QACA,QACA,UACA,QACA,WACA,SACA,UACA,QACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,QACA,WACA,UACA,UACA,QACA,UACA,SACA,UACA,OACA,OACA,QACA,UACA,QACA,QACA,QACA,WACA,SACA,UACA,QACA,OACA,MACA,SACA,UACA,UACA,UACA,UACA,WACA,QACA,OACA,OACA,QACA,SACA,UACA,OACA,OACA,QACA,QACA,OACA,OACA,QACA,QACA,OACA,QACA,SACA,QACA,QACA,OACA,OACA,SACA,QACA,MACA,QACA,QACA,OACA,SACA,QACA,UACA,SACA,UACA,SACA,SACA,UACA,SACA,UACA,SACA,SACA,SACA,SACA,UACA,SACA,QACA,UACA,SACA,OACA,SACA,WACA,SACA,SACA,SACA,QACA,OACA,SACA,SACA,SACA,UACA,SACA,UACA,SACA,WACA,SACA,WACA,WACA,SACA,SACA,UACA,SACA,UACA,SACA,SACA,SACA,SACA,MACA,SACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,OACA,OACA,SACA,OACA,SACA,QACA,QACA,OACA,QACA,QACA,SACA,SACA,UACA,OACA,SACA,OACA,OACA,SACA,QACA,QACA,QACA,QACA,SACA,OACA,MACA,OACA,MACA,SACA,QACA,MACA,SACA,UACA,OACA,OACA,QACA,SACA,QACA,OACA,SACA,OACA,SACA,OACA,UACA,UACA,QACA,UACA,OACA,MACA,QACA,OACA,QACA,UACA,QACA,SACA,SACA,UACA,WACA,WACA,QACA,QACA,SACA,SACA,QACA,MACA,SACA,SACA,OACA,SACA,SACA,UACA,WACA,OACA,OACA,UACA,SACA,OACA,UACA,SACA,QACA,WACA,SACA,UACA,UACA,SACA,QACA,QACA,SACA,QACA,UACA,QACA,OACA,QACA,UACA,SACA,QACA,QACA,OACA,SACA,QACA,OACA,QACA,OACA,QACA,WACA,QACA,SACA,QACA,UACA,MACA,UACA,OACA,OACA,QACA,QACA,OACA,SACA,OACA,QACA,SACA,UACA,SACA,QACA,OACA,QACA,SACA,UACA,MACA,OACA,QACA,SACA,MACA,QACA,OACA,QACA,QACA,OACA,OACA,QACA,UACA,QACA,QACA,SACA,OACA,SACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,SACA,QACA,QACA,OACA,QACA,OACA,OACA,SACA,SACA,OACA,OACA,OACA,QACA,UACA,QACA,WACA,QACA,UACA,OACA,OACA,QACA,OACA,OACA,QACA,OACA,SACA,QACA,QACA,QACA,UACA,QACA,QACA,UACA,QACA,QACA,QACA,SACA,QACA,SACA,QACA,OACA,SACA,QACA,QACA,UACA,QACA,QACA,OACA,QACA,SACA,SACA,MACA,SACA,UACA,WACA,SACA,UACA,QACA,QACA,SACA,QACA,QACA,QACA,QACA,OACA,QACA,QACA,OACA,OACA,SACA,QACA,QACA,QACA,QACA,UACA,QACA,QACA,QACA,QACA,WACA,SACA,SACA,SACA,WACA,UACA,QACA,UACA,QACA,UACA,SACA,SACA,UACA,OACA,SACA,SACA,QACA,UACA,OACA,SACA,MACA,QACA,SACA,QACA,SACA,UACA,OACA,UACA,QACA,WACA,WACA,SACA,UACA,UACA,UACA,QACA,OACA,QACA,QACA,QACA,QACA,OACA,QACA,SACA,QACA,SACA,UACA,QACA,SACA,QACA,SACA,MACA,OACA,SACA,OACA,OACA,OACA,SACA,OACA,QACA,SACA,OACA,QACA,OACA,OACA,MACA,SACA,SACA,OACA,OACA,OACA,OACA,QACA,OACA,QACA,OACA,SACA,QACA,OACA,QACA,OACA,UACA,QACA,SACA,QACA,QACA,UACA,SACA,OACA,QACA,OACA,SACA,OACA,OACA,MACA,QACA,SACA,QACA,QACA,UACA,QACA,UACA,MACA,WACA,SACA,QACA,SACA,WACA,OACA,SACA,UACA,OACA,QACA,MACA,QACA,SACA,QACA,UACA,WACA,OACA,QACA,UACA,SACA,QACA,OACA,MACA,QACA,QACA,UACA,SACA,QACA,WACA,OACA,QACA,SACA,OACA,QACA,OACA,QACA,QACA,QACA,QACA,UACA,OACA,OACA,SACA,UACA,QACA,OACA,QACA,UACA,QACA,QACA,MACA,OACA,UACA,SACA,OACA,SACA,SACA,OACA,SACA,SACA,SACA,QACA,OACA,QACA,MACA,OACA,UACA,OACA,WACA,SACA,UACA,QACA,UACA,QACA,OACA,SACA,SACA,UACA,UACA,SACA,OACA,WACA,UACA,SACA,QACA,UACA,SACA,SACA,UACA,SACA,OACA,QACA,QACA,QACA,OACA,QACA,MACA,OACA,SACA,UACA,QACA,UACA,SACA,SACA,QACA,QACA,SACA,QACA,MACA,SACA,QACA,UACA,OACA,QACA,UACA,SACA,SACA,UACA,QACA,OACA,SACA,UACA,OACA,SACA,UACA,SACA,UACA,UACA,UACA,QACA,OACA,UACA,UACA,SACA,UACA,QACA,OACA,QACA,SACA,QACA,QACA,QACA,QACA,OACA,UACA,SACA,OACA,SACA,OACA,QACA,OACA,OACA,OACA,SACA,OACA,UACA,OACA,UACA,OACA,OACA,QACA,QACA,OACA,MACA,SACA,SACA,OACA,SACA,UACA,MACA,UACA,UACA,QACA,UACA,OACA,MAC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","sources":["../node_modules/@chaitanyapotti/register-service-worker/index.js","../node_modules/@tkey/common-types/src/utils.ts","../node_modules/@tkey/common-types/src/base/Point.ts","../node_modules/@tkey/common-types/src/base/BNUtils.ts","../node_modules/@tkey/common-types/src/base/Error.ts","../node_modules/@tkey/common-types/src/base/OneKey.ts","../node_modules/@tkey/common-types/src/base/PublicPolynomial.ts","../node_modules/@tkey/common-types/src/base/PublicShare.ts","../node_modules/@tkey/common-types/src/base/Share.ts","../node_modules/@tkey/common-types/src/base/Polynomial.ts","../node_modules/@tkey/common-types/src/base/ShareStore.ts","../node_modules/@tkey/core/src/errors.ts","../node_modules/@tkey/core/src/lagrangeInterpolatePolynomial.ts","../node_modules/@tkey/core/src/metadata.ts","../node_modules/@tkey/core/src/authMetadata.ts","../node_modules/@tkey/core/src/core.ts","../node_modules/@tkey/service-provider-base/src/ServiceProviderBase.ts","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/util.js","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/methods/native.js","../node_modules/oblivious-set/src/index.ts","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/options.js","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/methods/indexed-db.js","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/methods/localstorage.js","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/@socket.io/component-emitter/index.mjs","../node_modules/engine.io-client/build/esm/globalThis.browser.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/contrib/yeast.js","../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/webtransport.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/engine.io-client/build/esm/index.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/socket.io-client/build/esm/contrib/backo2.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js","../node_modules/@toruslabs/metadata-helpers/src/utils.ts","../node_modules/@toruslabs/metadata-helpers/src/webAuthnShareResolver.ts","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/methods/server.js","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/methods/simulate.js","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/method-chooser.js","../node_modules/@toruslabs/broadcast-channel/dist/esbrowser/broadcast-channel.js","../node_modules/@toruslabs/fnd-base/src/endpoints.ts","../node_modules/@toruslabs/fnd-base/src/mainnetConfig.ts","../node_modules/@toruslabs/fnd-base/src/sapphireDevnetConfig.ts","../node_modules/@toruslabs/fnd-base/src/sapphireLrcConfig.ts","../node_modules/@toruslabs/fnd-base/src/sapphireMainnetConfig.ts","../node_modules/@toruslabs/fnd-base/src/testnetConfig.ts","../node_modules/@toruslabs/fetch-node-details/src/nodeDetailManager.ts","../node_modules/@toruslabs/fnd-base/src/utils.ts","../node_modules/@toruslabs/customauth/src/utils/enums.ts","../node_modules/@toruslabs/customauth/src/utils/loglevel.ts","../node_modules/@toruslabs/customauth/src/utils/helpers.ts","../node_modules/@toruslabs/customauth/src/utils/PopupHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/AbstractLoginHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/DiscordHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/FacebookHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/GoogleHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/JwtHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/MockLoginHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/PasswordlessHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/RedditHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/TwitchHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/WebAuthnHandler.ts","../node_modules/@toruslabs/customauth/src/handlers/HandlerFactory.ts","../node_modules/@toruslabs/customauth/src/registerServiceWorker.ts","../node_modules/@toruslabs/customauth/src/sentry.ts","../node_modules/@toruslabs/customauth/src/utils/StorageHelper.ts","../node_modules/@toruslabs/customauth/src/login.ts","../node_modules/@tkey/service-provider-torus/src/TorusServiceProvider.ts","../node_modules/@noble/hashes/src/_sha2.ts","../node_modules/@noble/hashes/src/sha256.ts","../node_modules/ethereum-cryptography/esm/sha256.js","../node_modules/@tkey/share-serialization/src/errors.ts","../node_modules/@tkey/share-serialization/src/english.ts","../node_modules/@tkey/share-serialization/src/utils.ts","../node_modules/@tkey/share-serialization/src/ShareSerializationModule.ts","../node_modules/@tkey/share-transfer/src/errors.ts","../node_modules/@tkey/share-transfer/src/ShareRequest.ts","../node_modules/@tkey/share-transfer/src/ShareTransferStorePointer.ts","../node_modules/@tkey/share-transfer/src/utils.ts","../node_modules/@tkey/share-transfer/src/ShareTransferModule.ts","../node_modules/@tkey/storage-layer-torus/src/MockStorageLayer.ts","../node_modules/@tkey/storage-layer-torus/src/TorusStorageLayer.ts","../node_modules/@tkey/default/src/index.ts","../node_modules/@tkey/security-questions/src/errors.ts","../node_modules/@tkey/security-questions/src/SecurityQuestionStore.ts","../node_modules/@tkey/security-questions/src/SecurityQuestionsModule.ts","../node_modules/@tkey/web-storage/src/errors.ts","../node_modules/@tkey/web-storage/src/utils.ts","../node_modules/@tkey/web-storage/src/FileStorageHelpers.ts","../node_modules/@tkey/web-storage/src/LocalStorageHelpers.ts","../node_modules/@tkey/web-storage/src/WebStorageModule.ts","../node_modules/@toruslabs/constants/src/constants.ts","../node_modules/@toruslabs/eccrypto/src/index.ts","../node_modules/@toruslabs/http-helpers/src/index.ts","../node_modules/@toruslabs/torus.js/src/loglevel.ts","../node_modules/@toruslabs/torus.js/src/some.ts","../node_modules/@toruslabs/torus.js/src/utils.ts","../node_modules/@toruslabs/torus.js/src/torus.ts","../node_modules/bowser/es5.js","../node_modules/lodash.merge/index.js","../node_modules/loglevel/lib/loglevel.js","../node_modules/serialize-error/index.js","../node_modules/sweetalert/dist/sweetalert.min.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@noble/hashes/src/_assert.ts","../node_modules/@noble/hashes/src/utils.ts","../node_modules/@noble/hashes/src/crypto.ts","../node_modules/@noble/hashes/src/_u64.ts","../node_modules/@noble/hashes/src/sha3.ts","../node_modules/ethereum-cryptography/esm/keccak.js","../node_modules/ethereum-cryptography/esm/utils.js","../node_modules/ts-custom-error/dist/src/utils.js","../node_modules/ts-custom-error/dist/src/custom-error.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["// Register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\nvar isLocalhost = function () { return Boolean(\n    window.location.hostname === \"localhost\" ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === \"[::1]\" ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n  ); };\n\nvar waitWindowLoad;\n// https://github.com/yyx990803/register-service-worker/pull/33#discussion_r394181861\nif (typeof window !== \"undefined\") {\n  // Typically, a browser that supports `serviceWorker` should also have supported\n  // `Promise`. But as this package can be used in environments without service\n  // worker support (in that case it would do nothing), there's a chance that\n  // `Promise` does not exist. So we must check for its existence first.\n  if (typeof document !== \"undefined\" && (document.readyState === \"interactive\" || document.readyState === \"complete\")) {\n    waitWindowLoad = Promise.resolve();\n  } else if (typeof Promise !== \"undefined\") {\n    waitWindowLoad = new Promise(function (resolve) { return window.addEventListener(\"load\", resolve); });\n  } else {\n    waitWindowLoad = { then: function (cb) { return window.addEventListener(\"load\", cb); } };\n  }\n}\n\nexports.register = function register(swUrl, hooks) {\n  if ( hooks === void 0 ) hooks = {};\n\n  var registrationOptions = hooks.registrationOptions; if ( registrationOptions === void 0 ) registrationOptions = {};\n  delete hooks.registrationOptions;\n\n  var emit = function (hook) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    if (hooks && hooks[hook]) {\n      hooks[hook].apply(hooks, args);\n    }\n  };\n\n  if (\"serviceWorker\" in navigator) {\n    waitWindowLoad.then(function () {\n      if (isLocalhost()) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, emit, registrationOptions);\n        navigator.serviceWorker.ready.then(function (registration) {\n          emit(\"ready\", registration);\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, emit, registrationOptions);\n        navigator.serviceWorker.ready.then(function (registration) {\n          emit(\"ready\", registration);\n        });\n      }\n    });\n  }\n}\n\nfunction handleError(emit, error) {\n  if (!navigator.onLine) {\n    emit(\"offline\");\n  }\n  emit(\"error\", error);\n}\n\nfunction registerValidSW(swUrl, emit, registrationOptions) {\n  navigator.serviceWorker\n    .register(swUrl, registrationOptions)\n    .then(function (registration) {\n      emit(\"registered\", registration);\n      if (registration.waiting) {\n        emit(\"updated\", registration);\n        return;\n      }\n      registration.onupdatefound = function () {\n        emit(\"updatefound\", registration);\n        var installingWorker = registration.installing;\n        installingWorker.onstatechange = function () {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              emit(\"updated\", registration);\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              emit(\"cached\", registration);\n            }\n          }\n        };\n      };\n    })\n    .catch(function (error) { return handleError(emit, error); });\n}\n\nfunction checkValidServiceWorker(swUrl, emit, registrationOptions) {\n  // Check if the service worker can be found.\n  fetch(swUrl)\n    .then(function (response) {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404) {\n        // No service worker found.\n        emit(\"error\", new Error((\"Service worker not found at \" + swUrl)));\n        unregister();\n      } else if (response.headers.get(\"content-type\").indexOf(\"javascript\") === -1) {\n        emit(\"error\", new Error(\"Expected \" + swUrl + \" to have javascript content-type, \" + \"but received \" + (response.headers.get(\"content-type\"))));\n        unregister();\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, emit, registrationOptions);\n      }\n    })\n    .catch(function (error) { return handleError(emit, error); });\n}\n\nexports.unregister = function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(function (registration) {\n      registration.unregister();\n    });\n  }\n}\n","import { decrypt as ecDecrypt, encrypt as ecEncrypt, generatePrivate } from \"@toruslabs/eccrypto\";\nimport { keccak256, toChecksumAddress } from \"@toruslabs/torus.js\";\nimport BN from \"bn.js\";\nimport { ec as EC } from \"elliptic\";\nimport { serializeError } from \"serialize-error\";\n\nimport { EncryptedMessage } from \"./baseTypes/commonTypes\";\n\n// const privKeyBnToEcc = (bnPrivKey) => {\n//   return bnPrivKey.toBuffer(\"be\", 32);\n// };\n\n// const privKeyBnToPubKeyECC = (bnPrivKey) => {\n//   return getPublic(privKeyBnToEcc(bnPrivKey));\n// };\n\nexport const ecCurve = new EC(\"secp256k1\");\n\n// Wrappers around ECC encrypt/decrypt to use the hex serialization\n// TODO: refactor to take BN\nexport async function encrypt(publicKey: Buffer, msg: Buffer): Promise<EncryptedMessage> {\n  const encryptedDetails = await ecEncrypt(publicKey, msg);\n\n  return {\n    ciphertext: encryptedDetails.ciphertext.toString(\"hex\"),\n    ephemPublicKey: encryptedDetails.ephemPublicKey.toString(\"hex\"),\n    iv: encryptedDetails.iv.toString(\"hex\"),\n    mac: encryptedDetails.mac.toString(\"hex\"),\n  };\n}\n\nexport async function decrypt(privKey: Buffer, msg: EncryptedMessage): Promise<Buffer> {\n  const bufferEncDetails = {\n    ciphertext: Buffer.from(msg.ciphertext, \"hex\"),\n    ephemPublicKey: Buffer.from(msg.ephemPublicKey, \"hex\"),\n    iv: Buffer.from(msg.iv, \"hex\"),\n    mac: Buffer.from(msg.mac, \"hex\"),\n  };\n\n  return ecDecrypt(privKey, bufferEncDetails);\n}\n\nexport function isEmptyObject(obj: unknown): boolean {\n  return Object.keys(obj).length === 0 && obj.constructor === Object;\n}\n\nexport const isErrorObj = (err: Error): boolean => err && err.stack && err.message !== \"\";\n\nexport function prettyPrintError(error: Error): string {\n  if (isErrorObj(error)) {\n    return error.message;\n  }\n  return JSON.stringify(serializeError(error));\n}\n\nexport function generateAddressFromPublicKey(publicKey: Buffer): string {\n  const ethAddressLower = `0x${keccak256(publicKey).slice(64 - 38)}`;\n  return toChecksumAddress(ethAddressLower);\n}\n\nexport function normalize(input: number | string): string {\n  if (!input) {\n    return undefined;\n  }\n  let hexString;\n\n  if (typeof input === \"number\") {\n    hexString = input.toString(16);\n    if (hexString.length % 2) {\n      hexString = `0${hexString}`;\n    }\n  }\n\n  if (typeof input === \"string\") {\n    hexString = input.toLowerCase();\n  }\n\n  return `0x${hexString}`;\n}\n\nexport function generatePrivateExcludingIndexes(shareIndexes: Array<BN>): BN {\n  const key = new BN(generatePrivate());\n  if (shareIndexes.find((el) => el.eq(key))) {\n    return generatePrivateExcludingIndexes(shareIndexes);\n  }\n  return key;\n}\n\nexport const KEY_NOT_FOUND = \"KEY_NOT_FOUND\";\nexport const SHARE_DELETED = \"SHARE_DELETED\";\n\nexport function derivePubKeyXFromPolyID(polyID: string): string {\n  return polyID.split(\"|\")[0].slice(2);\n}\n\nexport function stripHexPrefix(str: string): string {\n  if (str.slice(0, 2) === \"0x\") return str.slice(2);\n  return str;\n}\n\nexport function generateID(): string {\n  // Math.random should be unique because of its seeding algorithm.\n  // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n  // after the decimal.\n  return `${Math.random().toString(36).substr(2, 9)}`;\n}\n","import BN from \"bn.js\";\n\nimport { BNString, IPoint, StringifiedType } from \"../baseTypes/commonTypes\";\nimport { ecCurve } from \"../utils\";\n\nclass Point implements IPoint {\n  x: BN;\n\n  y: BN;\n\n  constructor(x: BNString, y: BNString) {\n    this.x = new BN(x, \"hex\");\n    this.y = new BN(y, \"hex\");\n  }\n\n  static fromCompressedPub(value: string): Point {\n    const key = ecCurve.keyFromPublic(value, \"hex\");\n    const pt = key.getPublic();\n    return new Point(pt.getX(), pt.getY());\n  }\n\n  static fromJSON(value: StringifiedType): Point {\n    const { x, y } = value;\n    return new Point(x, y);\n  }\n\n  // complies with EC and elliptic pub key types\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  encode(enc: string, params?: any): Buffer {\n    switch (enc) {\n      case \"arr\":\n        return Buffer.concat([Buffer.from(\"0x04\", \"hex\"), Buffer.from(this.x.toString(\"hex\"), \"hex\"), Buffer.from(this.y.toString(\"hex\"), \"hex\")]);\n      case \"elliptic-compressed\": {\n        // TODO: WHAT IS THIS.?\n        let ec = params;\n        ec = ecCurve;\n        const key = ec.keyFromPublic({ x: this.x.toString(\"hex\"), y: this.y.toString(\"hex\") }, \"hex\");\n        return Buffer.from(key.getPublic(true, \"hex\"));\n      }\n      default:\n        throw new Error(\"encoding doesnt exist in Point\");\n    }\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      x: this.x.toString(\"hex\"),\n      y: this.y.toString(\"hex\"),\n    };\n  }\n}\n\nexport default Point;\n","import { getPublic } from \"@toruslabs/eccrypto\";\nimport BN from \"bn.js\";\nimport type { curve, ec } from \"elliptic\";\n\nimport { BNString } from \"../baseTypes/commonTypes\";\nimport { ecCurve } from \"../utils\";\nimport Point from \"./Point\";\n\n// These functions are here because BN can't be extended\nexport const toPrivKeyEC = (bn: BN): ec.KeyPair => ecCurve.keyFromPrivate(bn.toString(\"hex\", 64));\n\nexport const toPrivKeyECC = (bn: BNString): Buffer => {\n  const tmp = new BN(bn, \"hex\");\n  return Buffer.from(tmp.toString(\"hex\", 64), \"hex\");\n};\n\nexport const getPubKeyEC = (bn: BN): curve.base.BasePoint => ecCurve.keyFromPrivate(bn.toString(\"hex\", 64)).getPublic();\n\nexport const getPubKeyECC = (bn: BN): Buffer => getPublic(toPrivKeyECC(bn));\n\nexport const getPubKeyPoint = (bn: BN): Point => {\n  const pubKeyEc = getPubKeyEC(bn);\n  return new Point(pubKeyEc.getX().toString(\"hex\"), pubKeyEc.getY().toString(\"hex\"));\n};\n","import { CustomError } from \"ts-custom-error\";\n\n// @flow\nexport interface ITkeyError extends CustomError {\n  name: string;\n  code: number;\n  message: string;\n  toString(): string;\n}\n\nexport type ErrorCodes = {\n  [key: number]: string;\n};\n\nexport abstract class TkeyError extends CustomError implements ITkeyError {\n  code: number;\n\n  message: string;\n\n  public constructor(code?: number, message?: string) {\n    // takes care of stack and proto\n    super(message);\n\n    this.code = code;\n    this.message = message || \"\";\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", { value: \"TkeyError\" });\n  }\n\n  toJSON(): ITkeyError {\n    return {\n      name: this.name,\n      code: this.code,\n      message: this.message,\n    };\n  }\n\n  toString(): string {\n    return JSON.stringify(this.toJSON());\n  }\n}\n","export const ONE_KEY_DELETE_NONCE = \"__ONE_KEY_DELETE_NONCE__\";\nexport const ONE_KEY_NAMESPACE = \"noncev2\";\n","import { ISerializable, PolynomialID, StringifiedType } from \"../baseTypes/commonTypes\";\nimport Point from \"./Point\";\n\nclass PublicPolynomial implements ISerializable {\n  polynomialCommitments: Point[];\n\n  polynomialId: PolynomialID;\n\n  constructor(polynomialCommitments: Point[]) {\n    this.polynomialCommitments = polynomialCommitments;\n  }\n\n  static fromJSON(value: StringifiedType): PublicPolynomial {\n    const points: Point[] = value.polynomialCommitments.map((x: StringifiedType) => Point.fromJSON(x));\n    return new PublicPolynomial(points);\n  }\n\n  getThreshold(): number {\n    return this.polynomialCommitments.length;\n  }\n\n  getPolynomialID(): PolynomialID {\n    let idSeed = \"\";\n    for (let i = 0; i < this.polynomialCommitments.length; i += 1) {\n      let nextChunk = this.polynomialCommitments[i].encode(\"elliptic-compressed\").toString();\n      if (i !== 0) {\n        nextChunk = `|${nextChunk}`;\n      }\n      idSeed += nextChunk;\n    }\n    this.polynomialId = idSeed;\n    return this.polynomialId;\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      polynomialCommitments: this.polynomialCommitments,\n    };\n  }\n}\n\n// @flow\nexport type PublicPolynomialMap = {\n  [polynomialID: string]: PublicPolynomial;\n};\n\nexport default PublicPolynomial;\n","import BN from \"bn.js\";\n\nimport { BNString, ISerializable, StringifiedType } from \"../baseTypes/commonTypes\";\nimport Point from \"./Point\";\n\nclass PublicShare implements ISerializable {\n  shareCommitment: Point;\n\n  shareIndex: BN;\n\n  constructor(shareIndex: BNString, shareCommitment: Point) {\n    this.shareCommitment = new Point(shareCommitment.x, shareCommitment.y);\n    this.shareIndex = new BN(shareIndex, \"hex\");\n  }\n\n  static fromJSON(value: StringifiedType): PublicShare {\n    const { shareCommitment, shareIndex } = value;\n    return new PublicShare(shareIndex, Point.fromJSON(shareCommitment));\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      shareCommitment: this.shareCommitment,\n      shareIndex: this.shareIndex.toString(\"hex\"),\n    };\n  }\n}\n\nexport default PublicShare;\n\ntype PublicShareShareIndexMap = {\n  [shareIndex: string]: PublicShare;\n};\n\n// @flow\nexport type PublicSharePolyIDShareIndexMap = {\n  [polynomialID: string]: PublicShareShareIndexMap;\n};\n","import BN from \"bn.js\";\n\nimport { BNString, ISerializable, StringifiedType } from \"../baseTypes/commonTypes\";\nimport { getPubKeyPoint } from \"./BNUtils\";\nimport PublicShare from \"./PublicShare\";\n\nclass Share implements ISerializable {\n  share: BN;\n\n  shareIndex: BN;\n\n  constructor(shareIndex: BNString, share: BNString) {\n    this.share = new BN(share, \"hex\");\n    this.shareIndex = new BN(shareIndex, \"hex\");\n  }\n\n  static fromJSON(value: StringifiedType): Share {\n    const { share, shareIndex } = value;\n    return new Share(shareIndex, share);\n  }\n\n  getPublicShare(): PublicShare {\n    return new PublicShare(this.shareIndex, getPubKeyPoint(this.share));\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      share: this.share.toString(\"hex\"),\n      shareIndex: this.shareIndex.toString(\"hex\"),\n    };\n  }\n}\n\nexport default Share;\n","import BN from \"bn.js\";\n\nimport { BNString, ISerializable, PolynomialID, StringifiedType } from \"../baseTypes/commonTypes\";\nimport { ecCurve } from \"../utils\";\nimport { getPubKeyPoint } from \"./BNUtils\";\nimport Point from \"./Point\";\nimport PublicPolynomial from \"./PublicPolynomial\";\nimport Share from \"./Share\";\n\n// @flow\nexport type ShareMap = {\n  [x: string]: Share;\n};\n\nclass Polynomial implements ISerializable {\n  polynomial: BN[];\n\n  publicPolynomial: PublicPolynomial;\n\n  constructor(polynomial: BN[]) {\n    this.polynomial = polynomial;\n  }\n\n  static fromJSON(value: StringifiedType): Polynomial {\n    const { polynomial } = value;\n    return new Polynomial(polynomial.map((x: string) => new BN(x, \"hex\")));\n  }\n\n  getThreshold(): number {\n    return this.polynomial.length;\n  }\n\n  polyEval(x: BNString): BN {\n    const tmpX = new BN(x, \"hex\");\n    let xi = new BN(tmpX);\n    let sum = new BN(0);\n    sum = sum.add(this.polynomial[0]);\n    for (let i = 1; i < this.polynomial.length; i += 1) {\n      const tmp = xi.mul(this.polynomial[i]);\n      sum = sum.add(tmp);\n      sum = sum.umod(ecCurve.curve.n);\n      xi = xi.mul(new BN(tmpX));\n      xi = xi.umod(ecCurve.curve.n);\n    }\n    return sum;\n  }\n\n  generateShares(shareIndexes: BNString[]): ShareMap {\n    const newShareIndexes = shareIndexes.map((index) => {\n      if (typeof index === \"number\") {\n        return new BN(index);\n      }\n      if (index instanceof BN) {\n        return index;\n      }\n      if (typeof index === \"string\") {\n        return new BN(index, \"hex\");\n      }\n      return index;\n    });\n\n    const shares: ShareMap = {};\n    for (let x = 0; x < newShareIndexes.length; x += 1) {\n      shares[newShareIndexes[x].toString(\"hex\")] = new Share(newShareIndexes[x], this.polyEval(newShareIndexes[x]));\n    }\n    return shares;\n  }\n\n  getPublicPolynomial(): PublicPolynomial {\n    const polynomialCommitments: Point[] = [];\n    for (let i = 0; i < this.polynomial.length; i += 1) {\n      polynomialCommitments.push(getPubKeyPoint(this.polynomial[i]));\n    }\n    this.publicPolynomial = new PublicPolynomial(polynomialCommitments);\n    return this.publicPolynomial;\n  }\n\n  getPolynomialID(): PolynomialID {\n    return this.publicPolynomial.polynomialId;\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      polynomial: this.polynomial.map((x) => x.toString(\"hex\")),\n    };\n  }\n}\n\nexport default Polynomial;\n","import { ISerializable, PolynomialID, StringifiedType } from \"../baseTypes/commonTypes\";\nimport Share from \"./Share\";\n\nclass ShareStore implements ISerializable {\n  share: Share;\n\n  polynomialID: PolynomialID;\n\n  constructor(share: Share, polynomialID: PolynomialID) {\n    this.share = share;\n    this.polynomialID = polynomialID;\n  }\n\n  static fromJSON(value: StringifiedType): ShareStore {\n    const { share, polynomialID } = value;\n    return new ShareStore(Share.fromJSON(share), polynomialID);\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      share: this.share,\n      polynomialID: this.polynomialID.toString(),\n    };\n  }\n}\n\nexport type EncryptedShareStore = {\n  [shareCommitment: string]: ShareStore;\n};\n\n// @flow\nexport type ShareStoreMap = {\n  [shareIndex: string]: ShareStore;\n};\n\nexport type ShareStorePolyIDShareIndexMap = {\n  [polynomialID: string]: ShareStoreMap;\n};\n\nexport default ShareStore;\n","import { ErrorCodes, ITkeyError, TkeyError } from \"@tkey/common-types\";\n\n/**\n * CoreError, extension for Error using CustomError\n * details: github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n *\n * Usage:\n * 1. throw CoreError.metadataUndefined() // regularly used errors\n * 2. throw CoreError.fromCode(1304); // throw via code\n * 3. throw new CoreError(1000, \"share indexes should be unique\"); // for scarce errors\n *\n * Guide:\n * 1000 - core\n * 2000 - security questions\n * 3000 - webstorage\n * 4000 - common types (code reserved for future implementation)\n * 5000 - private key\n * 6000 - seed phrase\n * 7000 - share serialization\n * 8000 - share transfer\n */\nclass CoreError extends TkeyError {\n  protected static messages: ErrorCodes = {\n    1000: \"Custom\",\n    // Misc\n    1001: \"Unable to delete service provider share\",\n    1002: \"Wrong share index\",\n    1003: \"Unable to updateSDK\",\n    // metadata\n    1101: \"metadata not found, SDK likely not initialized\",\n    1102: \"getMetadata errored\",\n    1103: \"setMetadata errored\",\n    1104: \"previouslyFetchedCloudMetadata provided in initialization is outdated\",\n    1105: \"previouslyFetchedCloudMetadata.nonce should never be higher than the latestShareDetails, please contact support\",\n    // tkeystore\n    1201: \"Invalid tkeyStore\",\n    1202: \"Encryption failed\",\n    1203: \"Decryption failed\",\n    // shares\n    1301: \"Private key not available. Please reconstruct key first\",\n    1302: \"Unable to reconstruct\",\n    1303: \"reconstructed key is not pub key\",\n    1304: \"Share found in unexpected polynomial\",\n    1305: \"Input is not supported\",\n    1306: \"no encrypted share store for share exists\",\n    1307: \"Share doesn't exist\",\n    1308: \"Share was deleted\",\n    // lock\n    1401: \"Unable to acquire lock\",\n    1402: \"Unable to release lock\",\n    // auth metadata\n    1501: \"privkey unavailable\",\n    1502: \"metadata pubkey unavailable\",\n    1503: \"getAuthMetadata errored\",\n    1504: \"setAuthMetadata errored\",\n    1601: \"delete1OutOf1 requires manualSync=true\",\n  };\n\n  public constructor(code: number, message: string) {\n    // takes care of stack and proto\n    super(code, message);\n\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", { value: \"CoreError\" });\n  }\n\n  public static fromCode(code: number, extraMessage = \"\"): ITkeyError {\n    return new CoreError(code, `${CoreError.messages[code]} ${extraMessage}`);\n  }\n\n  public static default(extraMessage = \"\"): ITkeyError {\n    return new CoreError(1000, `${CoreError.messages[1000]} ${extraMessage}`);\n  }\n\n  // Custom methods\n  // Metadata\n  public static metadataUndefined(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1101, extraMessage);\n  }\n\n  public static delete1OutOf1OnlyManualSync(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1601, extraMessage);\n  }\n\n  public static metadataGetFailed(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1102, extraMessage);\n  }\n\n  public static metadataPostFailed(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1103, extraMessage);\n  }\n\n  // TkeyData\n  public static tkeyStoreInvalid(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1201, extraMessage);\n  }\n\n  public static tkeyEncryptionFailed(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1202, extraMessage);\n  }\n\n  public static tkeyDecryptionFailed(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1203, extraMessage);\n  }\n\n  // Shares\n  public static privateKeyUnavailable(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1301, extraMessage);\n  }\n\n  public static unableToReconstruct(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1302, extraMessage);\n  }\n\n  public static incorrectReconstruction(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1303, extraMessage);\n  }\n\n  public static encryptedShareStoreUnavailable(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1306, extraMessage);\n  }\n\n  // Metadata locks\n  public static acquireLockFailed(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1401, extraMessage);\n  }\n\n  public static releaseLockFailed(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1402, extraMessage);\n  }\n\n  // Authmetadata\n  public static privKeyUnavailable(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1501, extraMessage);\n  }\n\n  public static metadataPubKeyUnavailable(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1502, extraMessage);\n  }\n\n  public static authMetadataGetUnavailable(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1503, extraMessage);\n  }\n\n  public static authMetadataSetUnavailable(extraMessage = \"\"): ITkeyError {\n    return CoreError.fromCode(1504, extraMessage);\n  }\n}\nexport default CoreError;\n","import { ecCurve, generatePrivateExcludingIndexes, Point, Polynomial, Share } from \"@tkey/common-types\";\nimport { generatePrivate } from \"@toruslabs/eccrypto\";\nimport BN from \"bn.js\";\nimport { curve } from \"elliptic\";\n\nimport CoreError from \"./errors\";\n\nconst generateEmptyBNArray = (length: number): BN[] => Array.from({ length }, () => new BN(0));\n\nconst denominator = (i: number, innerPoints: Array<Point>) => {\n  let result = new BN(1);\n  const xi = innerPoints[i].x;\n  for (let j = innerPoints.length - 1; j >= 0; j -= 1) {\n    if (i !== j) {\n      let tmp = new BN(xi);\n      tmp = tmp.sub(innerPoints[j].x);\n      tmp = tmp.umod(ecCurve.curve.n);\n      result = result.mul(tmp);\n      result = result.umod(ecCurve.curve.n);\n    }\n  }\n  return result;\n};\n\nconst interpolationPoly = (i: number, innerPoints: Array<Point>): BN[] => {\n  let coefficients = generateEmptyBNArray(innerPoints.length);\n  const d = denominator(i, innerPoints);\n  if (d.cmp(new BN(0)) === 0) {\n    throw CoreError.default(\"Denominator for interpolationPoly is 0\");\n  }\n  coefficients[0] = d.invm(ecCurve.curve.n);\n  for (let k = 0; k < innerPoints.length; k += 1) {\n    const newCoefficients = generateEmptyBNArray(innerPoints.length);\n    if (k !== i) {\n      let j: number;\n      if (k < i) {\n        j = k + 1;\n      } else {\n        j = k;\n      }\n      j -= 1;\n      for (; j >= 0; j -= 1) {\n        newCoefficients[j + 1] = newCoefficients[j + 1].add(coefficients[j]);\n        newCoefficients[j + 1] = newCoefficients[j + 1].umod(ecCurve.curve.n);\n        let tmp = new BN(innerPoints[k].x);\n        tmp = tmp.mul(coefficients[j]);\n        tmp = tmp.umod(ecCurve.curve.n);\n        newCoefficients[j] = newCoefficients[j].sub(tmp);\n        newCoefficients[j] = newCoefficients[j].umod(ecCurve.curve.n);\n      }\n      coefficients = newCoefficients;\n    }\n  }\n  return coefficients;\n};\n\nconst pointSort = (innerPoints: Point[]): Point[] => {\n  const pointArrClone = [...innerPoints];\n  pointArrClone.sort((a, b) => a.x.cmp(b.x));\n  return pointArrClone;\n};\n\nconst lagrange = (unsortedPoints: Point[]) => {\n  const sortedPoints = pointSort(unsortedPoints);\n  const polynomial = generateEmptyBNArray(sortedPoints.length);\n  for (let i = 0; i < sortedPoints.length; i += 1) {\n    const coefficients = interpolationPoly(i, sortedPoints);\n    for (let k = 0; k < sortedPoints.length; k += 1) {\n      let tmp = new BN(sortedPoints[i].y);\n      tmp = tmp.mul(coefficients[k]);\n      polynomial[k] = polynomial[k].add(tmp);\n      polynomial[k] = polynomial[k].umod(ecCurve.curve.n);\n    }\n  }\n  return new Polynomial(polynomial);\n};\n\nexport function lagrangeInterpolatePolynomial(points: Array<Point>): Polynomial {\n  return lagrange(points);\n}\n\nexport function lagrangeInterpolation(shares: BN[], nodeIndex: BN[]): BN {\n  if (shares.length !== nodeIndex.length) {\n    throw CoreError.default(\"shares not equal to nodeIndex length in lagrangeInterpolation\");\n  }\n  let secret = new BN(0);\n  for (let i = 0; i < shares.length; i += 1) {\n    let upper = new BN(1);\n    let lower = new BN(1);\n    for (let j = 0; j < shares.length; j += 1) {\n      if (i !== j) {\n        upper = upper.mul(nodeIndex[j].neg());\n        upper = upper.umod(ecCurve.curve.n);\n        let temp = nodeIndex[i].sub(nodeIndex[j]);\n        temp = temp.umod(ecCurve.curve.n);\n        lower = lower.mul(temp).umod(ecCurve.curve.n);\n      }\n    }\n    let delta = upper.mul(lower.invm(ecCurve.curve.n)).umod(ecCurve.curve.n);\n    delta = delta.mul(shares[i]).umod(ecCurve.curve.n);\n    secret = secret.add(delta);\n  }\n  return secret.umod(ecCurve.curve.n);\n}\n\n// generateRandomPolynomial - determinisiticShares are assumed random\nexport function generateRandomPolynomial(degree: number, secret?: BN, deterministicShares?: Array<Share>): Polynomial {\n  let actualS = secret;\n  if (!secret) {\n    actualS = generatePrivateExcludingIndexes([new BN(0)]);\n  }\n  if (!deterministicShares) {\n    const poly = [actualS];\n    for (let i = 0; i < degree; i += 1) {\n      const share = generatePrivateExcludingIndexes(poly);\n      poly.push(share);\n    }\n    return new Polynomial(poly);\n  }\n  if (!Array.isArray(deterministicShares)) {\n    throw CoreError.default(\"deterministic shares in generateRandomPolynomial should be an array\");\n  }\n\n  if (deterministicShares.length > degree) {\n    throw CoreError.default(\"deterministicShares in generateRandomPolynomial should be less or equal than degree to ensure an element of randomness\");\n  }\n  const points = {};\n  deterministicShares.forEach((share) => {\n    points[share.shareIndex.toString(\"hex\")] = new Point(share.shareIndex, share.share);\n  });\n  for (let i = 0; i < degree - deterministicShares.length; i += 1) {\n    let shareIndex = generatePrivateExcludingIndexes([new BN(0)]);\n    while (points[shareIndex.toString(\"hex\")] !== undefined) {\n      shareIndex = generatePrivateExcludingIndexes([new BN(0)]);\n    }\n    points[shareIndex.toString(\"hex\")] = new Point(shareIndex, new BN(generatePrivate()));\n  }\n  points[\"0\"] = new Point(new BN(0), actualS);\n  return lagrangeInterpolatePolynomial(Object.values(points));\n}\n\n//  2 + 3x = y | secret for index 1 is 5 >>> g^5 is the commitment | now we have g^2, g^3 and 1, |\nexport function polyCommitmentEval(polyCommitments: Array<Point>, index: BN): Point {\n  // convert to base points, this is badly written, its the only way to access the point rn zzz TODO: refactor\n  const basePtPolyCommitments: Array<curve.base.BasePoint> = [];\n  for (let i = 0; i < polyCommitments.length; i += 1) {\n    const key = ecCurve.keyFromPublic({ x: polyCommitments[i].x.toString(\"hex\"), y: polyCommitments[i].y.toString(\"hex\") }, \"\");\n    basePtPolyCommitments.push(key.getPublic());\n  }\n  let shareCommitment = basePtPolyCommitments[0];\n  for (let i = 1; i < basePtPolyCommitments.length; i += 1) {\n    const factor = index.pow(new BN(i)).umod(ecCurve.n);\n    const e = basePtPolyCommitments[i].mul(factor);\n    shareCommitment = shareCommitment.add(e);\n  }\n  return new Point(shareCommitment.getX(), shareCommitment.getY());\n}\n","import {\n  decrypt,\n  ecCurve,\n  EncryptedMessage,\n  getPubKeyPoint,\n  IMetadata,\n  Point,\n  PolyIDAndShares,\n  Polynomial,\n  PolynomialID,\n  PublicPolynomial,\n  PublicPolynomialMap,\n  PublicShare,\n  PublicSharePolyIDShareIndexMap,\n  Share,\n  ShareDescriptionMap,\n  ShareMap,\n  ShareStore,\n  StringifiedType,\n  toPrivKeyECC,\n} from \"@tkey/common-types\";\nimport BN from \"bn.js\";\nimport stringify from \"json-stable-stringify\";\n\nimport CoreError from \"./errors\";\nimport { polyCommitmentEval } from \"./lagrangeInterpolatePolynomial\";\n\nclass Metadata implements IMetadata {\n  pubKey: Point;\n\n  publicPolynomials: PublicPolynomialMap;\n\n  publicShares: PublicSharePolyIDShareIndexMap;\n\n  // Tuple of PolyID and array of ShareIndexes\n  polyIDList: PolyIDAndShares[];\n\n  generalStore: {\n    [moduleName: string]: unknown;\n  };\n\n  tkeyStore: {\n    [moduleName: string]: unknown;\n  };\n\n  scopedStore: {\n    [moduleName: string]: unknown;\n  };\n\n  nonce: number;\n\n  constructor(input: Point) {\n    this.publicPolynomials = {};\n    this.publicShares = {};\n    this.generalStore = {};\n    this.tkeyStore = {};\n    this.scopedStore = {};\n    this.pubKey = input;\n    this.polyIDList = [];\n    this.nonce = 0;\n  }\n\n  static fromJSON(value: StringifiedType): Metadata {\n    const { pubKey, polyIDList, generalStore, tkeyStore, scopedStore, nonce } = value;\n    const point = Point.fromCompressedPub(pubKey);\n    const metadata = new Metadata(point);\n    const unserializedPolyIDList: PolyIDAndShares[] = [];\n\n    if (generalStore) metadata.generalStore = generalStore;\n    if (tkeyStore) metadata.tkeyStore = tkeyStore;\n    if (scopedStore) metadata.scopedStore = scopedStore;\n    if (nonce) metadata.nonce = nonce;\n\n    for (let i = 0; i < polyIDList.length; i += 1) {\n      const serializedPolyID: string = polyIDList[i];\n      const arrPolyID = serializedPolyID.split(\"|\");\n      const zeroIndex = arrPolyID.findIndex((v) => v === \"0x0\");\n      const firstHalf = arrPolyID.slice(0, zeroIndex);\n      const secondHalf = arrPolyID.slice(zeroIndex + 1, arrPolyID.length);\n      // for publicPolynomials\n      const pubPolyID = firstHalf.join(\"|\");\n      const pointCommitments = [];\n      firstHalf.forEach((compressedCommitment) => {\n        pointCommitments.push(Point.fromCompressedPub(compressedCommitment));\n      });\n      const publicPolynomial = new PublicPolynomial(pointCommitments);\n      metadata.publicPolynomials[pubPolyID] = publicPolynomial;\n\n      // for polyIDList\n      unserializedPolyIDList.push([pubPolyID, secondHalf]);\n    }\n\n    metadata.polyIDList = unserializedPolyIDList;\n    return metadata;\n  }\n\n  getShareIndexesForPolynomial(polyID: PolynomialID): Array<string> {\n    const matchingPolyIDs = this.polyIDList.filter((tuple) => tuple[0] === polyID);\n    if (matchingPolyIDs.length < 1) {\n      throw CoreError.default(\"there is no matching polyID\");\n    } else if (matchingPolyIDs.length > 1) {\n      throw CoreError.default(\"there is more than one matching polyID\");\n    }\n    return matchingPolyIDs[0][1];\n  }\n\n  getLatestPublicPolynomial(): PublicPolynomial {\n    return this.publicPolynomials[this.polyIDList[this.polyIDList.length - 1][0]];\n  }\n\n  addPublicShare(polynomialID: PolynomialID, publicShare: PublicShare): void {\n    if (!(polynomialID in this.publicShares)) {\n      this.publicShares[polynomialID] = {};\n    }\n    this.publicShares[polynomialID][publicShare.shareIndex.toString(\"hex\")] = publicShare;\n  }\n\n  // getPublicShare(polynomialID: PolynomialID, shareIndex: BN): PublicShare {\n\n  // }\n\n  setGeneralStoreDomain(key: string, obj: unknown): void {\n    this.generalStore[key] = obj;\n  }\n\n  getGeneralStoreDomain(key: string): unknown {\n    return this.generalStore[key];\n  }\n\n  deleteGeneralStoreDomain(key: string): void {\n    delete this.generalStore[key];\n  }\n\n  setTkeyStoreDomain(key: string, arr: unknown): void {\n    this.tkeyStore[key] = arr;\n  }\n\n  getTkeyStoreDomain(key: string): unknown {\n    return this.tkeyStore[key];\n  }\n\n  // appends shares and public polynomial to metadata.\n  // should represent a generation of share or edit of threshold\n  addFromPolynomialAndShares(polynomial: Polynomial, shares: Share[] | ShareMap): void {\n    const publicPolynomial = polynomial.getPublicPolynomial();\n    const polyID = publicPolynomial.getPolynomialID();\n    this.publicPolynomials[polyID] = publicPolynomial;\n\n    const shareIndexArr = [];\n    if (Array.isArray(shares)) {\n      for (let i = 0; i < shares.length; i += 1) {\n        this.addPublicShare(publicPolynomial.getPolynomialID(), shares[i].getPublicShare());\n        shareIndexArr.push(shares[i].shareIndex.toString(\"hex\"));\n      }\n    } else {\n      for (const k in shares) {\n        if (Object.prototype.hasOwnProperty.call(shares, k)) {\n          this.addPublicShare(publicPolynomial.getPolynomialID(), shares[k].getPublicShare());\n          shareIndexArr.push(shares[k].shareIndex.toString(\"hex\"));\n        }\n      }\n    }\n    this.polyIDList.push([polyID, shareIndexArr]);\n  }\n\n  setScopedStore(domain: string, data: unknown): void {\n    this.scopedStore[domain] = data;\n  }\n\n  async getEncryptedShare(shareStore: ShareStore): Promise<ShareStore> {\n    const pubShare = shareStore.share.getPublicShare();\n    const encryptedShareStore = this.scopedStore.encryptedShares;\n    if (!encryptedShareStore) {\n      throw CoreError.encryptedShareStoreUnavailable(`${shareStore}`);\n    }\n    const encryptedShare = encryptedShareStore[pubShare.shareCommitment.x.toString(\"hex\")];\n    if (!encryptedShare) {\n      throw CoreError.encryptedShareStoreUnavailable(`${shareStore}`);\n    }\n    const rawDecrypted = await decrypt(toPrivKeyECC(shareStore.share.share), encryptedShare as EncryptedMessage);\n    return ShareStore.fromJSON(JSON.parse(rawDecrypted.toString()));\n  }\n\n  getShareDescription(): ShareDescriptionMap {\n    return this.getGeneralStoreDomain(\"shareDescriptions\") as ShareDescriptionMap;\n  }\n\n  addShareDescription(shareIndex: string, description: string): void {\n    const currentSD = this.getGeneralStoreDomain(\"shareDescriptions\") || {};\n    if (currentSD[shareIndex]) {\n      currentSD[shareIndex].push(description);\n    } else {\n      currentSD[shareIndex] = [description];\n    }\n    this.setGeneralStoreDomain(\"shareDescriptions\", currentSD);\n  }\n\n  deleteShareDescription(shareIndex: string, description: string): void {\n    const currentSD = this.getGeneralStoreDomain(\"shareDescriptions\");\n    const index = currentSD[shareIndex].indexOf(description);\n    if (index > -1) {\n      currentSD[shareIndex].splice(index, 1);\n    } else {\n      throw CoreError.default(`No share description found for the given shareIndex: ${shareIndex} \n        and description: ${description}`);\n    }\n  }\n\n  updateShareDescription(shareIndex: string, oldDescription: string, newDescription: string): void {\n    const currentSD = this.getGeneralStoreDomain(\"shareDescriptions\");\n    const index = currentSD[shareIndex].indexOf(oldDescription);\n    if (index > -1) {\n      currentSD[shareIndex][index] = newDescription;\n    } else {\n      throw CoreError.default(`No share description found for the given shareIndex:\n        ${shareIndex} and description: ${oldDescription}`);\n    }\n  }\n\n  shareToShareStore(share: BN): ShareStore {\n    const pubkey = getPubKeyPoint(share);\n    let returnShare: ShareStore;\n\n    for (let i = this.polyIDList.length - 1; i >= 0; i -= 1) {\n      const el = this.polyIDList[i][0];\n\n      for (let t = 0; t < this.polyIDList[i][1].length; t += 1) {\n        const shareIndex = this.polyIDList[i][1][t];\n        // find pubshare in cache if its there\n        let pubShare: PublicShare;\n        if (this.publicShares[el]) {\n          if (this.publicShares[el][shareIndex]) {\n            pubShare = this.publicShares[el][shareIndex];\n          }\n        }\n\n        // if not reconstruct\n        if (!pubShare) {\n          pubShare = new PublicShare(shareIndex, polyCommitmentEval(this.publicPolynomials[el].polynomialCommitments, new BN(shareIndex, \"hex\")));\n        }\n        if (pubShare.shareCommitment.x.eq(pubkey.x) && pubShare.shareCommitment.y.eq(pubkey.y)) {\n          const tempShare = new Share(pubShare.shareIndex, share);\n          return new ShareStore(tempShare, el);\n        }\n      }\n    }\n    if (!returnShare) {\n      throw CoreError.fromCode(1307);\n    }\n    return returnShare;\n  }\n\n  clone(): Metadata {\n    return Metadata.fromJSON(JSON.parse(stringify(this)));\n  }\n\n  toJSON(): StringifiedType {\n    // squash data to serialized polyID according to spec\n    const serializedPolyIDList = [];\n    for (let i = 0; i < this.polyIDList.length; i += 1) {\n      const polyID = this.polyIDList[i][0];\n      const shareIndexes = this.polyIDList[i][1];\n      const sortedShareIndexes = shareIndexes.sort((a: string, b: string) => new BN(a, \"hex\").cmp(new BN(b, \"hex\")));\n      const serializedPolyID = polyID\n        .split(`|`)\n        .concat(\"0x0\")\n        .concat(...sortedShareIndexes)\n        .join(\"|\");\n      serializedPolyIDList.push(serializedPolyID);\n    }\n\n    return {\n      pubKey: this.pubKey.encode(\"elliptic-compressed\", { ec: ecCurve }).toString(),\n      polyIDList: serializedPolyIDList,\n      scopedStore: this.scopedStore,\n      generalStore: this.generalStore,\n      tkeyStore: this.tkeyStore,\n      nonce: this.nonce,\n    };\n  }\n}\n\nexport default Metadata;\n","import { ecCurve, IAuthMetadata, StringifiedType, stripHexPrefix, toPrivKeyEC } from \"@tkey/common-types\";\nimport { keccak256 } from \"@toruslabs/torus.js\";\nimport BN from \"bn.js\";\nimport stringify from \"json-stable-stringify\";\n\nimport CoreError from \"./errors\";\nimport Metadata from \"./metadata\";\n\nclass AuthMetadata implements IAuthMetadata {\n  metadata: Metadata;\n\n  privKey: BN;\n\n  constructor(metadata: Metadata, privKey?: BN) {\n    this.metadata = metadata;\n    this.privKey = privKey;\n  }\n\n  static fromJSON(value: StringifiedType): AuthMetadata {\n    const { data, sig } = value;\n\n    const m = Metadata.fromJSON(data);\n    if (!m.pubKey) throw CoreError.metadataPubKeyUnavailable();\n\n    const pubK = ecCurve.keyFromPublic({ x: m.pubKey.x.toString(\"hex\", 64), y: m.pubKey.y.toString(\"hex\", 64) }, \"hex\");\n    if (!pubK.verify(stripHexPrefix(keccak256(Buffer.from(stringify(data), \"utf8\"))), sig)) {\n      throw CoreError.default(\"Signature not valid for returning metadata\");\n    }\n    return new AuthMetadata(m);\n  }\n\n  toJSON(): StringifiedType {\n    const data = this.metadata;\n\n    if (!this.privKey) throw CoreError.privKeyUnavailable();\n    const k = toPrivKeyEC(this.privKey);\n    const sig = k.sign(stripHexPrefix(keccak256(Buffer.from(stringify(data), \"utf8\"))));\n\n    return {\n      data,\n      sig: sig.toDER(\"hex\"),\n    };\n  }\n}\n\nexport default AuthMetadata;\n","import {\n  BNString,\n  CatchupToLatestShareResult,\n  decrypt,\n  DeleteShareResult,\n  encrypt,\n  EncryptedMessage,\n  FromJSONConstructor,\n  GenerateNewShareResult,\n  generatePrivateExcludingIndexes,\n  getPubKeyECC,\n  getPubKeyPoint,\n  IMessageMetadata,\n  IMetadata,\n  InitializeNewKeyResult,\n  IServiceProvider,\n  IStorageLayer,\n  ITKey,\n  ITKeyApi,\n  KEY_NOT_FOUND,\n  KeyDetails,\n  LocalMetadataTransitions,\n  LocalTransitionData,\n  LocalTransitionShares,\n  ModuleMap,\n  ONE_KEY_DELETE_NONCE,\n  Point,\n  Polynomial,\n  PolynomialID,\n  prettyPrintError,\n  ReconstructedKeyResult,\n  ReconstructKeyMiddlewareMap,\n  RefreshMiddlewareMap,\n  RefreshSharesResult,\n  Share,\n  SHARE_DELETED,\n  ShareSerializationMiddleware,\n  ShareStore,\n  ShareStoreMap,\n  ShareStorePolyIDShareIndexMap,\n  StringifiedType,\n  TKeyArgs,\n  TkeyStoreItemType,\n  toPrivKeyECC,\n} from \"@tkey/common-types\";\nimport { generatePrivate } from \"@toruslabs/eccrypto\";\nimport BN from \"bn.js\";\nimport stringify from \"json-stable-stringify\";\n\nimport AuthMetadata from \"./authMetadata\";\nimport CoreError from \"./errors\";\nimport { generateRandomPolynomial, lagrangeInterpolatePolynomial, lagrangeInterpolation } from \"./lagrangeInterpolatePolynomial\";\nimport Metadata from \"./metadata\";\n\n// TODO: handle errors for get and set with retries\n\nclass ThresholdKey implements ITKey {\n  modules: ModuleMap;\n\n  enableLogging: boolean;\n\n  serviceProvider: IServiceProvider;\n\n  storageLayer: IStorageLayer;\n\n  shares: ShareStorePolyIDShareIndexMap;\n\n  privKey: BN;\n\n  lastFetchedCloudMetadata: Metadata;\n\n  metadata: Metadata;\n\n  manualSync: boolean;\n\n  _localMetadataTransitions: LocalMetadataTransitions;\n\n  _refreshMiddleware: RefreshMiddlewareMap;\n\n  _reconstructKeyMiddleware: ReconstructKeyMiddlewareMap;\n\n  _shareSerializationMiddleware: ShareSerializationMiddleware;\n\n  storeDeviceShare: (deviceShareStore: ShareStore, customDeviceInfo?: StringifiedType) => Promise<void>;\n\n  haveWriteMetadataLock: string;\n\n  serverTimeOffset?: number = 0;\n\n  constructor(args?: TKeyArgs) {\n    const { enableLogging = false, modules = {}, serviceProvider, storageLayer, manualSync = false, serverTimeOffset } = args || {};\n    this.enableLogging = enableLogging;\n    this.serviceProvider = serviceProvider;\n    this.storageLayer = storageLayer;\n    this.modules = modules;\n    this.shares = {};\n    this.privKey = undefined;\n    this.manualSync = manualSync;\n    this._refreshMiddleware = {};\n    this._reconstructKeyMiddleware = {};\n    this._shareSerializationMiddleware = undefined;\n    this.storeDeviceShare = undefined;\n    this._localMetadataTransitions = [[], []];\n    this.setModuleReferences(); // Providing ITKeyApi access to modules\n    this.haveWriteMetadataLock = \"\";\n    this.serverTimeOffset = serverTimeOffset;\n  }\n\n  static async fromJSON(value: StringifiedType, args: TKeyArgs): Promise<ThresholdKey> {\n    const { enableLogging, privKey, metadata, shares, _localMetadataTransitions, manualSync, lastFetchedCloudMetadata, serverTimeOffset } = value;\n    const { storageLayer, serviceProvider, modules } = args;\n\n    const tb = new ThresholdKey({\n      enableLogging,\n      storageLayer,\n      serviceProvider,\n      modules,\n      manualSync,\n      serverTimeOffset,\n    });\n    if (privKey) tb.privKey = new BN(privKey, \"hex\");\n\n    for (const key in shares) {\n      if (Object.prototype.hasOwnProperty.call(shares, key)) {\n        const shareStoreMapElement = shares[key];\n        for (const shareElementKey in shareStoreMapElement) {\n          if (Object.prototype.hasOwnProperty.call(shareStoreMapElement, shareElementKey)) {\n            const shareStore = shareStoreMapElement[shareElementKey];\n            shareStoreMapElement[shareElementKey] = ShareStore.fromJSON(shareStore);\n          }\n        }\n      }\n    }\n    tb.shares = shares;\n\n    // switch to deserialize local metadata transition based on Object.keys() of authMetadata, ShareStore's and, IMessageMetadata\n    const AuthMetadataKeys = Object.keys(JSON.parse(stringify(new AuthMetadata(new Metadata(new Point(\"0\", \"0\")), new BN(\"0\", \"hex\")))));\n    const ShareStoreKeys = Object.keys(JSON.parse(stringify(new ShareStore(new Share(\"0\", \"0\"), \"\"))));\n    const sampleMessageMetadata: IMessageMetadata = { message: \"Sample message\", dateAdded: Date.now() };\n    const MessageMetadataKeys = Object.keys(sampleMessageMetadata);\n\n    const localTransitionShares: LocalTransitionShares = [];\n    const localTransitionData: LocalTransitionData = [];\n\n    _localMetadataTransitions[0].forEach((x, index) => {\n      if (x) {\n        localTransitionShares.push(new BN(x, \"hex\"));\n      } else {\n        localTransitionShares.push(undefined);\n      }\n\n      const keys = Object.keys(_localMetadataTransitions[1][index]);\n      if (keys.length === AuthMetadataKeys.length && keys.every((val) => AuthMetadataKeys.includes(val))) {\n        const tempAuth = AuthMetadata.fromJSON(_localMetadataTransitions[1][index]);\n        tempAuth.privKey = privKey;\n        localTransitionData.push(tempAuth);\n      } else if (keys.length === ShareStoreKeys.length && keys.every((val) => ShareStoreKeys.includes(val))) {\n        localTransitionData.push(ShareStore.fromJSON(_localMetadataTransitions[1][index]));\n      } else if (keys.length === MessageMetadataKeys.length && keys.every((val) => MessageMetadataKeys.includes(val))) {\n        localTransitionData.push(_localMetadataTransitions[1][index] as IMessageMetadata);\n      } else {\n        throw CoreError.default(\"fromJSON failed. Could not deserialise _localMetadataTransitions\");\n      }\n    });\n\n    if (metadata || lastFetchedCloudMetadata) {\n      let tempMetadata: Metadata;\n      let tempCloud: Metadata;\n      let shareToUseForSerialization: ShareStore;\n\n      // if service provider key is missing, we should initialize with one of the existing shares\n      // TODO: fix for deleted share\n      if (tb.serviceProvider.postboxKey.toString(\"hex\") === \"0\") {\n        const latestPolyIDOnCloud = Metadata.fromJSON(lastFetchedCloudMetadata).getLatestPublicPolynomial().getPolynomialID();\n        const shareIndexesExistInSDK = Object.keys(shares[latestPolyIDOnCloud]);\n        const randomIndex = shareIndexesExistInSDK[Math.floor(Math.random() * (shareIndexesExistInSDK.length - 1))];\n        if (shareIndexesExistInSDK.length >= 1) {\n          shareToUseForSerialization = shares[latestPolyIDOnCloud][randomIndex];\n        }\n      }\n      if (metadata) tempMetadata = Metadata.fromJSON(metadata);\n      if (lastFetchedCloudMetadata) tempCloud = Metadata.fromJSON(lastFetchedCloudMetadata);\n      await tb.initialize({\n        neverInitializeNewKey: true,\n        transitionMetadata: tempMetadata,\n        previouslyFetchedCloudMetadata: tempCloud,\n        previousLocalMetadataTransitions: [localTransitionShares, localTransitionData],\n        withShare: shareToUseForSerialization,\n      });\n    } else {\n      await tb.initialize({ neverInitializeNewKey: true });\n    }\n    return tb;\n  }\n\n  getStorageLayer(): IStorageLayer {\n    return this.storageLayer;\n  }\n\n  getMetadata(): IMetadata {\n    if (typeof this.metadata !== \"undefined\") {\n      return this.metadata;\n    }\n\n    throw CoreError.metadataUndefined();\n  }\n\n  async initialize(params?: {\n    withShare?: ShareStore;\n    importKey?: BN;\n    neverInitializeNewKey?: boolean;\n    transitionMetadata?: Metadata;\n    previouslyFetchedCloudMetadata?: Metadata;\n    previousLocalMetadataTransitions?: LocalMetadataTransitions;\n    delete1OutOf1?: boolean;\n  }): Promise<KeyDetails> {\n    // setup initial params/states\n    const p = params || {};\n\n    if (p.delete1OutOf1 && !this.manualSync) throw CoreError.delete1OutOf1OnlyManualSync();\n\n    const { withShare, importKey, neverInitializeNewKey, transitionMetadata, previouslyFetchedCloudMetadata, previousLocalMetadataTransitions } = p;\n\n    const previousLocalMetadataTransitionsExists =\n      previousLocalMetadataTransitions && previousLocalMetadataTransitions[0].length > 0 && previousLocalMetadataTransitions[1].length > 0;\n    const reinitializing = transitionMetadata && previousLocalMetadataTransitionsExists; // are we reinitializing the SDK?\n    // in the case we're reinitializing whilst newKeyAssign has not been synced\n    const reinitializingWithNewKeyAssign = reinitializing && previouslyFetchedCloudMetadata === undefined;\n\n    let shareStore: ShareStore;\n    if (withShare instanceof ShareStore) {\n      shareStore = withShare;\n    } else if (typeof withShare === \"object\") {\n      shareStore = ShareStore.fromJSON(withShare);\n    } else if (!withShare) {\n      // default to use service provider\n      // first we see if a share has been kept for us\n      const spIncludeLocalMetadataTransitions = reinitializingWithNewKeyAssign;\n      const spLocalMetadataTransitions = reinitializingWithNewKeyAssign ? previousLocalMetadataTransitions : undefined;\n      const rawServiceProviderShare = await this.getGenericMetadataWithTransitionStates({\n        serviceProvider: this.serviceProvider,\n        includeLocalMetadataTransitions: spIncludeLocalMetadataTransitions,\n        _localMetadataTransitions: spLocalMetadataTransitions,\n        fromJSONConstructor: {\n          fromJSON(val: StringifiedType) {\n            return val;\n          },\n        },\n      });\n      const noKeyFound: { message?: string } = rawServiceProviderShare as { message?: string };\n      if (noKeyFound.message === KEY_NOT_FOUND) {\n        if (neverInitializeNewKey) {\n          throw CoreError.default(\"key has not been generated yet\");\n        }\n        // no metadata set, assumes new user\n        await this._initializeNewKey({ initializeModules: true, importedKey: importKey, delete1OutOf1: p.delete1OutOf1 });\n        return this.getKeyDetails();\n      }\n      // else we continue with catching up share and metadata\n      shareStore = ShareStore.fromJSON(rawServiceProviderShare);\n    } else {\n      throw CoreError.default(\"Input is not supported\");\n    }\n\n    // We determine the latest metadata on the SDK and if there has been\n    // needed transitions to include\n    let currentMetadata: Metadata;\n    let latestCloudMetadata: Metadata;\n    // we fetch the latest metadata for the account from the share\n    let latestShareDetails: CatchupToLatestShareResult;\n    try {\n      latestShareDetails = await this.catchupToLatestShare({ shareStore });\n    } catch (err) {\n      // check if error is not the undefined error\n      // if so we don't throw immediately incase there is valid transition metadata\n      const noMetadataExistsForShare = err.code === 1503;\n      if (!noMetadataExistsForShare || !reinitializing) {\n        throw err;\n      }\n    }\n\n    // lets check if the cloud metadata has been updated or not from previously if we are reinitializing\n    if (reinitializing && !reinitializingWithNewKeyAssign) {\n      if (previouslyFetchedCloudMetadata.nonce < latestShareDetails.shareMetadata.nonce) {\n        throw CoreError.fromCode(1104);\n      } else if (previouslyFetchedCloudMetadata.nonce > latestShareDetails.shareMetadata.nonce) {\n        throw CoreError.fromCode(1105);\n      }\n      latestCloudMetadata = previouslyFetchedCloudMetadata;\n    } else {\n      latestCloudMetadata = latestShareDetails ? latestShareDetails.shareMetadata.clone() : undefined;\n    }\n\n    // If we've been provided with transition metadata we use that as the current metadata instead\n    // as we want to maintain state before and after serialization.\n    // (Given that the checks for cloud metadata pass)\n    if (reinitializing) {\n      currentMetadata = transitionMetadata;\n      this._localMetadataTransitions = previousLocalMetadataTransitions;\n    } else {\n      currentMetadata = latestShareDetails.shareMetadata;\n    }\n\n    this.lastFetchedCloudMetadata = latestCloudMetadata;\n    this.metadata = currentMetadata;\n    const latestShare = latestShareDetails ? latestShareDetails.latestShare : shareStore;\n    this.inputShareStore(latestShare);\n\n    // initialize modules\n    await this.initializeModules();\n\n    return this.getKeyDetails();\n  }\n\n  /**\n   * catchupToLatestShare recursively loops fetches metadata of the provided share and checks if there is an encrypted share for it.\n   * @param shareStore - share to start of with\n   * @param polyID - if specified, polyID to refresh to if it exists\n   */\n  async catchupToLatestShare(params: {\n    shareStore: ShareStore;\n    polyID?: PolynomialID;\n    includeLocalMetadataTransitions?: boolean;\n  }): Promise<CatchupToLatestShareResult> {\n    const { shareStore, polyID, includeLocalMetadataTransitions } = params;\n    let shareMetadata: Metadata;\n    try {\n      shareMetadata = await this.getAuthMetadata({ privKey: shareStore.share.share, includeLocalMetadataTransitions });\n    } catch (err) {\n      // delete share error\n      if ((err as CoreError) && err.code === 1308) {\n        throw err;\n      }\n      throw CoreError.authMetadataGetUnavailable(`, ${prettyPrintError(err)}`);\n    }\n\n    try {\n      // if matches specified polyID return it\n      if (polyID) {\n        if (shareStore.polynomialID === polyID) {\n          return { latestShare: shareStore, shareMetadata };\n        }\n      }\n      const nextShare = await shareMetadata.getEncryptedShare(shareStore);\n      return await this.catchupToLatestShare({ shareStore: nextShare, polyID, includeLocalMetadataTransitions });\n    } catch (err) {\n      // delete share error\n      if ((err as CoreError) && err.code === 1308) {\n        throw err;\n      }\n      return { latestShare: shareStore, shareMetadata };\n    }\n  }\n\n  async reconstructKey(_reconstructKeyMiddleware = true): Promise<ReconstructedKeyResult> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    const pubPoly = this.metadata.getLatestPublicPolynomial();\n    const requiredThreshold = pubPoly.getThreshold();\n    const pubPolyID = pubPoly.getPolynomialID();\n\n    // check if we have enough shares to meet threshold\n    let sharesLeft = requiredThreshold;\n    // we don't just check the latest poly but\n    // we check if the shares on previous polynomials in our stores have the share indexes we require\n    const fullShareList = this.metadata.getShareIndexesForPolynomial(pubPolyID);\n    const shareIndexesRequired = {};\n    for (let i = 0; i < fullShareList.length; i += 1) {\n      shareIndexesRequired[fullShareList[i]] = true;\n    }\n    const sharesToInput = [];\n    for (let z = this.metadata.polyIDList.length - 1; z >= 0 && sharesLeft > 0; z -= 1) {\n      const sharesForPoly = this.shares[this.metadata.polyIDList[z][0]];\n      if (sharesForPoly) {\n        const shareIndexesForPoly = Object.keys(sharesForPoly);\n        for (let k = 0; k < shareIndexesForPoly.length && sharesLeft > 0; k += 1) {\n          if (shareIndexesForPoly[k] in shareIndexesRequired) {\n            const currentShareForPoly = sharesForPoly[shareIndexesForPoly[k]];\n            if (currentShareForPoly.polynomialID === pubPolyID) {\n              sharesToInput.push(currentShareForPoly);\n            } else {\n              const latestShareRes = await this.catchupToLatestShare({\n                shareStore: currentShareForPoly,\n                polyID: pubPolyID,\n                includeLocalMetadataTransitions: true,\n              });\n              if (latestShareRes.latestShare.polynomialID === pubPolyID) {\n                sharesToInput.push(latestShareRes.latestShare);\n              } else {\n                throw new CoreError(1304, \"Share found in unexpected polynomial\"); // Share found in unexpected polynomial\n              }\n            }\n            delete shareIndexesRequired[shareIndexesForPoly[k]];\n            sharesLeft -= 1;\n          }\n        }\n      }\n    }\n\n    // Input shares to ensure atomicity\n    sharesToInput.forEach((share) => {\n      this.inputShareStore(share);\n    });\n\n    if (sharesLeft > 0) {\n      throw CoreError.unableToReconstruct(` require ${requiredThreshold} but have ${requiredThreshold - sharesLeft}`);\n    }\n\n    const polyShares = Object.keys(this.shares[pubPolyID]);\n    const shareArr = [];\n    const shareIndexArr = [];\n    for (let i = 0; i < requiredThreshold; i += 1) {\n      shareArr.push(this.shares[pubPolyID][polyShares[i]].share.share);\n      shareIndexArr.push(this.shares[pubPolyID][polyShares[i]].share.shareIndex);\n    }\n    const privKey = lagrangeInterpolation(shareArr, shareIndexArr);\n    // check that priv key regenerated is correct\n    const reconstructedPubKey = getPubKeyPoint(privKey);\n    if (this.metadata.pubKey.x.cmp(reconstructedPubKey.x) !== 0) {\n      throw CoreError.incorrectReconstruction();\n    }\n    this._setKey(privKey);\n\n    const returnObject = {\n      privKey,\n      allKeys: [privKey],\n    };\n\n    if (_reconstructKeyMiddleware && Object.keys(this._reconstructKeyMiddleware).length > 0) {\n      // retireve/reconstruct extra keys that live on metadata\n      await Promise.all(\n        Object.keys(this._reconstructKeyMiddleware).map(async (x) => {\n          if (Object.prototype.hasOwnProperty.call(this._reconstructKeyMiddleware, x)) {\n            const extraKeys = await this._reconstructKeyMiddleware[x]();\n            returnObject[x] = extraKeys;\n            returnObject.allKeys.push(...extraKeys);\n          }\n        })\n      );\n    }\n    return returnObject;\n  }\n\n  reconstructLatestPoly(): Polynomial {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    const pubPoly = this.metadata.getLatestPublicPolynomial();\n    const pubPolyID = pubPoly.getPolynomialID();\n    const threshold = pubPoly.getThreshold();\n\n    const pointsArr = [];\n    const sharesForExistingPoly = Object.keys(this.shares[pubPolyID]);\n    if (sharesForExistingPoly.length < threshold) {\n      throw CoreError.unableToReconstruct(\"not enough shares to reconstruct poly\");\n    }\n    if (new Set(sharesForExistingPoly).size !== sharesForExistingPoly.length) {\n      throw CoreError.default(\"share indexes should be unique\");\n    }\n    for (let i = 0; i < threshold; i += 1) {\n      pointsArr.push(new Point(new BN(sharesForExistingPoly[i], \"hex\"), this.shares[pubPolyID][sharesForExistingPoly[i]].share.share));\n    }\n    return lagrangeInterpolatePolynomial(pointsArr);\n  }\n\n  async deleteShare(shareIndex: BNString): Promise<DeleteShareResult> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    if (!this.privKey) {\n      throw CoreError.privateKeyUnavailable();\n    }\n    const shareIndexToDelete = new BN(shareIndex, \"hex\");\n    const shareToDelete = this.outputShareStore(shareIndexToDelete);\n    if (shareIndexToDelete.cmp(new BN(\"1\", \"hex\")) === 0) {\n      throw new CoreError(1001, \"Unable to delete service provider share\");\n    }\n\n    // Get existing shares\n    const pubPoly = this.metadata.getLatestPublicPolynomial();\n    const previousPolyID = pubPoly.getPolynomialID();\n    const existingShareIndexes = this.metadata.getShareIndexesForPolynomial(previousPolyID);\n    const newShareIndexes = [];\n    existingShareIndexes.forEach((el) => {\n      const bn = new BN(el, \"hex\");\n      if (bn.cmp(shareIndexToDelete) !== 0) {\n        newShareIndexes.push(bn.toString(\"hex\"));\n      }\n    });\n\n    // Update shares\n    if (existingShareIndexes.length === newShareIndexes.length) {\n      throw CoreError.default(\"Share index does not exist in latest polynomial\");\n    } else if (newShareIndexes.length < pubPoly.getThreshold()) {\n      throw CoreError.default(`Minimum ${pubPoly.getThreshold()} shares are required for tkey. Unable to delete share`);\n    }\n    const results = await this._refreshShares(pubPoly.getThreshold(), [...newShareIndexes], previousPolyID);\n    const newShareStores = results.shareStores;\n    await this.addLocalMetadataTransitions({ input: [{ message: SHARE_DELETED, dateAdded: Date.now() }], privKey: [shareToDelete.share.share] });\n    return { newShareStores };\n  }\n\n  async generateNewShare(): Promise<GenerateNewShareResult> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    if (!this.privKey) {\n      throw CoreError.privateKeyUnavailable();\n    }\n    const pubPoly = this.metadata.getLatestPublicPolynomial();\n    const previousPolyID = pubPoly.getPolynomialID();\n    const existingShareIndexes = this.metadata.getShareIndexesForPolynomial(previousPolyID);\n    const existingShareIndexesBN = existingShareIndexes.map((el) => new BN(el, \"hex\"));\n    const newShareIndex = new BN(generatePrivateExcludingIndexes(existingShareIndexesBN));\n\n    const results = await this._refreshShares(pubPoly.getThreshold(), [...existingShareIndexes, newShareIndex.toString(\"hex\")], previousPolyID);\n    const newShareStores = results.shareStores;\n\n    return { newShareStores, newShareIndex };\n  }\n\n  async _refreshShares(threshold: number, newShareIndexes: string[], previousPolyID: PolynomialID): Promise<RefreshSharesResult> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    if (!this.privKey) {\n      throw CoreError.privateKeyUnavailable();\n    }\n    if (threshold > newShareIndexes.length) {\n      throw CoreError.default(`threshold should not be greater than share indexes. ${threshold} > ${newShareIndexes.length}`);\n    }\n\n    // update metadata nonce\n    this.metadata.nonce += 1;\n\n    const poly = generateRandomPolynomial(threshold - 1, this.privKey);\n    const shares = poly.generateShares(newShareIndexes);\n    const existingShareIndexes = this.metadata.getShareIndexesForPolynomial(previousPolyID);\n\n    const pointsArr = [];\n    const sharesForExistingPoly = Object.keys(this.shares[previousPolyID]);\n    if (sharesForExistingPoly.length < threshold) {\n      throw CoreError.unableToReconstruct(\"not enough shares for polynomial reconstruction\");\n    }\n    for (let i = 0; i < threshold; i += 1) {\n      pointsArr.push(new Point(new BN(sharesForExistingPoly[i], \"hex\"), this.shares[previousPolyID][sharesForExistingPoly[i]].share.share));\n    }\n    const oldPoly = lagrangeInterpolatePolynomial(pointsArr);\n\n    const shareIndexesNeedingEncryption: string[] = [];\n    for (let index = 0; index < existingShareIndexes.length; index += 1) {\n      const shareIndexHex = existingShareIndexes[index];\n      // define shares that need encryption/relaying\n      if (newShareIndexes.includes(shareIndexHex)) {\n        shareIndexesNeedingEncryption.push(shareIndexHex);\n      }\n    }\n\n    // add metadata new poly to metadata\n    this.metadata.addFromPolynomialAndShares(poly, shares);\n\n    // change to share stores for public storing\n    const oldShareStores = {};\n    const newShareStores = {};\n    const polyID = poly.getPolynomialID();\n    newShareIndexes.forEach((shareIndexHex) => {\n      newShareStores[shareIndexHex] = new ShareStore(shares[shareIndexHex], polyID);\n    });\n\n    // evaluate oldPoly for old shares and set new metadata with encrypted share for new polynomial\n\n    const m = this.metadata.clone();\n    const newScopedStore = {};\n    const sharesToPush = await Promise.all(\n      shareIndexesNeedingEncryption.map(async (shareIndex) => {\n        const oldShare = oldPoly.polyEval(new BN(shareIndex, \"hex\"));\n        const encryptedShare = await encrypt(getPubKeyECC(oldShare), Buffer.from(JSON.stringify(newShareStores[shareIndex])));\n        newScopedStore[getPubKeyPoint(oldShare).x.toString(\"hex\")] = encryptedShare;\n        oldShareStores[shareIndex] = new ShareStore(new Share(shareIndex, oldShare), previousPolyID);\n        return oldShare;\n      })\n    );\n    m.setScopedStore(\"encryptedShares\", newScopedStore);\n    const metadataToPush = Array(sharesToPush.length).fill(m);\n\n    // run refreshShare middleware\n    // If a shareIndex is left out during refresh shares, we assume that it being explicitly deleted.\n    for (const moduleName in this._refreshMiddleware) {\n      if (Object.prototype.hasOwnProperty.call(this._refreshMiddleware, moduleName)) {\n        const adjustedGeneralStore = this._refreshMiddleware[moduleName](\n          this.metadata.getGeneralStoreDomain(moduleName),\n          oldShareStores,\n          newShareStores\n        );\n        if (!adjustedGeneralStore) this.metadata.deleteGeneralStoreDomain(moduleName);\n        else this.metadata.setGeneralStoreDomain(moduleName, adjustedGeneralStore);\n      }\n    }\n\n    const newShareMetadataToPush = [];\n    const newShareStoreSharesToPush = newShareIndexes.map((shareIndex) => {\n      const me = this.metadata.clone();\n      newShareMetadataToPush.push(me);\n      return newShareStores[shareIndex].share.share;\n    });\n\n    const AuthMetadatas = this.generateAuthMetadata({ input: [...metadataToPush, ...newShareMetadataToPush] });\n\n    // Combine Authmetadata and service provider ShareStore\n    await this.addLocalMetadataTransitions({\n      input: [...AuthMetadatas, newShareStores[\"1\"]],\n      privKey: [...sharesToPush, ...newShareStoreSharesToPush, undefined],\n    });\n\n    // update this.shares with these new shares\n    for (let index = 0; index < newShareIndexes.length; index += 1) {\n      const shareIndex = newShareIndexes[index];\n      this.inputShareStore(newShareStores[shareIndex]);\n    }\n    // await this.releaseWriteMetadataLock();\n    return { shareStores: newShareStores };\n  }\n\n  async _initializeNewKey({\n    determinedShare,\n    initializeModules,\n    importedKey,\n    delete1OutOf1,\n  }: {\n    determinedShare?: BN;\n    initializeModules?: boolean;\n    importedKey?: BN;\n    delete1OutOf1?: boolean;\n  } = {}): Promise<InitializeNewKeyResult> {\n    if (!importedKey) {\n      const tmpPriv = generatePrivate();\n      this._setKey(new BN(tmpPriv));\n    } else {\n      this._setKey(new BN(importedKey));\n    }\n\n    // create a random poly and respective shares\n    // 1 is defined as the serviceProvider share\n    // 0 is for tKey\n    const shareIndexForDeviceStorage = generatePrivateExcludingIndexes([new BN(1), new BN(0)]);\n\n    const shareIndexes = [new BN(1), shareIndexForDeviceStorage];\n    let poly: Polynomial;\n    if (determinedShare) {\n      const shareIndexForDeterminedShare = generatePrivateExcludingIndexes([new BN(1), new BN(0)]);\n      poly = generateRandomPolynomial(1, this.privKey, [new Share(shareIndexForDeterminedShare, determinedShare)]);\n      shareIndexes.push(shareIndexForDeterminedShare);\n    } else {\n      poly = generateRandomPolynomial(1, this.privKey);\n    }\n    const shares = poly.generateShares(shareIndexes);\n\n    // create metadata to be stored\n    const metadata = new Metadata(getPubKeyPoint(this.privKey));\n    metadata.addFromPolynomialAndShares(poly, shares);\n    const serviceProviderShare = shares[shareIndexes[0].toString(\"hex\")];\n    const shareStore = new ShareStore(serviceProviderShare, poly.getPolynomialID());\n    this.metadata = metadata;\n\n    // initialize modules\n    if (initializeModules) {\n      await this.initializeModules();\n    }\n\n    const metadataToPush = [];\n    const sharesToPush = shareIndexes.map((shareIndex) => {\n      metadataToPush.push(this.metadata);\n      return shares[shareIndex.toString(\"hex\")].share;\n    });\n\n    const authMetadatas = this.generateAuthMetadata({ input: metadataToPush });\n\n    // because this is the first time we're setting metadata there is no need to acquire a lock\n    // acquireLock: false. Force push\n    await this.addLocalMetadataTransitions({ input: [...authMetadatas, shareStore], privKey: [...sharesToPush, undefined] });\n    if (delete1OutOf1) {\n      await this.addLocalMetadataTransitions({ input: [{ message: ONE_KEY_DELETE_NONCE }], privKey: [this.serviceProvider.postboxKey] });\n    }\n\n    // store metadata on metadata respective to shares\n    for (let index = 0; index < shareIndexes.length; index += 1) {\n      const shareIndex = shareIndexes[index];\n      // also add into our share store\n      this.inputShareStore(new ShareStore(shares[shareIndex.toString(\"hex\")], poly.getPolynomialID()));\n    }\n\n    if (this.storeDeviceShare) {\n      await this.storeDeviceShare(new ShareStore(shares[shareIndexes[1].toString(\"hex\")], poly.getPolynomialID()));\n    }\n\n    const result = {\n      privKey: this.privKey,\n      deviceShare: new ShareStore(shares[shareIndexes[1].toString(\"hex\")], poly.getPolynomialID()),\n      userShare: undefined,\n    };\n    if (determinedShare) {\n      result.userShare = new ShareStore(shares[shareIndexes[2].toString(\"hex\")], poly.getPolynomialID());\n    }\n    return result;\n  }\n\n  async addLocalMetadataTransitions(params: {\n    input: LocalTransitionData;\n    serviceProvider?: IServiceProvider;\n    privKey?: BN[];\n    acquireLock?: boolean;\n  }): Promise<void> {\n    const { privKey, input } = params;\n    this._localMetadataTransitions[0] = [...this._localMetadataTransitions[0], ...privKey];\n    this._localMetadataTransitions[1] = [...this._localMetadataTransitions[1], ...input];\n    if (!this.manualSync) await this.syncLocalMetadataTransitions();\n  }\n\n  async syncLocalMetadataTransitions(): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    if (!(Array.isArray(this._localMetadataTransitions[0]) && this._localMetadataTransitions[0].length > 0)) return;\n\n    // get lock\n    let acquiredLock = false;\n    if (this.lastFetchedCloudMetadata) {\n      await this.acquireWriteMetadataLock();\n      acquiredLock = true;\n    }\n    try {\n      await this.storageLayer.setMetadataStream({\n        input: this._localMetadataTransitions[1],\n        privKey: this._localMetadataTransitions[0],\n        serviceProvider: this.serviceProvider,\n      });\n    } catch (error) {\n      throw CoreError.metadataPostFailed(prettyPrintError(error));\n    }\n\n    this._localMetadataTransitions = [[], []];\n    this.lastFetchedCloudMetadata = this.metadata.clone();\n    // release lock\n    if (acquiredLock) await this.releaseWriteMetadataLock();\n  }\n\n  // Returns a new instance of metadata with a clean state. All the previous state will be reset.\n  async updateSDK(params?: { withShare?: ShareStore }): Promise<ThresholdKey> {\n    const tb = new ThresholdKey({\n      enableLogging: this.enableLogging,\n      modules: this.modules,\n      serviceProvider: this.serviceProvider,\n      storageLayer: this.storageLayer,\n      manualSync: this.manualSync,\n    });\n\n    try {\n      await tb.initialize({ neverInitializeNewKey: true, withShare: params && params.withShare });\n    } catch (err) {\n      throw CoreError.fromCode(1103, `${err.message}`);\n    }\n\n    // Delete unnecessary polyIDs and shareStores\n    const allPolyIDList = tb.metadata.polyIDList;\n    let lastValidPolyID;\n\n    Object.keys(this.shares).forEach((x) => {\n      if (allPolyIDList.find((id) => id[0] === x)) {\n        lastValidPolyID = x;\n      } else {\n        delete this.shares[x];\n      }\n    });\n\n    // catchup to latest shareStore for all latest available shares.\n    // TODO: fix edge cases where shares are deleted in the newer polynomials\n    // TODO: maybe assign this.shares directly rather than output and inputsharestore.\n    const shareStoresForLastValidPolyID = Object.keys(this.shares[lastValidPolyID]).map((x) =>\n      tb.inputShareStoreSafe(this.outputShareStore(x, lastValidPolyID))\n    );\n    await Promise.all(shareStoresForLastValidPolyID);\n    return tb;\n  }\n\n  // NOTE: This API will be DEPRECATED in the future in favour of inputShareStoreSafe()\n  inputShareStore(shareStore: ShareStore): void {\n    let ss: ShareStore;\n    if (shareStore instanceof ShareStore) {\n      ss = shareStore;\n    } else if (typeof shareStore === \"object\") {\n      ss = ShareStore.fromJSON(shareStore);\n    } else {\n      throw CoreError.default(\"can only add type ShareStore into shares\");\n    }\n    if (!(ss.polynomialID in this.shares)) {\n      this.shares[ss.polynomialID] = {};\n    }\n    this.shares[ss.polynomialID][ss.share.shareIndex.toString(\"hex\")] = ss;\n  }\n\n  // inputs a share ensuring that the share is the latest share AND metadata is updated to its latest state\n  async inputShareStoreSafe(shareStore: ShareStore, autoUpdateMetadata = false): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    let ss: ShareStore;\n    if (shareStore instanceof ShareStore) {\n      ss = shareStore;\n    } else if (typeof shareStore === \"object\") {\n      ss = ShareStore.fromJSON(shareStore);\n    } else {\n      throw CoreError.default(\"can only add type ShareStore into shares\");\n    }\n    const latestShareRes = await this.catchupToLatestShare({ shareStore: ss, includeLocalMetadataTransitions: true });\n    // if not in poly id list, metadata is probably outdated\n    // is !this.metadata.polyIDList.includes(latestShareRes.latestShare.polynomialID)\n    if (!this.metadata.polyIDList.find((tuple) => tuple[0] === latestShareRes.latestShare.polynomialID)) {\n      if (!autoUpdateMetadata)\n        throw CoreError.default(\n          `TKey SDK metadata seems to be outdated because shareIndex: ` +\n            `${latestShareRes.latestShare.share.shareIndex.toString(\"hex\")} has a more recent metadata. Please call updateSDK first`\n        );\n      else this.metadata = latestShareRes.shareMetadata;\n    }\n    if (!(latestShareRes.latestShare.polynomialID in this.shares)) {\n      this.shares[latestShareRes.latestShare.polynomialID] = {};\n    }\n    this.shares[latestShareRes.latestShare.polynomialID][latestShareRes.latestShare.share.shareIndex.toString(\"hex\")] = latestShareRes.latestShare;\n  }\n\n  outputShareStore(shareIndex: BNString, polyID?: string): ShareStore {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    let shareIndexParsed: BN;\n    if (typeof shareIndex === \"number\") {\n      shareIndexParsed = new BN(shareIndex);\n    } else if (BN.isBN(shareIndex)) {\n      shareIndexParsed = shareIndex;\n    } else if (typeof shareIndex === \"string\") {\n      shareIndexParsed = new BN(shareIndex, \"hex\");\n    }\n    let polyIDToSearch: string;\n    if (polyID) {\n      polyIDToSearch = polyID;\n    } else {\n      polyIDToSearch = this.metadata.getLatestPublicPolynomial().getPolynomialID();\n    }\n    if (!this.metadata.getShareIndexesForPolynomial(polyIDToSearch).includes(shareIndexParsed.toString(\"hex\"))) {\n      throw new CoreError(1002, \"no such share index created\");\n    }\n    const shareFromStore = this.shares[polyIDToSearch][shareIndexParsed.toString(\"hex\")];\n    if (shareFromStore) return shareFromStore;\n    const poly = this.reconstructLatestPoly();\n    const shareMap = poly.generateShares([shareIndexParsed]);\n\n    return new ShareStore(shareMap[shareIndexParsed.toString(\"hex\")], polyIDToSearch);\n  }\n\n  _setKey(privKey: BN): void {\n    this.privKey = privKey;\n  }\n\n  getCurrentShareIndexes(): string[] {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    const latestPolynomial = this.metadata.getLatestPublicPolynomial();\n    const latestPolynomialId = latestPolynomial.getPolynomialID();\n    const currentShareIndexes = Object.keys(this.shares[latestPolynomialId]);\n    return currentShareIndexes;\n  }\n\n  getKeyDetails(): KeyDetails {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    const poly = this.metadata.getLatestPublicPolynomial();\n    const previousPolyID = poly.getPolynomialID();\n    const requiredShares = poly.getThreshold() - Object.keys(this.shares[previousPolyID]).length;\n\n    let shareDescriptions = this.metadata.getShareDescription();\n    if (shareDescriptions) {\n      const existingShareIndexes = this.metadata.getShareIndexesForPolynomial(previousPolyID);\n      shareDescriptions = Object.keys(shareDescriptions).reduce((acc, index) => {\n        if (existingShareIndexes.indexOf(index) >= 0) acc[index] = shareDescriptions[index];\n        return acc;\n      }, {});\n    }\n\n    return {\n      pubKey: this.metadata.pubKey,\n      requiredShares,\n      threshold: poly.getThreshold(),\n      totalShares: this.metadata.getShareIndexesForPolynomial(previousPolyID).length,\n      shareDescriptions,\n    };\n  }\n\n  // Auth functions\n\n  generateAuthMetadata(params: { input: Metadata[] }): AuthMetadata[] {\n    const { input } = params;\n    const authMetadatas = [];\n    for (let i = 0; i < input.length; i += 1) {\n      authMetadatas.push(new AuthMetadata(input[i], this.privKey));\n    }\n    return authMetadatas;\n  }\n\n  setAuthMetadata(params: { input: Metadata; serviceProvider?: IServiceProvider; privKey?: BN }): Promise<{\n    message: string;\n  }> {\n    const { input, serviceProvider, privKey } = params;\n    const authMetadata = new AuthMetadata(input, this.privKey);\n    return this.storageLayer.setMetadata({ input: authMetadata, serviceProvider, privKey });\n  }\n\n  async setAuthMetadataBulk(params: { input: Metadata[]; serviceProvider?: IServiceProvider; privKey?: BN[] }): Promise<void> {\n    if (!this.privKey) {\n      throw CoreError.privateKeyUnavailable();\n    }\n    const { input, serviceProvider, privKey } = params;\n    const authMetadatas = [] as AuthMetadata[];\n    for (let i = 0; i < input.length; i += 1) {\n      authMetadatas.push(new AuthMetadata(input[i], this.privKey));\n    }\n    await this.addLocalMetadataTransitions({ input: authMetadatas, serviceProvider, privKey });\n  }\n\n  async getAuthMetadata(params: { serviceProvider?: IServiceProvider; privKey?: BN; includeLocalMetadataTransitions?: boolean }): Promise<Metadata> {\n    const raw = await this.getGenericMetadataWithTransitionStates({ ...params, fromJSONConstructor: AuthMetadata });\n    const authMetadata = raw as AuthMetadata;\n    return authMetadata.metadata;\n  }\n\n  // fetches the latest metadata potentially searching in local transition states first\n  async getGenericMetadataWithTransitionStates(params: {\n    fromJSONConstructor: FromJSONConstructor;\n    serviceProvider?: IServiceProvider;\n    privKey?: BN;\n    includeLocalMetadataTransitions?: boolean;\n    _localMetadataTransitions?: LocalMetadataTransitions;\n  }): Promise<unknown> {\n    if (!((params.serviceProvider && params.serviceProvider.postboxKey.toString(\"hex\") !== \"0\") || params.privKey)) {\n      throw CoreError.default(\"require either serviceProvider or priv key in getGenericMetadataWithTransitionStates\");\n    }\n    if (params.includeLocalMetadataTransitions) {\n      const transitions: LocalMetadataTransitions = params._localMetadataTransitions\n        ? params._localMetadataTransitions\n        : this._localMetadataTransitions;\n      let index = null;\n      for (let i = transitions[0].length - 1; i >= 0; i -= 1) {\n        const x = transitions[0][i];\n        if (params.privKey && x && x.cmp(params.privKey) === 0) index = i;\n        else if (params.serviceProvider && !x) index = i;\n      }\n      if (index !== null) {\n        return transitions[1][index];\n      }\n    }\n    let raw: IMessageMetadata;\n    try {\n      raw = await this.storageLayer.getMetadata(params);\n    } catch (err) {\n      throw CoreError.metadataGetFailed(`${prettyPrintError(err)}`);\n    }\n    if ((raw as IMessageMetadata).message === SHARE_DELETED) {\n      throw CoreError.fromCode(1308);\n    }\n    return params.fromJSONConstructor.fromJSON(raw);\n  }\n\n  // Lock functions\n  async acquireWriteMetadataLock(): Promise<number> {\n    if (this.haveWriteMetadataLock) return this.metadata.nonce;\n    if (!this.privKey) {\n      throw CoreError.privateKeyUnavailable();\n    }\n\n    // we check the metadata of a random share we have on the latest polynomial we know that reflects the cloud\n    // below we cater for if we have an existing share or need to create the share in the SDK\n    let randomShareStore: ShareStore;\n    const latestPolyIDOnCloud = this.lastFetchedCloudMetadata.getLatestPublicPolynomial().getPolynomialID();\n    const shareIndexesExistInSDK = Object.keys(this.shares[latestPolyIDOnCloud]);\n    const randomIndex = shareIndexesExistInSDK[Math.floor(Math.random() * (shareIndexesExistInSDK.length - 1))];\n    if (shareIndexesExistInSDK.length >= 1) {\n      randomShareStore = this.shares[latestPolyIDOnCloud][randomIndex];\n    } else {\n      randomShareStore = this.outputShareStore(randomIndex, latestPolyIDOnCloud);\n    }\n    const latestRes = await this.catchupToLatestShare({ shareStore: randomShareStore });\n    const latestMetadata = latestRes.shareMetadata;\n\n    // read errors for what each means\n    if (latestMetadata.nonce > this.lastFetchedCloudMetadata.nonce) {\n      throw CoreError.acquireLockFailed(`unable to acquire write access for metadata due to \n      lastFetchedCloudMetadata (${this.lastFetchedCloudMetadata.nonce})\n           being lower than last written metadata nonce (${latestMetadata.nonce}). perhaps update metadata SDK (create new tKey and init)`);\n    } else if (latestMetadata.nonce < this.lastFetchedCloudMetadata.nonce) {\n      throw CoreError.acquireLockFailed(`unable to acquire write access for metadata due to \n      lastFetchedCloudMetadata (${this.lastFetchedCloudMetadata.nonce})\n      being higher than last written metadata nonce (${latestMetadata.nonce}). this should never happen as it \n      should only ever be updated by getting metadata)`);\n    }\n\n    const res = await this.storageLayer.acquireWriteLock({ privKey: this.privKey });\n    if (res.status !== 1) throw CoreError.acquireLockFailed(`lock cannot be acquired from storage layer status code: ${res.status}`);\n\n    // increment metadata nonce for write session\n    // this.metadata.nonce += 1;\n    this.haveWriteMetadataLock = res.id;\n    return this.metadata.nonce;\n  }\n\n  async releaseWriteMetadataLock(): Promise<void> {\n    if (!this.haveWriteMetadataLock) throw CoreError.releaseLockFailed(\"releaseWriteMetadataLock - don't have metadata lock to release\");\n    const res = await this.storageLayer.releaseWriteLock({ privKey: this.privKey, id: this.haveWriteMetadataLock });\n    if (res.status !== 1) throw CoreError.releaseLockFailed(`lock cannot be released from storage layer status code: ${res.status}`);\n    this.haveWriteMetadataLock = \"\";\n  }\n\n  // Module functions\n\n  async _syncShareMetadata(adjustScopedStore?: (ss: unknown) => unknown): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n\n    const shareArray = this.getAllShareStoresForLatestPolynomial().map((x) => x.share.share);\n    await this.syncMultipleShareMetadata(shareArray, adjustScopedStore);\n  }\n\n  async syncMultipleShareMetadata(shares: BN[], adjustScopedStore?: (ss: unknown) => unknown): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    this.metadata.nonce += 1;\n\n    const newMetadataPromise = shares.map(async (share) => {\n      const newMetadata = this.metadata.clone();\n      let specificShareMetadata: Metadata;\n      try {\n        specificShareMetadata = await this.getAuthMetadata({ privKey: share, includeLocalMetadataTransitions: true });\n      } catch (err) {\n        throw CoreError.authMetadataGetUnavailable(`${prettyPrintError(err)}`);\n      }\n\n      let scopedStoreToBeSet;\n      if (adjustScopedStore) {\n        scopedStoreToBeSet = adjustScopedStore(specificShareMetadata.scopedStore);\n      } else {\n        scopedStoreToBeSet = specificShareMetadata.scopedStore;\n      }\n      newMetadata.scopedStore = scopedStoreToBeSet;\n      return newMetadata;\n    });\n    const newMetadata = await Promise.all(newMetadataPromise);\n    return this.setAuthMetadataBulk({ input: newMetadata, privKey: shares });\n  }\n\n  _addRefreshMiddleware(\n    moduleName: string,\n    middleware: (generalStore: unknown, oldShareStores: ShareStoreMap, newShareStores: ShareStoreMap) => unknown\n  ): void {\n    this._refreshMiddleware[moduleName] = middleware;\n  }\n\n  _addReconstructKeyMiddleware(moduleName: string, middleware: () => Promise<BN[]>): void {\n    this._reconstructKeyMiddleware[moduleName] = middleware;\n  }\n\n  _addShareSerializationMiddleware(\n    serialize: (share: BN, type: string) => Promise<unknown>,\n    deserialize: (serializedShare: unknown, type: string) => Promise<BN>\n  ): void {\n    this._shareSerializationMiddleware = {\n      serialize,\n      deserialize,\n    };\n  }\n\n  _setDeviceStorage(storeDeviceStorage: (deviceShareStore: ShareStore) => Promise<void>): void {\n    if (this.storeDeviceShare) {\n      throw CoreError.default(\"storeDeviceShare already set\");\n    }\n    this.storeDeviceShare = storeDeviceStorage;\n  }\n\n  async addShareDescription(shareIndex: string, description: string, updateMetadata?: boolean): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    this.metadata.addShareDescription(shareIndex, description);\n    if (updateMetadata) {\n      await this._syncShareMetadata();\n    }\n  }\n\n  async deleteShareDescription(shareIndex: string, description: string, updateMetadata?: boolean): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    this.metadata.deleteShareDescription(shareIndex, description);\n    if (updateMetadata) {\n      await this._syncShareMetadata();\n    }\n  }\n\n  async updateShareDescription(shareIndex: string, oldDescription: string, newDescription: string, updateMetadata?: boolean): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    this.metadata.updateShareDescription(shareIndex, oldDescription, newDescription);\n    if (updateMetadata) {\n      await this._syncShareMetadata();\n    }\n  }\n\n  async encrypt(data: Buffer): Promise<EncryptedMessage> {\n    if (!this.privKey) throw CoreError.privateKeyUnavailable();\n    return encrypt(getPubKeyECC(this.privKey), data);\n  }\n\n  async decrypt(encryptedMessage: EncryptedMessage): Promise<Buffer> {\n    if (!this.privKey) throw CoreError.privateKeyUnavailable();\n    return decrypt(toPrivKeyECC(this.privKey), encryptedMessage);\n  }\n\n  async _setTKeyStoreItem(moduleName: string, data: TkeyStoreItemType): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    const rawTkeyStoreItems: EncryptedMessage[] = (this.metadata.getTkeyStoreDomain(moduleName) as EncryptedMessage[]) || [];\n    const decryptedItems = await Promise.all(\n      rawTkeyStoreItems.map(async (x) => {\n        const decryptedItem = await this.decrypt(x);\n        return JSON.parse(decryptedItem.toString()) as TkeyStoreItemType;\n      })\n    );\n    const encryptedData = await this.encrypt(Buffer.from(stringify(data)));\n    const duplicateItemIndex = decryptedItems.findIndex((x) => x.id === data.id);\n    if (duplicateItemIndex > -1) {\n      rawTkeyStoreItems[duplicateItemIndex] = encryptedData;\n    } else {\n      rawTkeyStoreItems.push(encryptedData);\n    }\n\n    // update metadataStore\n    this.metadata.setTkeyStoreDomain(moduleName, rawTkeyStoreItems);\n    await this._syncShareMetadata();\n  }\n\n  async _deleteTKeyStoreItem(moduleName: string, id: string): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    const rawTkeyStoreItems = (this.metadata.getTkeyStoreDomain(moduleName) as EncryptedMessage[]) || [];\n    const decryptedItems = await Promise.all(\n      rawTkeyStoreItems.map(async (x) => {\n        const decryptedItem = await this.decrypt(x);\n        return JSON.parse(decryptedItem.toString()) as TkeyStoreItemType;\n      })\n    );\n    const finalItems = decryptedItems.filter((x) => x.id !== id);\n    this.metadata.setTkeyStoreDomain(moduleName, finalItems);\n    await this._syncShareMetadata();\n  }\n\n  async getTKeyStore(moduleName: string): Promise<TkeyStoreItemType[]> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    const rawTkeyStoreItems = (this.metadata.getTkeyStoreDomain(moduleName) as EncryptedMessage[]) || [];\n\n    const decryptedItems = await Promise.all(\n      rawTkeyStoreItems.map(async (x) => {\n        const decryptedItem = await this.decrypt(x);\n        return JSON.parse(decryptedItem.toString()) as TkeyStoreItemType;\n      })\n    );\n    return decryptedItems;\n  }\n\n  async getTKeyStoreItem(moduleName: string, id: string): Promise<TkeyStoreItemType> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    const rawTkeyStoreItems = (this.metadata.getTkeyStoreDomain(moduleName) as EncryptedMessage[]) || [];\n\n    const decryptedItems = await Promise.all(\n      rawTkeyStoreItems.map(async (x) => {\n        const decryptedItem = await this.decrypt(x);\n        return JSON.parse(decryptedItem.toString()) as TkeyStoreItemType;\n      })\n    );\n    const item = decryptedItems.find((x) => x.id === id);\n    return item;\n  }\n\n  // Import export shares\n  async outputShare(shareIndex: BNString, type?: string): Promise<unknown> {\n    const { share } = this.outputShareStore(shareIndex).share;\n    if (!type) return share;\n\n    return this._shareSerializationMiddleware.serialize(share, type);\n  }\n\n  async inputShare(share: unknown, type?: string): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    let shareStore: ShareStore;\n    if (!type) shareStore = this.metadata.shareToShareStore(share as BN);\n    else {\n      const deserialized = await this._shareSerializationMiddleware.deserialize(share, type);\n      shareStore = this.metadata.shareToShareStore(deserialized);\n    }\n    const pubPoly = this.metadata.getLatestPublicPolynomial();\n    const pubPolyID = pubPoly.getPolynomialID();\n    const fullShareIndexesList = this.metadata.getShareIndexesForPolynomial(pubPolyID);\n    if (!fullShareIndexesList.includes(shareStore.share.shareIndex.toString(\"hex\"))) {\n      throw CoreError.default(\"Latest poly doesn't include this share\");\n    }\n    await this.inputShareStoreSafe(shareStore);\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      shares: this.shares,\n      enableLogging: this.enableLogging,\n      privKey: this.privKey ? this.privKey.toString(\"hex\") : undefined,\n      metadata: this.metadata,\n      lastFetchedCloudMetadata: this.lastFetchedCloudMetadata,\n      _localMetadataTransitions: this._localMetadataTransitions,\n      manualSync: this.manualSync,\n      serviceProvider: this.serviceProvider,\n      storageLayer: this.storageLayer,\n    };\n  }\n\n  getAllShareStoresForLatestPolynomial(): ShareStore[] {\n    const pubPoly = this.metadata.getLatestPublicPolynomial();\n    const pubPolyID = pubPoly.getPolynomialID();\n    const existingShareIndexes = this.metadata.getShareIndexesForPolynomial(pubPolyID);\n    const threshold = pubPoly.getThreshold();\n\n    const pointsArr = [];\n    const sharesForExistingPoly = Object.keys(this.shares[pubPolyID]);\n    if (sharesForExistingPoly.length < threshold) {\n      throw CoreError.unableToReconstruct(\"not enough shares for polynomial reconstruction\");\n    }\n    for (let i = 0; i < threshold; i += 1) {\n      pointsArr.push(new Point(new BN(sharesForExistingPoly[i], \"hex\"), this.shares[pubPolyID][sharesForExistingPoly[i]].share.share));\n    }\n    const currentPoly = lagrangeInterpolatePolynomial(pointsArr);\n    const allExistingShares = currentPoly.generateShares(existingShareIndexes);\n    const shareArray = existingShareIndexes.map((shareIndex) => {\n      return this.metadata.shareToShareStore(allExistingShares[shareIndex].share);\n    });\n    return shareArray;\n  }\n\n  /// Destructive method. All data will be wiped!\n  async CRITICAL_deleteTkey(): Promise<void> {\n    if (!this.metadata) {\n      throw CoreError.metadataUndefined();\n    }\n    if (!this.privKey) {\n      throw CoreError.privateKeyUnavailable();\n    }\n    if (this._localMetadataTransitions[0].length > 0 || this._localMetadataTransitions[1].length > 0) {\n      throw CoreError.default(\"Please sync all local state before calling this function\");\n    }\n\n    // Construct all shares\n    const shareArray = this.getAllShareStoresForLatestPolynomial();\n    await this.addLocalMetadataTransitions({\n      input: [...Array(shareArray.length).fill({ message: SHARE_DELETED, dateAdded: Date.now() }), { message: KEY_NOT_FOUND }],\n      privKey: [...shareArray.map((x) => x.share.share), undefined],\n    });\n    await this.syncLocalMetadataTransitions(); // forcesync\n\n    this.privKey = undefined;\n    this.metadata = undefined;\n    this.shares = {};\n    this.lastFetchedCloudMetadata = undefined;\n  }\n\n  getApi(): ITKeyApi {\n    return {\n      getMetadata: this.getMetadata.bind(this),\n      getStorageLayer: this.getStorageLayer.bind(this),\n      initialize: this.initialize.bind(this),\n      catchupToLatestShare: this.catchupToLatestShare.bind(this),\n      _syncShareMetadata: this._syncShareMetadata.bind(this),\n      _addRefreshMiddleware: this._addRefreshMiddleware.bind(this),\n      _addReconstructKeyMiddleware: this._addReconstructKeyMiddleware.bind(this),\n      _addShareSerializationMiddleware: this._addShareSerializationMiddleware.bind(this),\n      addShareDescription: this.addShareDescription.bind(this),\n      generateNewShare: this.generateNewShare.bind(this),\n      inputShareStore: this.inputShareStore.bind(this),\n      inputShareStoreSafe: this.inputShareStoreSafe.bind(this),\n      outputShareStore: this.outputShareStore.bind(this),\n      inputShare: this.inputShare.bind(this),\n      outputShare: this.outputShare.bind(this),\n      _setDeviceStorage: this._setDeviceStorage.bind(this),\n      encrypt: this.encrypt.bind(this),\n      decrypt: this.decrypt.bind(this),\n      getTKeyStore: this.getTKeyStore.bind(this),\n      getTKeyStoreItem: this.getTKeyStoreItem.bind(this),\n      _setTKeyStoreItem: this._setTKeyStoreItem.bind(this),\n      _deleteTKeyStoreItem: this._deleteTKeyStoreItem.bind(this),\n      deleteShare: this.deleteShare.bind(this),\n    };\n  }\n\n  private setModuleReferences() {\n    Object.keys(this.modules).map((x) => this.modules[x].setModuleReferences(this.getApi()));\n  }\n\n  private async initializeModules() {\n    return Promise.all(Object.keys(this.modules).map((x) => this.modules[x].initialize()));\n  }\n}\n\nexport default ThresholdKey;\n","import {\n  BNString,\n  decrypt as decryptUtils,\n  encrypt as encryptUtils,\n  EncryptedMessage,\n  getPubKeyECC,\n  IServiceProvider,\n  PubKeyType,\n  ServiceProviderArgs,\n  StringifiedType,\n  toPrivKeyEC,\n  toPrivKeyECC,\n} from \"@tkey/common-types\";\nimport BN from \"bn.js\";\nimport { curve } from \"elliptic\";\n\nclass ServiceProviderBase implements IServiceProvider {\n  enableLogging: boolean;\n\n  // For easy serialization\n  postboxKey: BN;\n\n  serviceProviderName: string;\n\n  constructor({ enableLogging = false, postboxKey }: ServiceProviderArgs) {\n    this.enableLogging = enableLogging;\n    this.postboxKey = new BN(postboxKey, \"hex\");\n    this.serviceProviderName = \"ServiceProviderBase\";\n  }\n\n  static fromJSON(value: StringifiedType): IServiceProvider {\n    const { enableLogging, postboxKey, serviceProviderName } = value;\n    if (serviceProviderName !== \"ServiceProviderBase\") return undefined;\n\n    return new ServiceProviderBase({ enableLogging, postboxKey });\n  }\n\n  async encrypt(msg: Buffer): Promise<EncryptedMessage> {\n    const publicKey = this.retrievePubKey(\"ecc\");\n    return encryptUtils(publicKey, msg);\n  }\n\n  async decrypt(msg: EncryptedMessage): Promise<Buffer> {\n    return decryptUtils(toPrivKeyECC(this.postboxKey), msg);\n  }\n\n  retrievePubKeyPoint(): curve.base.BasePoint {\n    return toPrivKeyEC(this.postboxKey).getPublic();\n  }\n\n  retrievePubKey(type: PubKeyType): Buffer {\n    if (type === \"ecc\") {\n      return getPubKeyECC(this.postboxKey);\n    }\n    throw new Error(\"Unsupported pub key type\");\n  }\n\n  sign(msg: BNString): string {\n    const tmp = new BN(msg, \"hex\");\n    const sig = toPrivKeyEC(this.postboxKey).sign(tmp.toString(\"hex\"));\n    return Buffer.from(sig.r.toString(16, 64) + sig.s.toString(16, 64) + new BN(0).toString(16, 2), \"hex\").toString(\"base64\");\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      enableLogging: this.enableLogging,\n      postboxKey: this.postboxKey.toString(\"hex\"),\n      serviceProviderName: this.serviceProviderName,\n    };\n  }\n}\n\nexport default ServiceProviderBase;\n","import Bowser from 'bowser';\nimport loglevel from 'loglevel';\n\n/**\n * returns true if the given object is a promise\n */\nexport function isPromise(obj) {\n  if (obj && typeof obj.then === 'function') {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport var PROMISE_RESOLVED_FALSE = Promise.resolve(false);\nexport var PROMISE_RESOLVED_TRUE = Promise.resolve(true);\nexport var PROMISE_RESOLVED_VOID = Promise.resolve();\nexport function sleep(time, resolveWith) {\n  if (!time) time = 0;\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      return res(resolveWith);\n    }, time);\n  });\n}\nexport function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\n * https://stackoverflow.com/a/8084248\n */\nexport function randomToken() {\n  return Math.random().toString(36).substring(2);\n}\nvar lastMs = 0;\nvar additional = 0;\n\n/**\n * returns the current time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */\nexport function microSeconds() {\n  var ms = new Date().getTime();\n  if (ms === lastMs) {\n    additional++;\n    return ms * 1000 + additional;\n  } else {\n    lastMs = ms;\n    additional = 0;\n    return ms * 1000;\n  }\n}\nexport function are3PCSupported() {\n  if (typeof navigator === 'undefined') return false;\n  var browserInfo = Bowser.parse(navigator.userAgent);\n  log.info(JSON.stringify(browserInfo), 'current browser info');\n  var thirdPartyCookieSupport = true;\n  // brave\n  if (navigator.brave) {\n    thirdPartyCookieSupport = false;\n  }\n  // All webkit & gecko engine instances use itp (intelligent tracking prevention -\n  // https://webkit.org/tracking-prevention/#intelligent-tracking-prevention-itp)\n  if (browserInfo.engine.name === Bowser.ENGINE_MAP.WebKit || browserInfo.engine.name === Bowser.ENGINE_MAP.Gecko) {\n    thirdPartyCookieSupport = false;\n  }\n  return thirdPartyCookieSupport;\n}\nexport var log = loglevel.getLogger('broadcast-channel');\nlog.setLevel('error');\nexport var setLogLevel = function setLogLevel(level) {\n  log.setLevel(level);\n};","import { microSeconds as micro, PROMISE_RESOLVED_VOID } from '../util';\nexport var microSeconds = micro;\nexport var type = 'native';\nexport function create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n  return state;\n}\nexport function close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nexport function postMessage(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return PROMISE_RESOLVED_VOID;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed(options) {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (typeof window === 'undefined') return false;\n  if (!options.support3PC) return false;\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n    return true;\n  } else return false;\n}\nexport function averageResponseTime() {\n  return 150;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","\n/**\n * this is a set which automatically forgets\n * a given entry when a new entry is set and the ttl\n * of the old one is over\n */\nexport class ObliviousSet<T = any> {\n    public readonly map = new Map();\n\n    /**\n     * Creating calls to setTimeout() is expensive,\n     * so we only do that if there is not timeout already open.\n     */\n    public _to: boolean = false;\n    constructor(\n        public readonly ttl: number\n    ) { }\n\n    has(value: T): boolean {\n        return this.map.has(value);\n    }\n\n    add(value: T): void {\n        this.map.set(value, now());\n\n        /**\n         * When a new value is added,\n         * start the cleanup at the next tick\n         * to not block the cpu for more important stuff\n         * that might happen.\n         */\n        if (!this._to) {\n            this._to = true;\n            setTimeout(() => {\n                this._to = false;\n                removeTooOldValues(this);\n            }, 0);\n        }\n    }\n\n    clear() {\n        this.map.clear();\n    }\n}\n\n\n/**\n * Removes all entries from the set\n * where the TTL has expired\n */\nexport function removeTooOldValues(\n    obliviousSet: ObliviousSet\n) {\n    const olderThen = now() - obliviousSet.ttl;\n    const iterator = obliviousSet.map[Symbol.iterator]();\n\n    /**\n     * Because we can assume the new values are added at the bottom,\n     * we start from the top and stop as soon as we reach a non-too-old value.\n     */\n    while (true) {\n\n        const next = iterator.next().value;\n\n        if (!next) {\n            return; // no more elements\n        }\n        const value = next[0];\n        const time = next[1];\n        if (time < olderThen) {\n            obliviousSet.map.delete(value);\n        } else {\n            // We reached a value that is not old enough\n            return;\n        }\n    }\n}\n\nexport function now(): number {\n    return new Date().getTime();\n}\n\n\n","import { are3PCSupported } from './util';\nexport function fillOptionsWithDefaults() {\n  var originalOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = JSON.parse(JSON.stringify(originalOptions));\n  if (typeof options.support3PC === 'undefined') options.support3PC = are3PCSupported();\n\n  // main\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true;\n\n  // indexed-db\n  if (!options.idb) options.idb = {};\n  //  after this time the messages get deleted\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150;\n  //  handles abrupt db onclose events.\n  if (originalOptions.idb && typeof originalOptions.idb.onclose === 'function') options.idb.onclose = originalOptions.idb.onclose;\n\n  // localstorage\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60;\n\n  // server\n  if (!options.server) options.server = {};\n  if (!options.server.url) options.server.url = 'https://broadcast-server.tor.us';\n  if (!options.server.removeTimeout) options.server.removeTimeout = 1000 * 60 * 5; // 5 minutes\n\n  // custom methods\n  if (originalOptions.methods) options.methods = originalOptions.methods;\n  return options;\n}","/**\n * this method uses indexeddb to store the messages\n * There is currently no observerAPI for idb\n * @link https://github.com/w3c/IndexedDB/issues/51\n *\n * When working on this, ensure to use these performance optimizations:\n * @link https://rxdb.info/slow-indexeddb.html\n */\n\nimport { sleep, randomInt, randomToken, microSeconds as micro, PROMISE_RESOLVED_VOID } from '../util.js';\nexport var microSeconds = micro;\nimport { ObliviousSet } from 'oblivious-set';\nimport { fillOptionsWithDefaults } from '../options';\nvar DB_PREFIX = 'pubkey.broadcast-channel-0-';\nvar OBJECT_STORE_ID = 'messages';\n\n/**\n * Use relaxed durability for faster performance on all transactions.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nexport var TRANSACTION_SETTINGS = {\n  durability: 'relaxed'\n};\nexport var type = 'idb';\nexport function getIdb() {\n  if (typeof indexedDB !== 'undefined') return indexedDB;\n  if (typeof window !== 'undefined') {\n    if (typeof window.mozIndexedDB !== 'undefined') return window.mozIndexedDB;\n    if (typeof window.webkitIndexedDB !== 'undefined') return window.webkitIndexedDB;\n    if (typeof window.msIndexedDB !== 'undefined') return window.msIndexedDB;\n  }\n  return false;\n}\n\n/**\n * If possible, we should explicitly commit IndexedDB transactions\n * for better performance.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nexport function commitIndexedDBTransaction(tx) {\n  if (tx.commit) {\n    tx.commit();\n  }\n}\nexport function createDatabase(channelName) {\n  var IndexedDB = getIdb();\n\n  // create table\n  var dbName = DB_PREFIX + channelName;\n\n  /**\n   * All IndexedDB databases are opened without version\n   * because it is a bit faster, especially on firefox\n   * @link http://nparashuram.com/IndexedDB/perf/#Open%20Database%20with%20version\n   */\n  var openRequest = IndexedDB.open(dbName);\n  openRequest.onupgradeneeded = function (ev) {\n    var db = ev.target.result;\n    db.createObjectStore(OBJECT_STORE_ID, {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  };\n  var dbPromise = new Promise(function (res, rej) {\n    openRequest.onerror = function (ev) {\n      return rej(ev);\n    };\n    openRequest.onsuccess = function () {\n      res(openRequest.result);\n    };\n  });\n  return dbPromise;\n}\n\n/**\n * writes the new message to the database\n * so other readers can find it\n */\nexport function writeMessage(db, readerUuid, messageJson) {\n  var time = new Date().getTime();\n  var writeObject = {\n    uuid: readerUuid,\n    time: time,\n    data: messageJson\n  };\n  var tx = db.transaction([OBJECT_STORE_ID], 'readwrite', TRANSACTION_SETTINGS);\n  return new Promise(function (res, rej) {\n    tx.oncomplete = function () {\n      return res();\n    };\n    tx.onerror = function (ev) {\n      return rej(ev);\n    };\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    objectStore.add(writeObject);\n    commitIndexedDBTransaction(tx);\n  });\n}\nexport function getAllMessages(db) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        ret.push(cursor.value);\n        //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n        cursor[\"continue\"]();\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nexport function getMessagesHigherThan(db, lastCursorId) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n\n  /**\n   * Optimization shortcut,\n   * if getAll() can be used, do not use a cursor.\n   * @link https://rxdb.info/slow-indexeddb.html\n   */\n  if (objectStore.getAll) {\n    var getAllRequest = objectStore.getAll(keyRangeValue);\n    return new Promise(function (res, rej) {\n      getAllRequest.onerror = function (err) {\n        return rej(err);\n      };\n      getAllRequest.onsuccess = function (e) {\n        res(e.target.result);\n      };\n    });\n  }\n  function openCursor() {\n    // Occasionally Safari will fail on IDBKeyRange.bound, this\n    // catches that error, having it open the cursor to the first\n    // item. When it gets data it will advance to the desired key.\n    try {\n      keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n      return objectStore.openCursor(keyRangeValue);\n    } catch (e) {\n      return objectStore.openCursor();\n    }\n  }\n  return new Promise(function (res, rej) {\n    var openCursorRequest = openCursor();\n    openCursorRequest.onerror = function (err) {\n      return rej(err);\n    };\n    openCursorRequest.onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        if (cursor.value.id < lastCursorId + 1) {\n          cursor[\"continue\"](lastCursorId + 1);\n        } else {\n          ret.push(cursor.value);\n          cursor[\"continue\"]();\n        }\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nexport function removeMessagesById(db, ids) {\n  var tx = db.transaction([OBJECT_STORE_ID], 'readwrite', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  return Promise.all(ids.map(function (id) {\n    var deleteRequest = objectStore[\"delete\"](id);\n    return new Promise(function (res) {\n      deleteRequest.onsuccess = function () {\n        return res();\n      };\n    });\n  }));\n}\nexport function getOldMessages(db, ttl) {\n  var olderThen = new Date().getTime() - ttl;\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        var msgObk = cursor.value;\n        if (msgObk.time < olderThen) {\n          ret.push(msgObk);\n          //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n          cursor[\"continue\"]();\n        } else {\n          // no more old messages,\n          commitIndexedDBTransaction(tx);\n          res(ret);\n          return;\n        }\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nexport function cleanOldMessages(db, ttl) {\n  return getOldMessages(db, ttl).then(function (tooOld) {\n    return removeMessagesById(db, tooOld.map(function (msg) {\n      return msg.id;\n    }));\n  });\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  return createDatabase(channelName).then(function (db) {\n    var state = {\n      closed: false,\n      lastCursorId: 0,\n      channelName: channelName,\n      options: options,\n      uuid: randomToken(),\n      /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */\n      eMIs: new ObliviousSet(options.idb.ttl * 2),\n      // ensures we do not read messages in parrallel\n      writeBlockPromise: PROMISE_RESOLVED_VOID,\n      messagesCallback: null,\n      readQueuePromises: [],\n      db: db\n    };\n\n    /**\n     * Handle abrupt closes that do not originate from db.close().\n     * This could happen, for example, if the underlying storage is\n     * removed or if the user clears the database in the browser's\n     * history preferences.\n     */\n    db.onclose = function () {\n      state.closed = true;\n      if (options.idb.onclose) options.idb.onclose();\n    };\n\n    /**\n     * if service-workers are used,\n     * we have no 'storage'-event if they post a message,\n     * therefore we also have to set an interval\n     */\n    _readLoop(state);\n    return state;\n  });\n}\nfunction _readLoop(state) {\n  if (state.closed) return;\n  readNewMessages(state).then(function () {\n    return sleep(state.options.idb.fallbackInterval);\n  }).then(function () {\n    return _readLoop(state);\n  });\n}\nfunction _filterMessage(msgObj, state) {\n  if (msgObj.uuid === state.uuid) return false; // send by own\n  if (state.eMIs.has(msgObj.id)) return false; // already emitted\n  if (msgObj.data.time < state.messagesCallbackTime) return false; // older then onMessageCallback\n  return true;\n}\n\n/**\n * reads all new messages from the database and emits them\n */\nfunction readNewMessages(state) {\n  // channel already closed\n  if (state.closed) return PROMISE_RESOLVED_VOID;\n\n  // if no one is listening, we do not need to scan for new messages\n  if (!state.messagesCallback) return PROMISE_RESOLVED_VOID;\n  return getMessagesHigherThan(state.db, state.lastCursorId).then(function (newerMessages) {\n    var useMessages = newerMessages\n    /**\n     * there is a bug in iOS where the msgObj can be undefined some times\n     * so we filter them out\n     * @link https://github.com/pubkey/broadcast-channel/issues/19\n     */.filter(function (msgObj) {\n      return !!msgObj;\n    }).map(function (msgObj) {\n      if (msgObj.id > state.lastCursorId) {\n        state.lastCursorId = msgObj.id;\n      }\n      return msgObj;\n    }).filter(function (msgObj) {\n      return _filterMessage(msgObj, state);\n    }).sort(function (msgObjA, msgObjB) {\n      return msgObjA.time - msgObjB.time;\n    }); // sort by time\n    useMessages.forEach(function (msgObj) {\n      if (state.messagesCallback) {\n        state.eMIs.add(msgObj.id);\n        state.messagesCallback(msgObj.data);\n      }\n    });\n    return PROMISE_RESOLVED_VOID;\n  });\n}\nexport function close(channelState) {\n  channelState.closed = true;\n  channelState.db.close();\n}\nexport function postMessage(channelState, messageJson) {\n  channelState.writeBlockPromise = channelState.writeBlockPromise.then(function () {\n    return writeMessage(channelState.db, channelState.uuid, messageJson);\n  }).then(function () {\n    if (randomInt(0, 10) === 0) {\n      /* await (do not await) */\n      cleanOldMessages(channelState.db, channelState.options.idb.ttl);\n    }\n  });\n  return channelState.writeBlockPromise;\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n  readNewMessages(channelState);\n}\nexport function canBeUsed(options) {\n  if (!options.support3PC) return false;\n  var idb = getIdb();\n  if (!idb) return false;\n  return true;\n}\nexport function averageResponseTime(options) {\n  return options.idb.fallbackInterval * 2;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\n\nimport { ObliviousSet } from 'oblivious-set';\nimport { fillOptionsWithDefaults } from '../options';\nimport { sleep, randomToken, microSeconds as micro } from '../util';\nexport var microSeconds = micro;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nexport var type = 'localstorage';\n\n/**\n * copied from crosstab\n * @link https://github.com/tejacques/crosstab/blob/master/src/crosstab.js#L32\n */\nexport function getLocalStorage() {\n  var localStorage;\n  if (typeof window === 'undefined') return null;\n  try {\n    localStorage = window.localStorage;\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage;\n  } catch (e) {\n    // New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n  return localStorage;\n}\nexport function storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n\n/**\n * writes the new message to the storage\n * and fires the storage-event so other readers can find it\n */\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    sleep().then(function () {\n      var key = storageKey(channelState.channelName);\n      var writeObj = {\n        token: randomToken(),\n        time: new Date().getTime(),\n        data: messageJson,\n        uuid: channelState.uuid\n      };\n      var value = JSON.stringify(writeObj);\n      getLocalStorage().setItem(key, value);\n\n      /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n      var ev = document.createEvent('Event');\n      ev.initEvent('storage', true, true);\n      ev.key = key;\n      ev.newValue = value;\n      window.dispatchEvent(ev);\n      res();\n    });\n  });\n}\nexport function addStorageEventListener(channelName, fn) {\n  var key = storageKey(channelName);\n  var listener = function listener(ev) {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue));\n    }\n  };\n  window.addEventListener('storage', listener);\n  return listener;\n}\nexport function removeStorageEventListener(listener) {\n  window.removeEventListener('storage', listener);\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  if (!canBeUsed(options)) {\n    throw new Error('BroadcastChannel: localstorage cannot be used');\n  }\n  var uuid = randomToken();\n\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n  var eMIs = new ObliviousSet(options.localstorage.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs // emittedMessagesIds\n  };\n\n  state.listener = addStorageEventListener(channelName, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n    if (msgObj.uuid === uuid) return; // own message\n    if (!msgObj.token || eMIs.has(msgObj.token)) return; // already emitted\n    if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  return state;\n}\nexport function close(channelState) {\n  removeStorageEventListener(channelState.listener);\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed(options) {\n  if (!options.support3PC) return false;\n  var ls = getLocalStorage();\n  if (!ls) return false;\n  try {\n    var key = '__broadcastchannel_check';\n    ls.setItem(key, 'works');\n    ls.removeItem(key);\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n    return false;\n  }\n  return true;\n}\nexport function averageResponseTime() {\n  var defaultTime = 120;\n  var userAgent = navigator.userAgent.toLowerCase();\n  if (userAgent.includes('safari') && !userAgent.includes('chrome')) {\n    // safari is much slower so this time is higher\n    return defaultTime * 2;\n  }\n  return defaultTime;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data\n            .arrayBuffer()\n            .then(toArray)\n            .then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, encoded => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nlet TEXT_DECODER;\nexport function decodePacketFromBinary(data, isBinary, binaryType) {\n    if (!TEXT_DECODER) {\n        // lazily created for compatibility with old browser platforms\n        TEXT_DECODER = new TextDecoder();\n    }\n    // 48 === \"0\".charCodeAt(0) (OPEN packet type)\n    // 54 === \"6\".charCodeAt(0) (NOOP packet type)\n    const isPlainBinary = isBinary || data[0] < 48 || data[0] > 54;\n    return decodePacket(isPlainBinary ? data : TEXT_DECODER.decode(data), binaryType);\n}\nexport const protocol = 4;\nexport { encodePacket, encodePacketToBinary, encodePayload, decodePacket, decodePayload };\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\nexport function createCookieJar() { }\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { createCookieJar, XHR as XMLHttpRequest, } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = createCookieJar();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"./websocket-constructor.js\";\nimport { encodePacketToBinary, decodePacketFromBinary, } from \"engine.io-parser\";\nfunction shouldIncludeBinaryHeader(packet, encoded) {\n    // 48 === \"0\".charCodeAt(0) (OPEN packet type)\n    // 54 === \"6\".charCodeAt(0) (NOOP packet type)\n    return (packet.type === \"message\" &&\n        typeof packet.data !== \"string\" &&\n        encoded[0] >= 48 &&\n        encoded[0] <= 54);\n}\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const reader = stream.readable.getReader();\n                this.writer = stream.writable.getWriter();\n                let binaryFlag;\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        if (!binaryFlag && value.byteLength === 1 && value[0] === 54) {\n                            binaryFlag = true;\n                        }\n                        else {\n                            // TODO expose binarytype\n                            this.onPacket(decodePacketFromBinary(value, binaryFlag, \"arraybuffer\"));\n                            binaryFlag = false;\n                        }\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const handshake = this.query.sid ? `0{\"sid\":\"${this.query.sid}\"}` : \"0\";\n                this.writer\n                    .write(new TextEncoder().encode(handshake))\n                    .then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacketToBinary(packet, (data) => {\n                if (shouldIncludeBinaryHeader(packet, data)) {\n                    this.writer.write(Uint8Array.of(54));\n                }\n                this.writer.write(data).then(() => {\n                    if (lastPacket) {\n                        nextTick(() => {\n                            this.writable = true;\n                            this.emitReserved(\"drain\");\n                        }, this.setTimeoutFn);\n                    }\n                });\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: Polling,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./transports/websocket-constructor.js\";\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import { ec as EC } from \"elliptic\";\nimport { keccak256 as keccakHash } from \"ethereum-cryptography/keccak\";\n\nexport function keccak256(a: Buffer): Buffer {\n  return Buffer.from(keccakHash(a));\n}\n\nexport const ec = new EC(\"secp256k1\");\n","import { decrypt, Ecies, encrypt, getPublic } from \"@toruslabs/eccrypto\";\n\nimport MetadataStorageLayer, { PubKeyParams } from \"./MetadataStorageLayer\";\nimport { ec } from \"./utils\";\n\nconst WEBAUTHN_TORUS_SHARE = \"webauthn_torus_share\";\nconst WEBAUTHN_DEVICE_SHARE = \"webauthn_device_share\";\n\nexport type EciesHex = {\n  iv: string;\n  ephemPublicKey: string;\n  ciphertext: string;\n  mac: string;\n};\n\nexport function encParamsHexToBuf(encParamsHex: EciesHex): Ecies {\n  return {\n    iv: Buffer.from(encParamsHex.iv, \"hex\"),\n    ephemPublicKey: Buffer.from(encParamsHex.ephemPublicKey, \"hex\"),\n    ciphertext: Buffer.from(encParamsHex.ciphertext, \"hex\"),\n    mac: Buffer.from(encParamsHex.mac, \"hex\"),\n  };\n}\n\nexport function encParamsBufToHex(encParams: Ecies): EciesHex {\n  return {\n    iv: Buffer.from(encParams.iv).toString(\"hex\"),\n    ephemPublicKey: Buffer.from(encParams.ephemPublicKey).toString(\"hex\"),\n    ciphertext: Buffer.from(encParams.ciphertext).toString(\"hex\"),\n    mac: Buffer.from(encParams.mac).toString(\"hex\"),\n  };\n}\n\nexport async function encryptData(privKeyHex: string, d: unknown): Promise<string> {\n  const serializedDec = JSON.stringify(d);\n  const serializedBuf = Buffer.from(serializedDec, \"utf-8\");\n  const encParams = await encrypt(getPublic(Buffer.from(privKeyHex, \"hex\")), serializedBuf);\n  const encParamsHex = encParamsBufToHex(encParams);\n  const sData = JSON.stringify(encParamsHex);\n  return sData;\n}\n\nexport async function decryptData<T>(privKeyHex: string, d: string): Promise<T> {\n  const encParamsHex: EciesHex = JSON.parse(d);\n  const encParams = encParamsHexToBuf(encParamsHex);\n  const keyPair = ec.keyFromPrivate(privKeyHex);\n  const serializedBuf = await decrypt(Buffer.from(keyPair.getPrivate().toString(\"hex\", 64), \"hex\"), encParams);\n  const serializedDec = serializedBuf.toString(\"utf-8\");\n  const data: T = JSON.parse(serializedDec);\n  return data;\n}\n\nexport async function getAndDecryptData<T>(m: MetadataStorageLayer, privKeyHex: string, namespace: string): Promise<Record<string, T> | null> {\n  const keyPair = ec.keyFromPrivate(privKeyHex);\n  const pubKey = keyPair.getPublic();\n  const serializedData = await m.getMetadata({ pub_key_X: pubKey.getX().toString(16), pub_key_Y: pubKey.getY().toString(16) }, namespace);\n  if (!serializedData) {\n    return null;\n  }\n  const data = await decryptData<T>(privKeyHex, serializedData);\n  return data as Record<string, T>;\n}\n\nexport async function encryptAndSetData(m: MetadataStorageLayer, privKeyHex: string, d: Record<string, unknown>, namespace: string): Promise<void> {\n  const sData = await encryptData(privKeyHex, d);\n  const metadataParams = m.generateMetadataParams(sData, privKeyHex);\n  await m.setMetadata(metadataParams, namespace);\n}\n\nexport async function setTorusShare(\n  m: MetadataStorageLayer,\n  webAuthnPubKey: PubKeyParams,\n  webAuthnRefHex: string,\n  subspace: string,\n  subspaceData: unknown\n): Promise<void> {\n  const refKeyPair = ec.keyFromPrivate(webAuthnRefHex);\n  const privKey = refKeyPair.getPrivate();\n  const pubKey = ec.keyFromPublic({\n    x: webAuthnPubKey.pub_key_X,\n    y: webAuthnPubKey.pub_key_Y,\n  });\n  const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_TORUS_SHARE);\n  let d: Record<string, unknown> = {};\n  if (data) d = data;\n  const serializedSubspaceData = JSON.stringify(subspaceData);\n  const serializedSubspaceDataBuf = Buffer.from(serializedSubspaceData, \"utf-8\");\n  const encSubspaceData = await encrypt(Buffer.from(pubKey.getPublic(\"hex\"), \"hex\"), serializedSubspaceDataBuf);\n  const encSubspaceDataHex = encParamsBufToHex(encSubspaceData);\n  d[subspace] = encSubspaceDataHex;\n  await encryptAndSetData(m, privKey.toString(\"hex\", 64), d, WEBAUTHN_TORUS_SHARE);\n}\n\nexport async function setDeviceShare(m: MetadataStorageLayer, webAuthnRefHex: string, subspace: string, subspaceData: unknown): Promise<void> {\n  const keyPair = ec.keyFromPrivate(webAuthnRefHex);\n  const privKey = keyPair.getPrivate();\n  const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_DEVICE_SHARE);\n  let d: Record<string, unknown> = {};\n  if (data) d = data;\n  d[subspace] = subspaceData;\n  await encryptAndSetData(m, privKey.toString(\"hex\", 64), d, WEBAUTHN_DEVICE_SHARE);\n}\n\nexport async function getTorusShare<T>(m: MetadataStorageLayer, webAuthnKeyHex: string, webAuthnRefHex: string, subspace: string): Promise<T | null> {\n  const data = await getAndDecryptData<EciesHex>(m, webAuthnRefHex, WEBAUTHN_TORUS_SHARE);\n  if (!data) return null;\n  const encParamsHex = data[subspace];\n  if (!encParamsHex) return null;\n  const encParams = encParamsHexToBuf(encParamsHex);\n  const keyPair = ec.keyFromPrivate(webAuthnKeyHex);\n  const privKey = keyPair.getPrivate();\n  const serializedSubspaceDataBuf = await decrypt(Buffer.from(privKey.toString(\"hex\", 64), \"hex\"), encParams);\n  const serializedSubspaceData = serializedSubspaceDataBuf.toString(\"utf-8\");\n  const subspaceData = JSON.parse(serializedSubspaceData);\n  return subspaceData;\n}\n\nexport async function getDeviceShare<T>(m: MetadataStorageLayer, webAuthnRefHex: string, subspace: string): Promise<T | null> {\n  const data = await getAndDecryptData<T>(m, webAuthnRefHex, WEBAUTHN_DEVICE_SHARE);\n  if (data) return data[subspace];\n  return null;\n}\n","import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\n\nimport { ObliviousSet } from 'oblivious-set';\nimport { io } from 'socket.io-client';\nimport { getPublic, sign } from '@toruslabs/eccrypto';\nimport { encryptData, decryptData, keccak256 } from '@toruslabs/metadata-helpers';\nimport { log } from '../util';\nimport { fillOptionsWithDefaults } from '../options';\nimport { sleep, randomToken, microSeconds as micro } from '../util';\nexport var microSeconds = micro;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nexport var type = 'server';\nvar SOCKET_CONN_INSTANCE = null;\n// used to decide to reconnect socket e.g. when socket connection is disconnected unexpectedly\nvar runningChannels = new Set();\nexport function storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n\n/**\n * writes the new message to the storage\n * and fires the storage-event so other readers can find it\n */\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res, rej) {\n    sleep().then( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var key, channelEncPrivKey, encData, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            key = storageKey(channelState.channelName);\n            channelEncPrivKey = keccak256(Buffer.from(key, 'utf8'));\n            _context.next = 4;\n            return encryptData(channelEncPrivKey.toString('hex'), {\n              token: randomToken(),\n              time: new Date().getTime(),\n              data: messageJson,\n              uuid: channelState.uuid\n            });\n          case 4:\n            encData = _context.sent;\n            _context.t0 = getPublic(channelEncPrivKey).toString('hex');\n            _context.t1 = encData;\n            _context.next = 9;\n            return sign(channelEncPrivKey, keccak256(Buffer.from(encData, 'utf8')));\n          case 9:\n            _context.t2 = _context.sent.toString('hex');\n            body = {\n              key: _context.t0,\n              data: _context.t1,\n              signature: _context.t2\n            };\n            if (channelState.timeout) body.timeout = channelState.timeout;\n            return _context.abrupt(\"return\", fetch(channelState.serverUrl + '/channel/set', {\n              method: 'POST',\n              body: JSON.stringify(body),\n              headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n              }\n            }).then(res)[\"catch\"](rej));\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    })));\n  });\n}\nexport function getSocketInstance(serverUrl) {\n  if (SOCKET_CONN_INSTANCE) {\n    return SOCKET_CONN_INSTANCE;\n  }\n  var SOCKET_CONN = io(serverUrl, {\n    transports: ['websocket', 'polling'],\n    // use WebSocket first, if available\n    withCredentials: true,\n    reconnectionDelayMax: 10000,\n    reconnectionAttempts: 10\n  });\n  SOCKET_CONN.on('connect_error', function (err) {\n    // revert to classic upgrade\n    SOCKET_CONN.io.opts.transports = ['polling', 'websocket'];\n    log.error('connect error', err);\n  });\n  SOCKET_CONN.on('connect', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var engine;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          engine = SOCKET_CONN.io.engine;\n          log.debug('initially connected to', engine.transport.name); // in most cases, prints \"polling\"\n          engine.once('upgrade', function () {\n            // called when the transport is upgraded (i.e. from HTTP long-polling to WebSocket)\n            log.debug('upgraded', engine.transport.name); // in most cases, prints \"websocket\"\n          });\n\n          engine.once('close', function (reason) {\n            // called when the underlying connection is closed\n            log.debug('connection closed', reason);\n          });\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  })));\n  SOCKET_CONN.on('error', function (err) {\n    log.error('socket errored', err);\n    SOCKET_CONN.disconnect();\n  });\n  SOCKET_CONN_INSTANCE = SOCKET_CONN;\n  return SOCKET_CONN;\n}\nexport function setupSocketConnection(serverUrl, channelName, fn) {\n  var socketConn = getSocketInstance(serverUrl);\n  var key = storageKey(channelName);\n  var channelEncPrivKey = keccak256(Buffer.from(key, 'utf8'));\n  var channelPubKey = getPublic(channelEncPrivKey).toString('hex');\n  if (socketConn.connected) {\n    socketConn.emit('check_auth_status', channelPubKey);\n  } else {\n    socketConn.once('connect', function () {\n      log.debug('connected with socket');\n      socketConn.emit('check_auth_status', channelPubKey);\n    });\n  }\n  var reconnect = function reconnect() {\n    socketConn.once('connect', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            socketConn.emit('check_auth_status', channelPubKey);\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    })));\n  };\n  var visibilityListener = function visibilityListener() {\n    // if channel is closed, then remove the listener.\n    if (!socketConn) {\n      document.removeEventListener('visibilitychange', visibilityListener);\n      return;\n    }\n    // if not connected, then wait for connection and ping server for latest msg.\n    if (!socketConn.connected && document.visibilityState === 'visible') {\n      reconnect();\n    }\n  };\n  var listener = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ev) {\n      var decData;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return decryptData(channelEncPrivKey.toString('hex'), ev);\n          case 3:\n            decData = _context4.sent;\n            log.info(decData);\n            fn(decData);\n            _context4.next = 11;\n            break;\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](0);\n            log.error(_context4.t0);\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[0, 8]]);\n    }));\n    return function listener(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  socketConn.on('disconnect', function () {\n    log.debug('socket disconnected');\n    if (runningChannels.has(channelName)) {\n      log.error('socket disconnected unexpectedly, reconnecting socket');\n      reconnect();\n    }\n  });\n  socketConn.on(channelPubKey + \"_success\", listener);\n  if (typeof document !== 'undefined') document.addEventListener('visibilitychange', visibilityListener);\n  return socketConn;\n}\nexport function removeStorageEventListener() {\n  if (SOCKET_CONN_INSTANCE) {\n    SOCKET_CONN_INSTANCE.disconnect();\n  }\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  if (!canBeUsed(options)) {\n    throw new Error('BroadcastChannel: server cannot be used');\n  }\n  var uuid = randomToken();\n\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n  var eMIs = new ObliviousSet(options.server.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs,\n    // emittedMessagesIds\n    serverUrl: options.server.url\n  };\n  if (options.server.timeout) state.timeout = options.server.timeout;\n  setupSocketConnection(options.server.url, channelName, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n    if (msgObj.uuid === state.uuid) return; // own message\n    if (!msgObj.token || state.eMIs.has(msgObj.token)) return; // already emitted\n    // if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    state.eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  runningChannels.add(channelName);\n  return state;\n}\nexport function close(channelState) {\n  runningChannels[\"delete\"](channelState.channelName);\n  // give 2 sec for all msgs which are in transit to be consumed\n  // by receiver.\n  // window.setTimeout(() => {\n  //     removeStorageEventListener(channelState);\n  //     SOCKET_CONN_INSTANCE = null;\n  // }, 1000);\n}\n\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  return true;\n}\nexport function averageResponseTime() {\n  var defaultTime = 500;\n  // TODO: Maybe increase it based on operation\n  return defaultTime;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import { microSeconds as micro } from '../util';\nexport var microSeconds = micro;\nexport var type = 'simulate';\nvar SIMULATE_CHANNELS = new Set();\nexport function create(channelName) {\n  var state = {\n    name: channelName,\n    messagesCallback: null\n  };\n  SIMULATE_CHANNELS.add(state);\n  return state;\n}\nexport function close(channelState) {\n  SIMULATE_CHANNELS[\"delete\"](channelState);\n}\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      var channelArray = Array.from(SIMULATE_CHANNELS);\n      channelArray.filter(function (channel) {\n        return channel.name === channelState.name;\n      }).filter(function (channel) {\n        return channel !== channelState;\n      }).filter(function (channel) {\n        return !!channel.messagesCallback;\n      }).forEach(function (channel) {\n        return channel.messagesCallback(messageJson);\n      });\n      res();\n    }, 5);\n  });\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  return true;\n}\nexport function averageResponseTime() {\n  return 5;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import NativeMethod from './methods/native.js';\nimport IndexeDbMethod from './methods/indexed-db.js';\nimport LocalstorageMethod from './methods/localstorage.js';\nimport ServerMethod from './methods/server.js';\nimport SimulateMethod from './methods/simulate.js';\n\n// order is important\nvar METHODS = [NativeMethod,\n// fastest\nIndexeDbMethod, LocalstorageMethod, ServerMethod];\nexport function chooseMethod(options) {\n  var chooseMethods = [].concat(options.methods, METHODS).filter(Boolean);\n\n  // directly chosen\n  if (options.type) {\n    if (options.type === 'simulate') {\n      // only use simulate-method if directly chosen\n      return SimulateMethod;\n    }\n    var ret = chooseMethods.find(function (m) {\n      return m.type === options.type;\n    });\n    if (!ret) throw new Error('method-type ' + options.type + ' not found');else return ret;\n  }\n\n  /**\n   * if no webworker support is needed,\n   * remove idb from the list so that localstorage is been chosen\n   */\n  if (!options.webWorkerSupport) {\n    chooseMethods = chooseMethods.filter(function (m) {\n      return m.type !== 'idb';\n    });\n  }\n  var useMethod = chooseMethods.find(function (method) {\n    return method.canBeUsed(options);\n  });\n  if (!useMethod) throw new Error(\"No useable method found in \" + JSON.stringify(METHODS.map(function (m) {\n    return m.type;\n  })));else return useMethod;\n}","import { isPromise, PROMISE_RESOLVED_VOID } from './util.js';\nimport { chooseMethod } from './method-chooser.js';\nimport { fillOptionsWithDefaults } from './options.js';\n\n/**\n * Contains all open channels,\n * used in tests to ensure everything is closed.\n */\nexport var OPEN_BROADCAST_CHANNELS = new Set();\nvar lastId = 0;\nexport var BroadcastChannel = function BroadcastChannel(name, options) {\n  // identifier of the channel to debug stuff\n  this.id = lastId++;\n  OPEN_BROADCAST_CHANNELS.add(this);\n  this.name = name;\n  if (ENFORCED_OPTIONS) {\n    options = ENFORCED_OPTIONS;\n  }\n  this.options = fillOptionsWithDefaults(options);\n  this.method = chooseMethod(this.options);\n\n  // isListening\n  this._iL = false;\n\n  /**\n   * _onMessageListener\n   * setting onmessage twice,\n   * will overwrite the first listener\n   */\n  this._onML = null;\n\n  /**\n   * _addEventListeners\n   */\n  this._addEL = {\n    message: [],\n    internal: []\n  };\n\n  /**\n   * Unsend message promises\n   * where the sending is still in progress\n   * @type {Set<Promise>}\n   */\n  this._uMP = new Set();\n\n  /**\n   * _beforeClose\n   * array of promises that will be awaited\n   * before the channel is closed\n   */\n  this._befC = [];\n\n  /**\n   * _preparePromise\n   */\n  this._prepP = null;\n  _prepareChannel(this);\n};\n\n// STATICS\n\n/**\n * used to identify if someone overwrites\n * window.BroadcastChannel with this\n * See methods/native.js\n */\nBroadcastChannel._pubkey = true;\n\n/**\n * if set, this method is enforced,\n * no mather what the options are\n */\nvar ENFORCED_OPTIONS;\nexport function enforceOptions(options) {\n  ENFORCED_OPTIONS = options;\n}\n\n// PROTOTYPE\nBroadcastChannel.prototype = {\n  postMessage: function postMessage(msg) {\n    if (this.closed) {\n      throw new Error('BroadcastChannel.postMessage(): ' + 'Cannot post message after channel has closed ' +\n      /**\n       * In the past when this error appeared, it was realy hard to debug.\n       * So now we log the msg together with the error so it at least\n       * gives some clue about where in your application this happens.\n       */\n      JSON.stringify(msg));\n    }\n    return _post(this, 'message', msg);\n  },\n  postInternal: function postInternal(msg) {\n    return _post(this, 'internal', msg);\n  },\n  set onmessage(fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n    _removeListenerObject(this, 'message', this._onML);\n    if (fn && typeof fn === 'function') {\n      this._onML = listenObj;\n      _addListenerObject(this, 'message', listenObj);\n    } else {\n      this._onML = null;\n    }\n  },\n  addEventListener: function addEventListener(type, fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n    _addListenerObject(this, type, listenObj);\n  },\n  removeEventListener: function removeEventListener(type, fn) {\n    var obj = this._addEL[type].find(function (obj) {\n      return obj.fn === fn;\n    });\n    _removeListenerObject(this, type, obj);\n  },\n  close: function close() {\n    var _this = this;\n    if (this.closed) {\n      return;\n    }\n    OPEN_BROADCAST_CHANNELS[\"delete\"](this);\n    this.closed = true;\n    var awaitPrepare = this._prepP ? this._prepP : PROMISE_RESOLVED_VOID;\n    this._onML = null;\n    this._addEL.message = [];\n    return awaitPrepare\n    // wait until all current sending are processed\n    .then(function () {\n      return Promise.all(Array.from(_this._uMP));\n    })\n    // run before-close hooks\n    .then(function () {\n      return Promise.all(_this._befC.map(function (fn) {\n        return fn();\n      }));\n    })\n    // close the channel\n    .then(function () {\n      return _this.method.close(_this._state);\n    });\n  },\n  get type() {\n    return this.method.type;\n  },\n  get isClosed() {\n    return this.closed;\n  }\n};\n\n/**\n * Post a message over the channel\n * @returns {Promise} that resolved when the message sending is done\n */\nfunction _post(broadcastChannel, type, msg) {\n  var time = broadcastChannel.method.microSeconds();\n  var msgObj = {\n    time: time,\n    type: type,\n    data: msg\n  };\n  var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : PROMISE_RESOLVED_VOID;\n  return awaitPrepare.then(function () {\n    var sendPromise = broadcastChannel.method.postMessage(broadcastChannel._state, msgObj);\n\n    // add/remove to unsend messages list\n    broadcastChannel._uMP.add(sendPromise);\n    sendPromise[\"catch\"]().then(function () {\n      return broadcastChannel._uMP[\"delete\"](sendPromise);\n    });\n    return sendPromise;\n  });\n}\nfunction _prepareChannel(channel) {\n  var maybePromise = channel.method.create(channel.name, channel.options);\n  if (isPromise(maybePromise)) {\n    channel._prepP = maybePromise;\n    maybePromise.then(function (s) {\n      // used in tests to simulate slow runtime\n      /*if (channel.options.prepareDelay) {\n           await new Promise(res => setTimeout(res, this.options.prepareDelay));\n      }*/\n      channel._state = s;\n    });\n  } else {\n    channel._state = maybePromise;\n  }\n}\nfunction _hasMessageListeners(channel) {\n  if (channel._addEL.message.length > 0) return true;\n  if (channel._addEL.internal.length > 0) return true;\n  return false;\n}\nfunction _addListenerObject(channel, type, obj) {\n  channel._addEL[type].push(obj);\n  _startListening(channel);\n}\nfunction _removeListenerObject(channel, type, obj) {\n  channel._addEL[type] = channel._addEL[type].filter(function (o) {\n    return o !== obj;\n  });\n  _stopListening(channel);\n}\nfunction _startListening(channel) {\n  if (!channel._iL && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n\n    var listenerFn = function listenerFn(msgObj) {\n      channel._addEL[msgObj.type].forEach(function (listenerObject) {\n        /**\n         * Getting the current time in JavaScript has no good precision.\n         * So instead of only listening to events that happend 'after' the listener\n         * was added, we also listen to events that happended 100ms before it.\n         * This ensures that when another process, like a WebWorker, sends events\n         * we do not miss them out because their timestamp is a bit off compared to the main process.\n         * Not doing this would make messages missing when we send data directly after subscribing and awaiting a response.\n         * @link https://johnresig.com/blog/accuracy-of-javascript-time/\n         */\n        var hundredMsInMicro = 100 * 1000;\n        var minMessageTime = listenerObject.time - hundredMsInMicro;\n        if (msgObj.time >= minMessageTime) {\n          listenerObject.fn(msgObj.data);\n        } else if (channel.method.type === 'server') {\n          // server msg might lag based on connection.\n          listenerObject.fn(msgObj.data);\n        }\n      });\n    };\n    var time = channel.method.microSeconds();\n    if (channel._prepP) {\n      channel._prepP.then(function () {\n        channel._iL = true;\n        channel.method.onMessage(channel._state, listenerFn, time);\n      });\n    } else {\n      channel._iL = true;\n      channel.method.onMessage(channel._state, listenerFn, time);\n    }\n  }\n}\nfunction _stopListening(channel) {\n  if (channel._iL && !_hasMessageListeners(channel)) {\n    // noone is listening, stop subscribing\n    channel._iL = false;\n    var time = channel.method.microSeconds();\n    channel.method.onMessage(channel._state, null, time);\n  }\n}","import { TORUS_NETWORK, TORUS_SAPPHIRE_NETWORK_TYPE } from \"@toruslabs/constants\";\n\nexport const SAPPHIRE_NETWORK_URLS: Record<TORUS_SAPPHIRE_NETWORK_TYPE, string[]> = {\n  [TORUS_NETWORK.SAPPHIRE_DEVNET]: [\n    \"https://sapphire-dev-2-1.authnetwork.dev\",\n    \"https://sapphire-dev-2-2.authnetwork.dev\",\n    \"https://sapphire-dev-2-3.authnetwork.dev\",\n    \"https://sapphire-dev-2-4.authnetwork.dev\",\n    \"https://sapphire-dev-2-5.authnetwork.dev\",\n  ],\n  [TORUS_NETWORK.SAPPHIRE_TESTNET]: [\n    \"https://lrc1.authnetwork.dev\",\n    \"https://lrc2.authnetwork.dev\",\n    \"https://lrc3.authnetwork.dev\",\n    \"https://lrc4.authnetwork.dev\",\n    \"https://lrc5.authnetwork.dev\",\n  ],\n  [TORUS_NETWORK.SAPPHIRE_MAINNET]: [\n    \"https://sapphire-1.auth.network\",\n    \"https://sapphire-2.auth.network\",\n    \"https://sapphire-3.auth.network\",\n    \"https://sapphire-4.auth.network\",\n    \"https://sapphire-5.auth.network\",\n  ],\n};\n\nexport const getSSSEndpoints = (network: TORUS_SAPPHIRE_NETWORK_TYPE) => {\n  const endpoints = SAPPHIRE_NETWORK_URLS[network];\n  if (!endpoints || endpoints.length === 0) {\n    throw new Error(`Unsupported network: ${network}`);\n  }\n\n  return endpoints.map((e) => {\n    return `${e}/sss/jrpc`;\n  });\n};\n\nexport const getRSSEndpoints = (network: TORUS_SAPPHIRE_NETWORK_TYPE) => {\n  const endpoints = SAPPHIRE_NETWORK_URLS[network];\n  if (!endpoints || endpoints.length === 0) {\n    throw new Error(`Unsupported network: ${network}`);\n  }\n\n  return endpoints.map((e) => {\n    return `${e}/rss`;\n  });\n};\n\nexport const getTSSEndpoints = (network: TORUS_SAPPHIRE_NETWORK_TYPE) => {\n  const endpoints = SAPPHIRE_NETWORK_URLS[network];\n  if (!endpoints || endpoints.length === 0) {\n    throw new Error(`Unsupported network: ${network}`);\n  }\n\n  return endpoints.map((e) => {\n    return `${e}/tss`;\n  });\n};\n","import { INodeDetails } from \"@toruslabs/constants\";\n\nexport const NODE_DETAILS_MAINNET: INodeDetails = {\n  currentEpoch: \"19\",\n\n  torusNodeEndpoints: [\n    \"https://torus-19.torusnode.com/jrpc\",\n    \"https://torus-node.ens.domains/jrpc\",\n    \"https://torus-node.matic.network/jrpc\",\n    \"https://torus.zilliqa.network/jrpc\",\n    \"https://torus-mainnet.cosmos.network/jrpc\",\n    \"https://torus2.etherscan.com/jrpc\",\n    \"https://torus-node-v2.skalelabs.com/jrpc\",\n    \"https://torus-node.binancex.dev/jrpc\",\n    \"https://torusnode.ont.io/jrpc\",\n  ],\n  torusIndexes: [1, 2, 3, 4, 5, 6, 7, 8, 9],\n  torusNodePub: [\n    {\n      X: \"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b\",\n      Y: \"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5\",\n    },\n    {\n      X: \"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d\",\n      Y: \"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873\",\n    },\n    {\n      X: \"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe\",\n      Y: \"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152\",\n    },\n    {\n      X: \"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768\",\n      Y: \"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef\",\n    },\n    {\n      X: \"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064\",\n      Y: \"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1\",\n    },\n    {\n      X: \"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139\",\n      Y: \"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122\",\n    },\n    {\n      X: \"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6\",\n      Y: \"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9\",\n    },\n    {\n      X: \"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043\",\n      Y: \"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46\",\n    },\n    {\n      X: \"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5\",\n      Y: \"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790\",\n    },\n  ],\n};\n","import { INodeDetails, TORUS_SAPPHIRE_NETWORK } from \"@toruslabs/constants\";\n\nimport { getRSSEndpoints, getSSSEndpoints, getTSSEndpoints, SAPPHIRE_NETWORK_URLS } from \"./endpoints\";\n\nexport const NODE_DETAILS_SAPPHIRE_DEVNET: INodeDetails = {\n  currentEpoch: \"1\",\n\n  torusNodeEndpoints: SAPPHIRE_NETWORK_URLS[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET],\n\n  torusNodeSSSEndpoints: getSSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET),\n\n  torusNodeRSSEndpoints: getRSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET),\n\n  torusNodeTSSEndpoints: getTSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET),\n  torusIndexes: [1, 2, 3, 4, 5],\n  torusNodePub: [\n    {\n      X: \"f74389b0a4c8d10d2a687ae575f69b20f412d41ab7f1fe6b358aa14871327247\",\n      Y: \"54e3a73098ed9bced3ef8821736e9794f9264a1420c0c7ad15d2fa617ba35ef7\",\n    },\n    {\n      X: \"bc38813a6873e526087918507c78fc3a61624670ee851ecfb4f3bef55d027b5a\",\n      Y: \"ac4b21229f662a0aefdfdac21cf17c3261a392c74a8790db218b34e3e4c1d56a\",\n    },\n    {\n      X: \"b56541684ea5fa40c8337b7688d502f0e9e092098962ad344c34e94f06d293fb\",\n      Y: \"759a998cef79d389082f9a75061a29190eec0cac99b8c25ddcf6b58569dad55c\",\n    },\n    {\n      X: \"7bcb058d4c6ffc6ba4bfdfd93d141af35a66338a62c7c27cdad2ae3f8289b767\",\n      Y: \"336ab1935e41ed4719e162587f0ab55518db4207a1eb36cc72303f1b86689d2b\",\n    },\n    {\n      X: \"bf12a136ef94399ea098f926f04e26a4ec4ac70f69cce274e8893704c4951773\",\n      Y: \"bdd44828020f52ce510e026338216ada184a6867eb4e19fb4c2d495d4a7e15e4\",\n    },\n  ],\n};\n","import { INodeDetails, TORUS_SAPPHIRE_NETWORK } from \"@toruslabs/constants\";\n\nimport { getRSSEndpoints, getSSSEndpoints, getTSSEndpoints, SAPPHIRE_NETWORK_URLS } from \"./endpoints\";\n\nexport const NODE_DETAILS_SAPPHIRE_TESTNET: INodeDetails = {\n  currentEpoch: \"1\",\n\n  torusNodeEndpoints: SAPPHIRE_NETWORK_URLS[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_TESTNET],\n\n  torusNodeSSSEndpoints: getSSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_TESTNET),\n\n  torusNodeRSSEndpoints: getRSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_TESTNET),\n\n  torusNodeTSSEndpoints: getTSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_TESTNET),\n  torusIndexes: [1, 2, 3, 4, 5],\n\n  torusNodePub: [\n    {\n      X: \"d0e57d0fb29f37888a71c5d1d8312b191121b53e7e77968ca59e5c2ceee89386\",\n      Y: \"2190e5e78c02ecdd4e5e04a01d3c12d847d53682ade7b6f715df1e1f3911081d\",\n    },\n    {\n      X: \"69d4fcd1ab4dedc06ac0bafaccac8e5459275ec12a8b3feaef26646ece902e38\",\n      Y: \"2319469c4344d78140ed9672c5231a0d045467dec66c77b53dfbefc56496ff3c\",\n    },\n    {\n      X: \"9b0ea52ef5d8fc68e02b3ea242b2b11556ab5746b92779a7c4d61ff57c054710\",\n      Y: \"0f9fc9e706e0a2d2b5c8511177583cdf5fa5379e2c3c1ed4db74aaded08b1a28\",\n    },\n    {\n      X: \"e08bb1de0c017241be3c8e2ab3e788b64cb83d77ddd5517424626d1e3a4a5406\",\n      Y: \"d4a87ae195e1f55fe4751caf22123d495cc4b51df48f234c956262fd1d8baafc\",\n    },\n    {\n      X: \"29154aaa5b76bdb5082ea9616769f1940e56de5c6d8afb8cc75fbd228302d961\",\n      Y: \"3535fb808e205f5589ca2dd28014103771266148ebc372f364dae0f3905dd811\",\n    },\n  ],\n};\n","import { INodeDetails, TORUS_SAPPHIRE_NETWORK } from \"@toruslabs/constants\";\n\nimport { getRSSEndpoints, getSSSEndpoints, getTSSEndpoints, SAPPHIRE_NETWORK_URLS } from \"./endpoints\";\n\nexport const NODE_DETAILS_SAPPHIRE_MAINNET: INodeDetails = {\n  currentEpoch: \"1\",\n\n  torusNodeEndpoints: SAPPHIRE_NETWORK_URLS[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET],\n\n  torusNodeSSSEndpoints: getSSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET),\n\n  torusNodeRSSEndpoints: getRSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET),\n\n  torusNodeTSSEndpoints: getTSSEndpoints(TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET),\n  torusIndexes: [1, 2, 3, 4, 5],\n\n  torusNodePub: [\n    {\n      X: \"e0925898fee0e9e941fdca7ee88deec99939ae9407e923535c4d4a3a3ff8b052\",\n      Y: \"54b9fea924e3f3e40791f9987f4234ae4222412d65b74068032fa5d8b63375c1\",\n    },\n    {\n      X: \"9124cf1e280aab32ba50dffd2de81cecabc13d82d2c1fe9de82f3b3523f9b637\",\n      Y: \"fca939a1ceb42ce745c55b21ef094f543b457630cb63a94ef4f1afeee2b1f107\",\n    },\n    {\n      X: \"555f681a63d469cc6c3a58a97e29ebd277425f0e6159708e7c7bf05f18f89476\",\n      Y: \"606f2bcc0884fa5b64366fc3e8362e4939841b56acd60d5f4553cf36b891ac4e\",\n    },\n    {\n      X: \"2b5f58d8e340f1ab922e89b3a69a68930edfe51364644a456335e179bc130128\",\n      Y: \"4b4daa05939426e3cbe7d08f0e773d2bf36f64c00d04620ee6df2a7af4d2247\",\n    },\n    {\n      X: \"3ecbb6a68afe72cf34ec6c0a12b5cb78a0d2e83ba402983b6adbc5f36219861a\",\n      Y: \"dc1031c5cc8f0472bd521a62a64ebca9e163902c247bf05937daf4ae835091e4\",\n    },\n  ],\n};\n","import { INodeDetails } from \"@toruslabs/constants\";\n\nexport const NODE_DETAILS_TESTNET: INodeDetails = {\n  currentEpoch: \"15\",\n  torusNodeEndpoints: [\n    \"https://teal-15-1.torusnode.com/jrpc\",\n    \"https://teal-15-3.torusnode.com/jrpc\",\n    \"https://teal-15-4.torusnode.com/jrpc\",\n    \"https://teal-15-5.torusnode.com/jrpc\",\n    \"https://teal-15-2.torusnode.com/jrpc\",\n  ],\n  torusNodePub: [\n    {\n      X: \"1363aad8868cacd7f8946c590325cd463106fb3731f08811ab4302d2deae35c3\",\n      Y: \"d77eebe5cdf466b475ec892d5b4cffbe0c1670525debbd97eee6dae2f87a7cbe\",\n    },\n    {\n      X: \"7c8cc521c48690f016bea593f67f88ad24f447dd6c31bbab541e59e207bf029d\",\n      Y: \"b359f0a82608db2e06b953b36d0c9a473a00458117ca32a5b0f4563a7d539636\",\n    },\n    {\n      X: \"8a86543ca17df5687719e2549caa024cf17fe0361e119e741eaee668f8dd0a6f\",\n      Y: \"9cdb254ff915a76950d6d13d78ef054d5d0dc34e2908c00bb009a6e4da701891\",\n    },\n    {\n      X: \"25a98d9ae006aed1d77e81d58be8f67193d13d01a9888e2923841894f4b0bf9c\",\n      Y: \"f63d40df480dacf68922004ed36dbab9e2969181b047730a5ce0797fb6958249\",\n    },\n    {\n      X: \"d908f41f8e06324a8a7abcf702adb6a273ce3ae63d86a3d22723e1bbf1438c9a\",\n      Y: \"f977530b3ec0e525438c72d1e768380cbc5fb3b38a760ee925053b2e169428ce\",\n    },\n  ],\n  torusIndexes: [1, 2, 3, 4, 5],\n};\n","import { INodeDetails, INodePub, MULTI_CLUSTER_NETWORKS, TORUS_NETWORK, TORUS_NETWORK_TYPE } from \"@toruslabs/constants\";\nimport { fetchLocalConfig } from \"@toruslabs/fnd-base\";\nimport { get } from \"@toruslabs/http-helpers\";\nimport logger from \"loglevel\";\n\nimport { NodeDetailManagerParams } from \"./interfaces\";\n\nconst log = logger.getLogger(\"fnd\");\n\nclass NodeDetailManager {\n  private fndServerEndpoint = \"https://fnd.tor.us/node-details\";\n\n  private _currentEpoch = \"1\";\n\n  private _torusNodeEndpoints: string[] = [];\n\n  private _torusNodeRSSEndpoints: string[] = [];\n\n  private _torusNodeSSSEndpoints: string[] = [];\n\n  private _torusNodeTSSEndpoints: string[] = [];\n\n  private _torusNodePub: INodePub[] = [];\n\n  private _torusIndexes: number[] = [];\n\n  private updated: boolean;\n\n  private network: TORUS_NETWORK_TYPE;\n\n  constructor({ network = TORUS_NETWORK.MAINNET, fndServerEndpoint, enableLogging = false }: NodeDetailManagerParams = {}) {\n    this.network = network;\n    this.updated = false;\n    if (fndServerEndpoint) {\n      this.fndServerEndpoint = fndServerEndpoint;\n    }\n    if (enableLogging) {\n      log.enableAll();\n    } else {\n      log.disableAll();\n    }\n  }\n\n  get _nodeDetails(): INodeDetails {\n    return {\n      currentEpoch: this._currentEpoch,\n      torusNodeEndpoints: this._torusNodeEndpoints,\n      torusNodeSSSEndpoints: this._torusNodeSSSEndpoints,\n      torusNodeRSSEndpoints: this._torusNodeRSSEndpoints,\n      torusNodeTSSEndpoints: this._torusNodeTSSEndpoints,\n      torusNodePub: this._torusNodePub,\n      torusIndexes: this._torusIndexes,\n      updated: this.updated,\n    };\n  }\n\n  async getNodeDetails({ verifier, verifierId }: { verifier: string; verifierId: string }): Promise<INodeDetails> {\n    try {\n      if (this.updated && !MULTI_CLUSTER_NETWORKS.includes(this.network)) return this._nodeDetails;\n\n      try {\n        const { nodeDetails } = await get<{ nodeDetails: INodeDetails }>(\n          `${this.fndServerEndpoint}?network=${this.network}&verifier=${verifier}&verifierId=${verifierId}`\n        );\n        this.setNodeDetails(nodeDetails);\n\n        return this._nodeDetails;\n      } catch (error) {\n        log.error(\"Failed to fetch node details from server, using local.\", error);\n      }\n\n      const nodeDetails = fetchLocalConfig(this.network as TORUS_NETWORK_TYPE);\n      if (!nodeDetails) throw new Error(\"Failed to fetch node details\");\n      this.setNodeDetails(nodeDetails);\n      return this._nodeDetails;\n    } catch (error) {\n      log.error(\"Failed to fetch node details\", error);\n      throw error;\n    }\n  }\n\n  private setNodeDetails(nodeDetails: INodeDetails) {\n    const { currentEpoch, torusNodeEndpoints, torusNodeSSSEndpoints, torusNodeRSSEndpoints, torusNodeTSSEndpoints, torusNodePub, torusIndexes } =\n      nodeDetails;\n    this._torusNodeEndpoints = torusNodeEndpoints;\n    this._torusNodeSSSEndpoints = torusNodeSSSEndpoints || [];\n    this._torusNodeRSSEndpoints = torusNodeRSSEndpoints || [];\n    this._torusNodeTSSEndpoints = torusNodeTSSEndpoints || [];\n    this._torusNodePub = torusNodePub;\n    this._torusIndexes = torusIndexes;\n    this._currentEpoch = currentEpoch;\n    this.updated = true;\n  }\n}\n\nexport default NodeDetailManager;\n","import { INodeDetails, TORUS_NETWORK, TORUS_NETWORK_TYPE } from \"@toruslabs/constants\";\n\nimport { NODE_DETAILS_MAINNET } from \"./mainnetConfig\";\nimport { NODE_DETAILS_SAPPHIRE_DEVNET } from \"./sapphireDevnetConfig\";\nimport { NODE_DETAILS_SAPPHIRE_TESTNET } from \"./sapphireLrcConfig\";\nimport { NODE_DETAILS_SAPPHIRE_MAINNET } from \"./sapphireMainnetConfig\";\nimport { NODE_DETAILS_TESTNET } from \"./testnetConfig\";\n\nexport function fetchLocalConfig(network: TORUS_NETWORK_TYPE): INodeDetails | undefined {\n  if (network === TORUS_NETWORK.SAPPHIRE_DEVNET) {\n    return NODE_DETAILS_SAPPHIRE_DEVNET;\n  } else if (network === TORUS_NETWORK.SAPPHIRE_TESTNET) {\n    return NODE_DETAILS_SAPPHIRE_TESTNET;\n  } else if (network === TORUS_NETWORK.SAPPHIRE_MAINNET) {\n    return NODE_DETAILS_SAPPHIRE_MAINNET;\n  } else if (network === TORUS_NETWORK.MAINNET) {\n    return NODE_DETAILS_MAINNET;\n  } else if (network === TORUS_NETWORK.TESTNET) {\n    return NODE_DETAILS_TESTNET;\n  }\n  return undefined;\n}\n","export const LOGIN = {\n  GOOGLE: \"google\",\n  FACEBOOK: \"facebook\",\n  REDDIT: \"reddit\",\n  DISCORD: \"discord\",\n  TWITCH: \"twitch\",\n  APPLE: \"apple\",\n  GITHUB: \"github\",\n  LINKEDIN: \"linkedin\",\n  TWITTER: \"twitter\",\n  WEIBO: \"weibo\",\n  LINE: \"line\",\n  EMAIL_PASSWORD: \"email_password\",\n  PASSWORDLESS: \"passwordless\",\n  JWT: \"jwt\",\n  WEBAUTHN: \"webauthn\",\n} as const;\n\nexport const AGGREGATE_VERIFIER = {\n  SINGLE_VERIFIER_ID: \"single_id_verifier\",\n  // AND_AGGREGATE_VERIFIER : \"and_aggregate_verifier\",\n  // OR_AGGREGATE_VERIFIER : \"or_aggregate_verifier\",\n} as const;\n\nexport const UX_MODE = {\n  POPUP: \"popup\",\n  REDIRECT: \"redirect\",\n} as const;\n\nexport const REDIRECT_PARAMS_STORAGE_METHOD = {\n  LOCAL_STORAGE: \"localStorage\",\n  SESSION_STORAGE: \"sessionStorage\",\n  SERVER: \"server\",\n};\n\nexport const TORUS_METHOD = {\n  TRIGGER_LOGIN: \"triggerLogin\",\n  TRIGGER_AGGREGATE_LOGIN: \"triggerAggregateLogin\",\n  TRIGGER_AGGREGATE_HYBRID_LOGIN: \"triggerHybridAggregateLogin\",\n} as const;\n\nexport type LOGIN_TYPE = (typeof LOGIN)[keyof typeof LOGIN];\nexport type AGGREGATE_VERIFIER_TYPE = (typeof AGGREGATE_VERIFIER)[keyof typeof AGGREGATE_VERIFIER];\nexport type UX_MODE_TYPE = (typeof UX_MODE)[keyof typeof UX_MODE];\nexport type TORUS_METHOD_TYPE = (typeof TORUS_METHOD)[keyof typeof TORUS_METHOD];\nexport type REDIRECT_PARAMS_STORAGE_METHOD_TYPE = (typeof REDIRECT_PARAMS_STORAGE_METHOD)[keyof typeof REDIRECT_PARAMS_STORAGE_METHOD];\n\nexport const SENTRY_TXNS = {\n  FETCH_NODE_DETAILS: \"fetchNodeDetails\",\n  PUB_ADDRESS_LOOKUP: \"pubAddressLookup\",\n  FETCH_SHARES: \"fetchShares\",\n} as const;\n","import loglevel from \"loglevel\";\n\nexport default loglevel.getLogger(\"customauth\");\n","import Bowser from \"bowser\";\n\nimport { Auth0UserInfo, TorusGenericObject } from \"../handlers/interfaces\";\nimport { LOGIN, LOGIN_TYPE, REDIRECT_PARAMS_STORAGE_METHOD_TYPE } from \"./enums\";\nimport log from \"./loglevel\";\ninterface CustomMessageEvent extends MessageEvent {\n  error: string;\n}\n\ninterface EventListener {\n  (evt: CustomMessageEvent): void;\n}\n\ntype EmitterType = { addEventListener(type: string, handler: EventListener): void; removeEventListener(type: string, handler: EventListener): void };\n\nexport function eventToPromise<T>(emitter: EmitterType): Promise<T> {\n  return new Promise<T>((resolve, reject) => {\n    const handler = (ev: CustomMessageEvent) => {\n      const { error = \"\", data } = ev;\n      emitter.removeEventListener(\"message\", handler);\n      if (error) return reject(new Error(error));\n      return resolve(data as T);\n    };\n    emitter.addEventListener(\"message\", handler);\n  });\n}\n\n// These are the connection names used by auth0\nexport const loginToConnectionMap = {\n  [LOGIN.APPLE]: \"apple\",\n  [LOGIN.GITHUB]: \"github\",\n  [LOGIN.LINKEDIN]: \"linkedin\",\n  [LOGIN.TWITTER]: \"twitter\",\n  [LOGIN.WEIBO]: \"weibo\",\n  [LOGIN.LINE]: \"line\",\n  [LOGIN.EMAIL_PASSWORD]: \"Username-Password-Authentication\",\n  [LOGIN.PASSWORDLESS]: \"email\",\n};\n\nexport const padUrlString = (url: URL): string => (url.href.endsWith(\"/\") ? url.href : `${url.href}/`);\n\n/**\n * Returns a random number. Don't use for cryptographic purposes.\n * @returns a random number\n */\nexport const randomId = (): string => Math.random().toString(36).slice(2);\n\nexport const broadcastChannelOptions = {\n  // type: 'localstorage', // (optional) enforce a type, oneOf['native', 'idb', 'localstorage', 'node']\n  webWorkerSupport: false, // (optional) set this to false if you know that your channel will never be used in a WebWorker (increases performance)\n};\n\nfunction caseSensitiveField(field: string, isCaseSensitive?: boolean): string {\n  return isCaseSensitive ? field : field.toLowerCase();\n}\n\nexport const getVerifierId = (\n  userInfo: Auth0UserInfo,\n  typeOfLogin: LOGIN_TYPE,\n  verifierIdField?: string,\n  isVerifierIdCaseSensitive = true\n): string => {\n  const { name, sub } = userInfo;\n  if (verifierIdField) return caseSensitiveField(userInfo[verifierIdField], isVerifierIdCaseSensitive);\n  switch (typeOfLogin) {\n    case LOGIN.PASSWORDLESS:\n    case LOGIN.EMAIL_PASSWORD:\n      return caseSensitiveField(name, isVerifierIdCaseSensitive);\n    case LOGIN.WEIBO:\n    case LOGIN.GITHUB:\n    case LOGIN.TWITTER:\n    case LOGIN.APPLE:\n    case LOGIN.LINKEDIN:\n    case LOGIN.LINE:\n    case LOGIN.JWT:\n      return caseSensitiveField(sub, isVerifierIdCaseSensitive);\n    default:\n      throw new Error(\"Invalid login type\");\n  }\n};\n\nexport const handleRedirectParameters = (\n  hash: string,\n  queryParameters: TorusGenericObject\n): { error: string; instanceParameters: TorusGenericObject; hashParameters: TorusGenericObject } => {\n  const hashParameters: TorusGenericObject = hash.split(\"&\").reduce((result, item) => {\n    const [part0, part1] = item.split(\"=\");\n    result[part0] = part1;\n    return result;\n  }, {});\n  log.info(hashParameters, queryParameters);\n  let instanceParameters: TorusGenericObject = {};\n  let error = \"\";\n  if (Object.keys(hashParameters).length > 0 && hashParameters.state) {\n    instanceParameters = JSON.parse(atob(decodeURIComponent(decodeURIComponent(hashParameters.state)))) || {};\n    error = hashParameters.error_description || hashParameters.error || error;\n  } else if (Object.keys(queryParameters).length > 0 && queryParameters.state) {\n    instanceParameters = JSON.parse(atob(decodeURIComponent(decodeURIComponent(queryParameters.state)))) || {};\n    if (queryParameters.error) error = queryParameters.error;\n  }\n  return { error, instanceParameters, hashParameters };\n};\n\nexport function storageAvailable(type: REDIRECT_PARAMS_STORAGE_METHOD_TYPE): boolean {\n  let storage: Storage;\n  try {\n    storage = window[type];\n    const x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return (\n      e &&\n      // everything except Firefox\n      (e.code === 22 ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === \"QuotaExceededError\" ||\n        // Firefox\n        e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\n      // acknowledge QuotaExceededError only if there's something already stored\n      storage &&\n      storage.length !== 0\n    );\n  }\n}\n\nexport function getPopupFeatures(): string {\n  // Fixes dual-screen position                             Most browsers      Firefox\n  const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n\n  const w = 1200;\n  const h = 700;\n\n  const width = window.innerWidth\n    ? window.innerWidth\n    : document.documentElement.clientWidth\n    ? document.documentElement.clientWidth\n    : window.screen.width;\n\n  const height = window.innerHeight\n    ? window.innerHeight\n    : document.documentElement.clientHeight\n    ? document.documentElement.clientHeight\n    : window.screen.height;\n\n  const systemZoom = 1; // No reliable estimate\n\n  const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n  const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n  const features = `titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${h / systemZoom},width=${w / systemZoom},top=${top},left=${left}`;\n  return features;\n}\n\nexport const isFirefox = (): boolean => window?.navigator?.userAgent.toLowerCase().indexOf(\"firefox\") > -1 || false;\n\nexport function constructURL(params: { baseURL: string; query?: Record<string, unknown>; hash?: Record<string, unknown> }): string {\n  const { baseURL, query, hash } = params;\n\n  const url = new URL(baseURL);\n  if (query) {\n    Object.keys(query).forEach((key) => {\n      url.searchParams.append(key, query[key] as string);\n    });\n  }\n  if (hash) {\n    const h = new URL(constructURL({ baseURL, query: hash })).searchParams.toString();\n    url.hash = h;\n  }\n  return url.toString();\n}\n\nexport function are3PCSupported(): boolean {\n  const browserInfo = Bowser.parse(navigator.userAgent);\n  log.info(JSON.stringify(browserInfo), \"current browser info\");\n\n  let thirdPartyCookieSupport = true;\n  // brave\n  if ((navigator as unknown as { brave: boolean })?.brave) {\n    thirdPartyCookieSupport = false;\n  }\n  // All webkit & gecko engine instances use itp (intelligent tracking prevention -\n  // https://webkit.org/tracking-prevention/#intelligent-tracking-prevention-itp)\n  if (browserInfo.engine.name === Bowser.ENGINE_MAP.WebKit || browserInfo.engine.name === Bowser.ENGINE_MAP.Gecko) {\n    thirdPartyCookieSupport = false;\n  }\n\n  return thirdPartyCookieSupport;\n}\n\nexport const validateAndConstructUrl = (domain: string): URL => {\n  try {\n    const url = new URL(decodeURIComponent(domain));\n    return url;\n  } catch (error) {\n    throw new Error(`${error?.message || \"\"}, Note: Your jwt domain: (i.e ${domain}) must have http:// or https:// prefix`);\n  }\n};\n","import { EventEmitter } from \"events\";\n\nimport { getPopupFeatures } from \"./helpers\";\n\nclass PopupHandler extends EventEmitter {\n  url: URL;\n\n  target: string;\n\n  features: string;\n\n  window: Window;\n\n  windowTimer: number;\n\n  iClosedWindow: boolean;\n\n  constructor({ url, target, features }: { url: URL; target?: string; features?: string }) {\n    super();\n    this.url = url;\n    this.target = target || \"_blank\";\n    this.features = features || getPopupFeatures();\n    this.window = undefined;\n    this.windowTimer = undefined;\n    this.iClosedWindow = false;\n    this._setupTimer();\n  }\n\n  _setupTimer(): void {\n    this.windowTimer = Number(\n      setInterval(() => {\n        if (this.window && this.window.closed) {\n          clearInterval(this.windowTimer);\n          if (!this.iClosedWindow) {\n            this.emit(\"close\");\n          }\n          this.iClosedWindow = false;\n          this.window = undefined;\n        }\n        if (this.window === undefined) clearInterval(this.windowTimer);\n      }, 500)\n    );\n  }\n\n  open(): Promise<void> {\n    this.window = window.open(this.url.href, this.target, this.features);\n    if (this.window?.focus) this.window.focus();\n    return Promise.resolve();\n  }\n\n  close(): void {\n    this.iClosedWindow = true;\n    if (this.window) this.window.close();\n  }\n\n  redirect(locationReplaceOnRedirect: boolean): void {\n    if (locationReplaceOnRedirect) {\n      window.location.replace(this.url.href);\n    } else {\n      window.location.href = this.url.href;\n    }\n  }\n}\n\nexport default PopupHandler;\n","import { BroadcastChannel } from \"@toruslabs/broadcast-channel\";\n\nimport { LOGIN_TYPE, UX_MODE, UX_MODE_TYPE } from \"../utils/enums\";\nimport { broadcastChannelOptions, randomId } from \"../utils/helpers\";\nimport log from \"../utils/loglevel\";\nimport PopupHandler from \"../utils/PopupHandler\";\nimport { Auth0ClientOptions, ILoginHandler, LoginWindowResponse, PopupResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nabstract class AbstractLoginHandler implements ILoginHandler {\n  public nonce: string = randomId();\n\n  public finalURL: URL;\n\n  // Not using object constructor because of this issue\n  // https://github.com/microsoft/TypeScript/issues/5326\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {}\n\n  get state(): string {\n    return encodeURIComponent(\n      window.btoa(\n        JSON.stringify({\n          ...(this.customState || {}),\n          instanceId: this.nonce,\n          verifier: this.verifier,\n          typeOfLogin: this.typeOfLogin,\n          redirectToOpener: this.redirectToOpener || false,\n        })\n      )\n    );\n  }\n\n  handleLoginWindow(params: { locationReplaceOnRedirect?: boolean; popupFeatures?: string }): Promise<LoginWindowResponse> {\n    const verifierWindow = new PopupHandler({ url: this.finalURL, features: params.popupFeatures });\n    if (this.uxMode === UX_MODE.REDIRECT) {\n      verifierWindow.redirect(params.locationReplaceOnRedirect);\n    } else {\n      return new Promise<LoginWindowResponse>((resolve, reject) => {\n        let bc: BroadcastChannel;\n        const handleData = async (ev: { error: string; data: PopupResponse }) => {\n          try {\n            const { error, data } = ev;\n            const {\n              instanceParams,\n              hashParams: { access_token: accessToken, id_token: idToken, ...rest },\n            } = data || {};\n            if (error) {\n              log.error(ev);\n              reject(new Error(`Error: ${error}. Info: ${JSON.stringify(ev.data || {})}`));\n              return;\n            }\n            if (ev.data && instanceParams.verifier === this.verifier) {\n              log.info(ev.data);\n              if (!this.redirectToOpener && bc) await bc.postMessage({ success: true });\n              resolve({\n                accessToken,\n                idToken: idToken || \"\",\n                ...rest,\n                // State has to be last here otherwise it will be overwritten\n                state: instanceParams,\n              });\n            }\n          } catch (error) {\n            log.error(error);\n            reject(error);\n          }\n        };\n\n        if (!this.redirectToOpener) {\n          bc = new BroadcastChannel(`redirect_channel_${this.nonce}`, broadcastChannelOptions);\n          bc.addEventListener(\"message\", async (ev) => {\n            await handleData(ev);\n            bc.close();\n            verifierWindow.close();\n          });\n        } else {\n          const postMessageEventHandler = async (postMessageEvent: MessageEvent) => {\n            if (!postMessageEvent.data) return;\n            const ev = postMessageEvent.data;\n            if (ev.channel !== `redirect_channel_${this.nonce}`) return;\n            window.removeEventListener(\"message\", postMessageEventHandler);\n            handleData(ev);\n            verifierWindow.close();\n          };\n          window.addEventListener(\"message\", postMessageEventHandler);\n        }\n        verifierWindow.open();\n        verifierWindow.once(\"close\", () => {\n          if (bc) bc.close();\n          reject(new Error(\"user closed popup\"));\n        });\n      });\n    }\n    return null;\n  }\n\n  abstract getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse>;\n\n  abstract setFinalUrl(): void;\n}\n\nexport default AbstractLoginHandler;\n","import { get } from \"@toruslabs/http-helpers\";\nimport deepmerge from \"lodash.merge\";\n\nimport { LOGIN_TYPE, UX_MODE_TYPE } from \"../utils/enums\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, LoginWindowResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nexport default class DiscordHandler extends AbstractLoginHandler {\n  private readonly RESPONSE_TYPE: string = \"token\";\n\n  private readonly SCOPE: string = \"identify email\";\n\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const finalUrl = new URL(\"https://discord.com/api/oauth2/authorize\");\n    const clonedParams = JSON.parse(JSON.stringify(this.jwtParams || {}));\n    const finalJwtParams = deepmerge(\n      {\n        state: this.state,\n        response_type: this.RESPONSE_TYPE,\n        client_id: this.clientId,\n        redirect_uri: this.redirect_uri,\n        scope: this.SCOPE,\n      },\n      clonedParams\n    );\n    Object.keys(finalJwtParams).forEach((key) => {\n      if (finalJwtParams[key]) finalUrl.searchParams.append(key, finalJwtParams[key]);\n    });\n    this.finalURL = finalUrl;\n  }\n\n  async getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { accessToken } = params;\n    const userInfo = await get<{ id: string; username: string; discriminator: string; avatar?: string; email?: string }>(\n      \"https://discord.com/api/users/@me\",\n      {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      }\n    );\n    const { id, avatar, email = \"\", username: name = \"\", discriminator = \"\" } = userInfo;\n    const profileImage =\n      avatar === null\n        ? `https://cdn.discordapp.com/embed/avatars/${Number(discriminator) % 5}.png`\n        : `https://cdn.discordapp.com/avatars/${id}/${avatar}.png?size=2048`;\n    return {\n      profileImage,\n      name: `${name}#${discriminator}`,\n      email,\n      verifierId: id,\n      verifier: this.verifier,\n      typeOfLogin: this.typeOfLogin,\n    };\n  }\n}\n","import { get } from \"@toruslabs/http-helpers\";\nimport deepmerge from \"lodash.merge\";\n\nimport { LOGIN_TYPE, UX_MODE_TYPE } from \"../utils/enums\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, LoginWindowResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nexport default class FacebookHandler extends AbstractLoginHandler {\n  private readonly RESPONSE_TYPE: string = \"token\";\n\n  private readonly SCOPE: string = \"public_profile email\";\n\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const finalUrl = new URL(\"https://www.facebook.com/v15.0/dialog/oauth\");\n    const clonedParams = JSON.parse(JSON.stringify(this.jwtParams || {}));\n    const finalJwtParams = deepmerge(\n      {\n        state: this.state,\n        response_type: this.RESPONSE_TYPE,\n        client_id: this.clientId,\n        redirect_uri: this.redirect_uri,\n        scope: this.SCOPE,\n      },\n      clonedParams\n    );\n    Object.keys(finalJwtParams).forEach((key) => {\n      if (finalJwtParams[key]) finalUrl.searchParams.append(key, finalJwtParams[key]);\n    });\n    this.finalURL = finalUrl;\n  }\n\n  async getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { accessToken } = params;\n    const userInfo = await get<{ name: string; id: string; picture: { data: { url?: string } }; email?: string }>(\n      \"https://graph.facebook.com/me?fields=name,email,picture.type(large)\",\n      {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      }\n    );\n    const { name = \"\", id, picture, email = \"\" } = userInfo;\n    return {\n      email,\n      name,\n      profileImage: picture.data.url || \"\",\n      verifier: this.verifier,\n      verifierId: id,\n      typeOfLogin: this.typeOfLogin,\n    };\n  }\n}\n","import { get } from \"@toruslabs/http-helpers\";\nimport deepmerge from \"lodash.merge\";\n\nimport { LOGIN_TYPE, UX_MODE_TYPE } from \"../utils/enums\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, LoginWindowResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nexport default class GoogleHandler extends AbstractLoginHandler {\n  private readonly RESPONSE_TYPE: string = \"token id_token\";\n\n  private readonly SCOPE: string = \"profile email openid\";\n\n  private readonly PROMPT: string = \"consent select_account\";\n\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const finalUrl = new URL(\"https://accounts.google.com/o/oauth2/v2/auth\");\n    const clonedParams = JSON.parse(JSON.stringify(this.jwtParams || {}));\n    const finalJwtParams = deepmerge(\n      {\n        state: this.state,\n        response_type: this.RESPONSE_TYPE,\n        client_id: this.clientId,\n        prompt: this.PROMPT,\n        redirect_uri: this.redirect_uri,\n        scope: this.SCOPE,\n        nonce: this.nonce,\n      },\n      clonedParams\n    );\n    Object.keys(finalJwtParams).forEach((key) => {\n      if (finalJwtParams[key]) finalUrl.searchParams.append(key, finalJwtParams[key]);\n    });\n    this.finalURL = finalUrl;\n  }\n\n  async getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { accessToken } = params;\n    const userInfo = await get<{ picture: string; email: string; name: string }>(\"https://www.googleapis.com/userinfo/v2/me\", {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n    });\n    const { picture: profileImage = \"\", email = \"\", name = \"\" } = userInfo;\n    return {\n      email,\n      name,\n      profileImage,\n      verifier: this.verifier,\n      verifierId: email.toLowerCase(),\n      typeOfLogin: this.typeOfLogin,\n    };\n  }\n}\n","import { get } from \"@toruslabs/http-helpers\";\nimport jwtDecode from \"jwt-decode\";\nimport deepmerge from \"lodash.merge\";\nimport log from \"loglevel\";\n\nimport { LOGIN_TYPE, UX_MODE_TYPE } from \"../utils/enums\";\nimport { getVerifierId, loginToConnectionMap, padUrlString, validateAndConstructUrl } from \"../utils/helpers\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, Auth0UserInfo, LoginWindowResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nexport default class JwtHandler extends AbstractLoginHandler {\n  private readonly SCOPE: string = \"openid profile email\";\n\n  private readonly RESPONSE_TYPE: string = \"token id_token\";\n\n  private readonly PROMPT: string = \"login\";\n\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const { domain } = this.jwtParams;\n    const finalUrl = validateAndConstructUrl(domain);\n    finalUrl.pathname += finalUrl.pathname.endsWith(\"/\") ? \"authorize\" : \"/authorize\";\n    const clonedParams = JSON.parse(JSON.stringify(this.jwtParams));\n    delete clonedParams.domain;\n    const finalJwtParams = deepmerge(\n      {\n        state: this.state,\n        response_type: this.RESPONSE_TYPE,\n        client_id: this.clientId,\n        prompt: this.PROMPT,\n        redirect_uri: this.redirect_uri,\n        scope: this.SCOPE,\n        connection: loginToConnectionMap[this.typeOfLogin],\n        nonce: this.nonce,\n      },\n      clonedParams\n    );\n    Object.keys(finalJwtParams).forEach((key) => {\n      if (finalJwtParams[key]) finalUrl.searchParams.append(key, finalJwtParams[key]);\n    });\n    this.finalURL = finalUrl;\n  }\n\n  async getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { idToken, accessToken } = params;\n    const { domain, verifierIdField, isVerifierIdCaseSensitive, user_info_route = \"userinfo\" } = this.jwtParams;\n    if (accessToken) {\n      try {\n        const domainUrl = new URL(domain);\n        const userInfo = await get<Auth0UserInfo>(`${padUrlString(domainUrl)}${user_info_route}`, {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n          },\n        });\n        const { picture, name, email } = userInfo;\n        return {\n          email,\n          name,\n          profileImage: picture,\n          verifierId: getVerifierId(userInfo, this.typeOfLogin, verifierIdField, isVerifierIdCaseSensitive),\n          verifier: this.verifier,\n          typeOfLogin: this.typeOfLogin,\n        };\n      } catch (error) {\n        // ignore\n        log.warn(error, \"Unable to get userinfo from endpoint\");\n      }\n    }\n    if (idToken) {\n      const decodedToken = jwtDecode<Auth0UserInfo>(idToken);\n      const { name, email, picture } = decodedToken;\n      return {\n        profileImage: picture,\n        name,\n        email,\n        verifierId: getVerifierId(decodedToken, this.typeOfLogin, verifierIdField, isVerifierIdCaseSensitive),\n        verifier: this.verifier,\n        typeOfLogin: this.typeOfLogin,\n      };\n    }\n    throw new Error(\"Access/id token not available\");\n  }\n}\n","import { get } from \"@toruslabs/http-helpers\";\nimport jwtDecode from \"jwt-decode\";\nimport deepmerge from \"lodash.merge\";\nimport log from \"loglevel\";\n\nimport { LOGIN_TYPE, UX_MODE, UX_MODE_TYPE } from \"../utils/enums\";\nimport { constructURL, getVerifierId, padUrlString } from \"../utils/helpers\";\nimport PopupHandler from \"../utils/PopupHandler\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, Auth0UserInfo, LoginWindowResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nexport default class MockLoginHandler extends AbstractLoginHandler {\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const clonedParams = JSON.parse(JSON.stringify(this.jwtParams));\n    delete clonedParams.domain;\n    const finalJwtParams = deepmerge(\n      {\n        state: this.state,\n        client_id: this.clientId,\n        nonce: this.nonce,\n      },\n      clonedParams\n    );\n\n    this.finalURL = new URL(constructURL({ baseURL: this.redirect_uri, query: null, hash: finalJwtParams }));\n  }\n\n  async getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { idToken, accessToken } = params;\n    const { domain, verifierIdField, isVerifierIdCaseSensitive, user_info_route = \"userinfo\" } = this.jwtParams;\n    if (accessToken) {\n      try {\n        const domainUrl = new URL(domain);\n        const userInfo = await get<Auth0UserInfo>(`${padUrlString(domainUrl)}${user_info_route}`, {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n          },\n        });\n        const { picture, name, email } = userInfo;\n        return {\n          email,\n          name,\n          profileImage: picture,\n          verifierId: getVerifierId(userInfo, this.typeOfLogin, verifierIdField, isVerifierIdCaseSensitive),\n          verifier: this.verifier,\n          typeOfLogin: this.typeOfLogin,\n        };\n      } catch (error) {\n        // ignore\n        log.warn(error, \"Unable to get userinfo from endpoint\");\n      }\n    }\n    if (idToken) {\n      const decodedToken = jwtDecode<Auth0UserInfo>(idToken);\n      const { name, email, picture } = decodedToken;\n      return {\n        profileImage: picture,\n        name,\n        email,\n        verifierId: getVerifierId(decodedToken, this.typeOfLogin, verifierIdField, isVerifierIdCaseSensitive),\n        verifier: this.verifier,\n        typeOfLogin: this.typeOfLogin,\n      };\n    }\n    throw new Error(\"Access/id token not available\");\n  }\n\n  handleLoginWindow(params: { locationReplaceOnRedirect?: boolean; popupFeatures?: string }): Promise<LoginWindowResponse> {\n    const { id_token: idToken, access_token: accessToken } = this.jwtParams;\n    const verifierWindow = new PopupHandler({ url: this.finalURL, features: params.popupFeatures });\n    if (this.uxMode === UX_MODE.REDIRECT) {\n      verifierWindow.redirect(params.locationReplaceOnRedirect);\n    } else {\n      return Promise.resolve({\n        state: {},\n        idToken,\n        accessToken,\n      });\n    }\n    return null;\n  }\n}\n","import { BroadcastChannel } from \"@toruslabs/broadcast-channel\";\nimport { get, post } from \"@toruslabs/http-helpers\";\nimport jwtDecode from \"jwt-decode\";\nimport deepmerge from \"lodash.merge\";\n\nimport { LOGIN_TYPE, UX_MODE_TYPE } from \"../utils/enums\";\nimport { broadcastChannelOptions, getVerifierId, padUrlString, validateAndConstructUrl } from \"../utils/helpers\";\nimport log from \"../utils/loglevel\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, Auth0UserInfo, LoginWindowResponse, PopupResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nexport default class JwtHandler extends AbstractLoginHandler {\n  private readonly SCOPE: string = \"openid profile email\";\n\n  private readonly RESPONSE_TYPE: string = \"token id_token\";\n\n  private readonly PROMPT: string = \"login\";\n\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const { domain } = this.jwtParams;\n    const domainUrl = validateAndConstructUrl(domain);\n\n    domainUrl.pathname = \"/passwordless/start\";\n    this.finalURL = domainUrl;\n  }\n\n  async getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { idToken, accessToken } = params;\n    const { domain, verifierIdField, isVerifierIdCaseSensitive } = this.jwtParams;\n    try {\n      const domainUrl = new URL(domain);\n      const userInfo = await get<Auth0UserInfo>(`${padUrlString(domainUrl)}userinfo`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n      const { picture, name, email } = userInfo;\n      return {\n        email,\n        name,\n        profileImage: picture,\n        verifierId: getVerifierId(userInfo, this.typeOfLogin, verifierIdField, isVerifierIdCaseSensitive),\n        verifier: this.verifier,\n        typeOfLogin: this.typeOfLogin,\n      };\n    } catch (error) {\n      log.error(error);\n      const decodedToken = jwtDecode(idToken) as Auth0UserInfo;\n      const { name, email, picture } = decodedToken;\n      return {\n        profileImage: picture,\n        name,\n        email,\n        verifierId: getVerifierId(decodedToken, this.typeOfLogin, verifierIdField, isVerifierIdCaseSensitive),\n        verifier: this.verifier,\n        typeOfLogin: this.typeOfLogin,\n      };\n    }\n  }\n\n  handleLoginWindow(): Promise<LoginWindowResponse> {\n    return new Promise<LoginWindowResponse>((resolve, reject) => {\n      if (this.redirectToOpener) {\n        reject(new Error(\"Cannot use redirect to opener for passwordless\"));\n        return;\n      }\n      const handleData = (ev: { error: string; data: PopupResponse }) => {\n        try {\n          const { error, data } = ev;\n          const {\n            instanceParams,\n            hashParams: { access_token: accessToken, id_token: idToken, ...rest },\n          } = data || {};\n          if (error) {\n            log.error(ev.error);\n            reject(new Error(error));\n            return;\n          }\n          if (ev.data && instanceParams.verifier === this.verifier) {\n            log.info(ev.data);\n            resolve({ accessToken, idToken: idToken || \"\", ...rest, state: instanceParams });\n          }\n        } catch (error) {\n          log.error(error);\n          reject(error);\n        }\n      };\n      const bc = new BroadcastChannel(`redirect_channel_${this.nonce}`, broadcastChannelOptions);\n      bc.addEventListener(\"message\", async (ev) => {\n        handleData(ev);\n        bc.close();\n      });\n      try {\n        const { connection = \"email\", login_hint } = this.jwtParams;\n        const finalJwtParams = deepmerge(\n          {\n            client_id: this.clientId,\n            connection,\n            email: connection === \"email\" ? login_hint : undefined,\n            phone_number: connection === \"sms\" ? login_hint : undefined,\n            send: \"link\",\n            authParams: {\n              scope: this.SCOPE,\n              state: this.state,\n              response_type: this.RESPONSE_TYPE,\n              redirect_uri: this.redirect_uri,\n              nonce: this.nonce,\n              prompt: this.PROMPT,\n            },\n          },\n          {\n            authParams: this.jwtParams,\n          }\n        );\n        // using stringify and parse to remove undefined params\n        // This method is only resolved when the user clicks the email link\n        post(this.finalURL.href, JSON.parse(JSON.stringify(finalJwtParams)))\n          .then((response) => {\n            log.info(\"posted\", response);\n            return undefined;\n          })\n          .catch((error) => {\n            log.error(error);\n            reject(error);\n          });\n      } catch (error) {\n        log.error(error);\n        reject(error);\n      }\n    });\n  }\n}\n","import { get } from \"@toruslabs/http-helpers\";\nimport deepmerge from \"lodash.merge\";\n\nimport { LOGIN_TYPE, UX_MODE_TYPE } from \"../utils/enums\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, LoginWindowResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nexport default class RedditHandler extends AbstractLoginHandler {\n  private readonly RESPONSE_TYPE: string = \"token\";\n\n  private readonly SCOPE: string = \"identity\";\n\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const finalUrl = new URL(`https://www.reddit.com/api/v1/authorize${window.innerWidth < 600 ? \".compact\" : \"\"}`);\n    const clonedParams = JSON.parse(JSON.stringify(this.jwtParams || {}));\n    const finalJwtParams = deepmerge(\n      {\n        state: this.state,\n        response_type: this.RESPONSE_TYPE,\n        client_id: this.clientId,\n        redirect_uri: this.redirect_uri,\n        scope: this.SCOPE,\n      },\n      clonedParams\n    );\n    Object.keys(finalJwtParams).forEach((key) => {\n      if (finalJwtParams[key]) finalUrl.searchParams.append(key, finalJwtParams[key]);\n    });\n    this.finalURL = finalUrl;\n  }\n\n  async getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { accessToken } = params;\n    const userInfo = await get<{ icon_img: string; name: string }>(\"https://oauth.reddit.com/api/v1/me\", {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n    });\n    const { icon_img: profileImage = \"\", name = \"\" } = userInfo;\n    return {\n      email: \"\",\n      name,\n      profileImage: profileImage.split(\"?\").length > 0 ? profileImage.split(\"?\")[0] : profileImage,\n      verifier: this.verifier,\n      verifierId: name.toLowerCase(),\n      typeOfLogin: this.typeOfLogin,\n    };\n  }\n}\n","import { get } from \"@toruslabs/http-helpers\";\nimport deepmerge from \"lodash.merge\";\n\nimport { LOGIN_TYPE, UX_MODE_TYPE } from \"../utils/enums\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, LoginWindowResponse, TorusGenericObject, TorusVerifierResponse } from \"./interfaces\";\n\nexport default class TwitchHandler extends AbstractLoginHandler {\n  private readonly RESPONSE_TYPE: string = \"token\";\n\n  private readonly SCOPE: string = \"user:read:email\";\n\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const finalUrl = new URL(\"https://id.twitch.tv/oauth2/authorize\");\n    const clonedParams = JSON.parse(JSON.stringify(this.jwtParams || {}));\n    const finalJwtParams = deepmerge(\n      {\n        state: this.state,\n        response_type: this.RESPONSE_TYPE,\n        client_id: this.clientId,\n        redirect_uri: this.redirect_uri,\n        scope: this.SCOPE,\n        force_verify: true,\n      },\n      clonedParams\n    );\n    Object.keys(finalJwtParams).forEach((key) => {\n      if (finalJwtParams[key]) finalUrl.searchParams.append(key, finalJwtParams[key]);\n    });\n    this.finalURL = finalUrl;\n  }\n\n  async getUserInfo(params: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { accessToken } = params;\n    const userInfo = await get<{ data: [{ profile_image_url: string; display_name: string; email: string; id: string }] }>(\n      \"https://api.twitch.tv/helix/users\",\n      {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n          \"Client-ID\": this.clientId,\n        },\n      }\n    );\n    const [{ profile_image_url: profileImage = \"\", display_name: name = \"\", email = \"\", id: verifierId }] = userInfo.data || [];\n    return {\n      profileImage,\n      name,\n      email,\n      verifierId,\n      verifier: this.verifier,\n      typeOfLogin: this.typeOfLogin,\n    };\n  }\n}\n","import { get } from \"@toruslabs/http-helpers\";\nimport deepmerge from \"lodash.merge\";\n\nimport { LOGIN_TYPE, UX_MODE_TYPE } from \"../utils/enums\";\nimport log from \"../utils/loglevel\";\nimport AbstractLoginHandler from \"./AbstractLoginHandler\";\nimport { Auth0ClientOptions, LoginWindowResponse, TorusGenericObject, TorusVerifierResponse, WebAuthnExtraParams } from \"./interfaces\";\n\nconst WEBAUTHN_LOOKUP_SERVER = \"https://api.webauthn.openlogin.com\";\n\nexport default class WebAuthnHandler extends AbstractLoginHandler {\n  constructor(\n    readonly clientId: string,\n    readonly verifier: string,\n    readonly redirect_uri: string,\n    readonly typeOfLogin: LOGIN_TYPE,\n    readonly uxMode: UX_MODE_TYPE,\n    readonly redirectToOpener?: boolean,\n    readonly jwtParams?: Auth0ClientOptions,\n    readonly customState?: TorusGenericObject,\n    readonly registerOnly?: boolean\n  ) {\n    super(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    this.setFinalUrl();\n  }\n\n  setFinalUrl(): void {\n    const finalUrl = new URL(\"https://webauthn.openlogin.com\");\n    const clonedParams = JSON.parse(JSON.stringify(this.jwtParams || {}));\n    const finalJwtParams = deepmerge(\n      {\n        register_only: !!this.registerOnly,\n        state: this.state,\n        client_id: this.clientId,\n        redirect_uri: this.redirect_uri,\n      },\n      clonedParams\n    );\n    Object.keys(finalJwtParams).forEach((key) => {\n      if (finalJwtParams[key]) finalUrl.searchParams.append(key, finalJwtParams[key]);\n    });\n    this.finalURL = finalUrl;\n  }\n\n  async getUserInfo(parameters: LoginWindowResponse): Promise<TorusVerifierResponse> {\n    const { idToken, ref, extraParamsPassed, extraParams } = parameters;\n    let verifierId: string;\n    let signature: string;\n    let clientDataJSON: string;\n    let authenticatorData: string;\n    let publicKey: string;\n    let challenge: string;\n    let rpOrigin: string;\n    let credId: string;\n    let transports: AuthenticatorTransport[];\n\n    if (extraParamsPassed === \"true\") {\n      log.debug(\"extraParamsPassed is true, using extraParams passed through hashParams\");\n      try {\n        ({\n          verifier_id: verifierId,\n          signature,\n          clientDataJSON,\n          authenticatorData,\n          publicKey,\n          challenge,\n          rpOrigin,\n          credId,\n          transports,\n        } = JSON.parse(atob(extraParams)));\n      } catch (error) {\n        log.warn(\"unable to parse extraParams\", error);\n        ({\n          verifier_id: verifierId,\n          signature,\n          clientDataJSON,\n          authenticatorData,\n          publicKey,\n          challenge,\n          rpOrigin,\n          credId,\n          transports,\n        } = await get<WebAuthnExtraParams & { verifier_id: string }>(`${WEBAUTHN_LOOKUP_SERVER}/signature/fetch/${idToken}`));\n      }\n    } else {\n      log.debug(\"extraParamsPassed is false, using extraParams passed through bridge server\");\n      ({\n        verifier_id: verifierId,\n        signature,\n        clientDataJSON,\n        authenticatorData,\n        publicKey,\n        challenge,\n        rpOrigin,\n        credId,\n        transports,\n      } = await get<WebAuthnExtraParams & { verifier_id: string }>(`${WEBAUTHN_LOOKUP_SERVER}/signature/fetch/${idToken}`));\n    }\n\n    if (signature !== idToken) {\n      throw new Error(\"idtoken should be equal to signature\");\n    }\n\n    return {\n      email: \"\",\n      name: \"WebAuthn Login\",\n      profileImage: \"\",\n      verifier: this.verifier,\n      verifierId,\n      typeOfLogin: this.typeOfLogin,\n      ref,\n      registerOnly: this.registerOnly,\n      extraVerifierParams: {\n        signature,\n        clientDataJSON,\n        authenticatorData,\n        publicKey,\n        challenge,\n        rpOrigin,\n        credId,\n        transports,\n      },\n    };\n  }\n}\n","import { LOGIN } from \"../utils/enums\";\nimport DiscordHandler from \"./DiscordHandler\";\nimport FacebookHandler from \"./FacebookHandler\";\nimport GoogleHandler from \"./GoogleHandler\";\nimport { CreateHandlerParams, ILoginHandler } from \"./interfaces\";\nimport JwtHandler from \"./JwtHandler\";\nimport MockLoginHandler from \"./MockLoginHandler\";\nimport PasswordlessHandler from \"./PasswordlessHandler\";\nimport RedditHandler from \"./RedditHandler\";\nimport TwitchHandler from \"./TwitchHandler\";\nimport WebAuthnHandler from \"./WebAuthnHandler\";\n\nconst createHandler = ({\n  clientId,\n  redirect_uri,\n  typeOfLogin,\n  verifier,\n  jwtParams,\n  redirectToOpener,\n  uxMode,\n  customState,\n  registerOnly,\n}: CreateHandlerParams): ILoginHandler => {\n  if (!verifier || !typeOfLogin || !clientId) {\n    throw new Error(\"Invalid params\");\n  }\n  const { domain, login_hint, id_token, access_token } = jwtParams || {};\n  switch (typeOfLogin) {\n    case LOGIN.GOOGLE:\n      return new GoogleHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    case LOGIN.FACEBOOK:\n      return new FacebookHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    case LOGIN.TWITCH:\n      return new TwitchHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    case LOGIN.REDDIT:\n      return new RedditHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    case LOGIN.DISCORD:\n      return new DiscordHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    case LOGIN.PASSWORDLESS:\n      if (!domain || !login_hint) throw new Error(\"Invalid params\");\n      return new PasswordlessHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    case LOGIN.APPLE:\n    case LOGIN.GITHUB:\n    case LOGIN.LINKEDIN:\n    case LOGIN.TWITTER:\n    case LOGIN.WEIBO:\n    case LOGIN.LINE:\n    case LOGIN.EMAIL_PASSWORD:\n    case LOGIN.JWT:\n      if (id_token || access_token) {\n        return new MockLoginHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n      }\n      if (!domain) throw new Error(\"Invalid params\");\n      return new JwtHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState);\n    case LOGIN.WEBAUTHN:\n      return new WebAuthnHandler(clientId, verifier, redirect_uri, typeOfLogin, uxMode, redirectToOpener, jwtParams, customState, registerOnly);\n    default:\n      throw new Error(\"Invalid login type\");\n  }\n};\n\nexport default createHandler;\n","import { register } from \"@chaitanyapotti/register-service-worker\";\n\nimport log from \"./utils/loglevel\";\n\nexport const registerServiceWorker = (baseUrl: string) =>\n  new Promise((resolve, reject) => {\n    const swUrl = `${baseUrl}sw.js`;\n\n    if (\"serviceWorker\" in window.navigator) {\n      // if swIntegrity is not calculated\n      register(swUrl, {\n        ready() {\n          log.info(\"App is being served from cache by a service worker.\\n For more details, visit https://goo.gl/AFskqB\");\n          resolve(undefined);\n        },\n        registered() {\n          log.info(\"Service worker has been registered.\");\n          resolve(undefined);\n        },\n        cached() {\n          log.info(\"Content has been cached for offline use.\");\n          resolve(undefined);\n        },\n        updatefound() {\n          log.info(\"New content is downloading.\");\n        },\n        updated() {\n          log.info(\"New content is available; please refresh.\");\n        },\n        offline() {\n          log.info(\"No internet connection found. App is running in offline mode.\");\n          reject(new Error(\"App is offline\"));\n        },\n        error(error) {\n          log.error(\"Error during service worker registration:\", error);\n          reject(error);\n        },\n      });\n    } else {\n      reject(new Error(\"Service workers are not supported\"));\n    }\n  });\n","import type { Transaction, TransactionContext } from \"@sentry/types\";\n\nexport interface Sentry {\n  startTransaction(_: TransactionContext): Transaction;\n}\nexport default class SentryHandler {\n  sentry: Sentry | null = null;\n\n  constructor(sentry?: Sentry) {\n    this.sentry = sentry;\n  }\n\n  startTransaction(context: TransactionContext): Transaction | void {\n    if (this.sentry) {\n      return this.sentry.startTransaction(context);\n    }\n  }\n\n  finishTransaction(tx: void | Transaction): void {\n    if (tx) {\n      tx.finish();\n    }\n  }\n}\n","import { getPublic, sign } from \"@toruslabs/eccrypto\";\nimport { get, post } from \"@toruslabs/http-helpers\";\nimport { decryptData, encryptData, keccak256 } from \"@toruslabs/metadata-helpers\";\n\nimport { LoginDetails } from \"../handlers/interfaces\";\nimport { REDIRECT_PARAMS_STORAGE_METHOD, REDIRECT_PARAMS_STORAGE_METHOD_TYPE } from \"./enums\";\nimport { are3PCSupported, storageAvailable } from \"./helpers\";\nimport log from \"./loglevel\";\n\nclass StorageHelper {\n  private currentStorageMethod: REDIRECT_PARAMS_STORAGE_METHOD_TYPE = REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE;\n\n  private isInitialized = false;\n\n  private storageServerUrl = \"https://broadcast-server.tor.us\";\n\n  constructor(serverUrl: string) {\n    this.storageServerUrl = serverUrl;\n  }\n\n  init() {\n    const support = are3PCSupported();\n    const localStorageAvailable = storageAvailable(REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE);\n    if (support && localStorageAvailable) {\n      // use local storage as default for storing stuff\n      this.currentStorageMethod = REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE;\n    } else {\n      // use server store as default for storing stuff\n      this.currentStorageMethod = REDIRECT_PARAMS_STORAGE_METHOD.SERVER;\n    }\n    this.isInitialized = true;\n  }\n\n  async storeLoginDetails(params: LoginDetails, scope: string): Promise<void> {\n    if (!this.isInitialized) throw new Error(\"StorageHelper is not initialized\");\n    if (this.currentStorageMethod === REDIRECT_PARAMS_STORAGE_METHOD.SERVER) {\n      const privKey = keccak256(Buffer.from(scope, \"utf8\"));\n      const privKeyHex = privKey.toString(\"hex\");\n      const publicKeyHex = getPublic(privKey).toString(\"hex\");\n      const encData = await encryptData(privKeyHex, params);\n      const signature = (await sign(privKey, keccak256(Buffer.from(encData, \"utf8\")))).toString(\"hex\");\n      await post(`${this.storageServerUrl}/store/set`, { key: publicKeyHex, data: encData, signature });\n    } else {\n      window.localStorage.setItem(`torus_login_${scope}`, JSON.stringify(params));\n    }\n  }\n\n  async retrieveLoginDetails(scope: string): Promise<LoginDetails> {\n    if (!this.isInitialized) throw new Error(\"StorageHelper is not initialized\");\n    if (this.currentStorageMethod === REDIRECT_PARAMS_STORAGE_METHOD.SERVER) {\n      const privKey = keccak256(Buffer.from(scope, \"utf8\"));\n      const privKeyHex = privKey.toString(\"hex\");\n      const publicKeyHex = getPublic(privKey).toString(\"hex\");\n      try {\n        const encData: { message: string; success: boolean } = await get(`${this.storageServerUrl}/store/get?key=${publicKeyHex}`);\n        if (encData.message) {\n          const loginDetails = await decryptData<LoginDetails>(privKeyHex, encData.message);\n          return loginDetails;\n        }\n      } catch (error) {\n        if ((error as Response).status === 404) {\n          log.warn(error, \"Session likely expired\");\n        } else {\n          throw error;\n        }\n      }\n    }\n    const loginDetails = window.localStorage.getItem(`torus_login_${scope}`);\n    return JSON.parse(loginDetails || \"{}\") as LoginDetails;\n  }\n\n  clearLoginDetailsStorage(scope: string): void {\n    if (!this.isInitialized) throw new Error(\"StorageHelper is not initialized\");\n    if (this.currentStorageMethod === REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE) {\n      window.localStorage.removeItem(`torus_login_${scope}`);\n    }\n    // No need to clear server details cause they auto expire and scope is never re-used for different login attempts\n  }\n\n  clearOrphanedLoginDetails(): void {\n    if (!this.isInitialized) throw new Error(\"StorageHelper is not initialized\");\n    if (this.currentStorageMethod === REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE) {\n      const allStorageKeys = Object.keys(window.localStorage);\n      allStorageKeys.forEach((key) => {\n        if (key.startsWith(\"torus_login_\")) {\n          window.localStorage.removeItem(key);\n        }\n      });\n    }\n    // No need to clear server details cause they auto expire and scope is never re-used for different login attempts\n  }\n}\n\nexport default StorageHelper;\n","import { TORUS_NETWORK } from \"@toruslabs/constants\";\nimport { NodeDetailManager } from \"@toruslabs/fetch-node-details\";\nimport Torus, { keccak256 } from \"@toruslabs/torus.js\";\n\nimport createHandler from \"./handlers/HandlerFactory\";\nimport {\n  AggregateLoginParams,\n  CustomAuthArgs,\n  ExtraParams,\n  HybridAggregateLoginParams,\n  ILoginHandler,\n  InitParams,\n  LoginWindowResponse,\n  RedirectResult,\n  RedirectResultParams,\n  SingleLoginParams,\n  SubVerifierDetails,\n  TorusAggregateLoginResponse,\n  TorusHybridAggregateLoginResponse,\n  TorusKey,\n  TorusLoginResponse,\n  TorusSubVerifierInfo,\n  TorusVerifierResponse,\n} from \"./handlers/interfaces\";\nimport { registerServiceWorker } from \"./registerServiceWorker\";\nimport SentryHandler from \"./sentry\";\nimport { AGGREGATE_VERIFIER, LOGIN, SENTRY_TXNS, TORUS_METHOD, UX_MODE, UX_MODE_TYPE } from \"./utils/enums\";\nimport { handleRedirectParameters, isFirefox, padUrlString } from \"./utils/helpers\";\nimport log from \"./utils/loglevel\";\nimport StorageHelper from \"./utils/StorageHelper\";\n\nclass CustomAuth {\n  isInitialized: boolean;\n\n  config: {\n    baseUrl: string;\n    redirectToOpener: boolean;\n    redirect_uri: string;\n    uxMode: UX_MODE_TYPE;\n    locationReplaceOnRedirect: boolean;\n    popupFeatures: string;\n  };\n\n  torus: Torus;\n\n  nodeDetailManager: NodeDetailManager;\n\n  storageHelper: StorageHelper;\n\n  sentryHandler: SentryHandler;\n\n  constructor({\n    baseUrl,\n    network = TORUS_NETWORK.MAINNET,\n    enableLogging = false,\n    enableOneKey = false,\n    redirectToOpener = false,\n    redirectPathName = \"redirect\",\n    apiKey = \"torus-default\",\n    uxMode = UX_MODE.POPUP,\n    locationReplaceOnRedirect = false,\n    popupFeatures,\n    metadataUrl = \"https://metadata.tor.us\",\n    storageServerUrl = \"https://broadcast-server.tor.us\",\n    sentry,\n    web3AuthClientId,\n  }: CustomAuthArgs) {\n    if (!web3AuthClientId) throw Error(\"Please provide a valid web3AuthClientId in constructor\");\n    this.isInitialized = false;\n    const baseUri = new URL(baseUrl);\n    this.config = {\n      baseUrl: padUrlString(baseUri),\n      get redirect_uri() {\n        return `${this.baseUrl}${redirectPathName}`;\n      },\n      redirectToOpener,\n      uxMode,\n      locationReplaceOnRedirect,\n      popupFeatures,\n    };\n    const torus = new Torus({\n      enableOneKey,\n      metadataHost: metadataUrl,\n      network,\n      clientId: web3AuthClientId,\n    });\n    Torus.setAPIKey(apiKey);\n    this.torus = torus;\n    this.nodeDetailManager = new NodeDetailManager({ network });\n    if (enableLogging) log.enableAll();\n    else log.disableAll();\n    this.storageHelper = new StorageHelper(storageServerUrl);\n    this.sentryHandler = new SentryHandler(sentry);\n  }\n\n  async init({ skipSw = false, skipInit = false, skipPrefetch = false }: InitParams = {}): Promise<void> {\n    this.storageHelper.init();\n    if (skipInit) {\n      this.isInitialized = true;\n      return;\n    }\n    if (!skipSw) {\n      const fetchSwResponse = await fetch(`${this.config.baseUrl}sw.js`, { cache: \"reload\" });\n      if (fetchSwResponse.ok) {\n        try {\n          await registerServiceWorker(this.config.baseUrl);\n          this.isInitialized = true;\n          return;\n        } catch (error) {\n          log.warn(error);\n        }\n      } else {\n        throw new Error(\"Service worker is not being served. Please serve it\");\n      }\n    }\n    if (!skipPrefetch) {\n      // Skip the redirect check for firefox\n      if (isFirefox()) {\n        this.isInitialized = true;\n        return;\n      }\n      await this.handlePrefetchRedirectUri();\n      return;\n    }\n    this.isInitialized = true;\n  }\n\n  async triggerLogin(args: SingleLoginParams): Promise<TorusLoginResponse> {\n    const { verifier, typeOfLogin, clientId, jwtParams, hash, queryParameters, customState, registerOnly } = args;\n    log.info(\"Verifier: \", verifier);\n    if (!this.isInitialized) {\n      throw new Error(\"Not initialized yet\");\n    }\n    if (registerOnly && typeOfLogin !== LOGIN.WEBAUTHN) throw new Error(\"registerOnly flag can only be passed for webauthn\");\n    const loginHandler: ILoginHandler = createHandler({\n      typeOfLogin,\n      clientId,\n      verifier,\n      redirect_uri: this.config.redirect_uri,\n      redirectToOpener: this.config.redirectToOpener,\n      jwtParams,\n      uxMode: this.config.uxMode,\n      customState,\n      registerOnly,\n    });\n    let loginParams: LoginWindowResponse;\n    if (hash && queryParameters) {\n      const { error, hashParameters, instanceParameters } = handleRedirectParameters(hash, queryParameters);\n      if (error) throw new Error(error);\n      const { access_token: accessToken, id_token: idToken, ...rest } = hashParameters;\n      // State has to be last here otherwise it will be overwritten\n      loginParams = { accessToken, idToken, ...rest, state: instanceParameters };\n    } else {\n      this.storageHelper.clearOrphanedLoginDetails();\n      if (this.config.uxMode === UX_MODE.REDIRECT) {\n        await this.storageHelper.storeLoginDetails({ method: TORUS_METHOD.TRIGGER_LOGIN, args }, loginHandler.nonce);\n      }\n      loginParams = await loginHandler.handleLoginWindow({\n        locationReplaceOnRedirect: this.config.locationReplaceOnRedirect,\n        popupFeatures: this.config.popupFeatures,\n      });\n      if (this.config.uxMode === UX_MODE.REDIRECT) return null;\n    }\n\n    const userInfo = await loginHandler.getUserInfo(loginParams);\n    if (registerOnly) {\n      const nodeTx = this.sentryHandler.startTransaction({\n        name: SENTRY_TXNS.FETCH_NODE_DETAILS,\n      });\n      const { torusNodeEndpoints, torusNodePub } = await this.nodeDetailManager.getNodeDetails({ verifier, verifierId: userInfo.verifierId });\n      this.sentryHandler.finishTransaction(nodeTx);\n      const lookupTx = this.sentryHandler.startTransaction({\n        name: SENTRY_TXNS.PUB_ADDRESS_LOOKUP,\n      });\n      const torusPubKey = await this.torus.getPublicAddress(torusNodeEndpoints, torusNodePub, { verifier, verifierId: userInfo.verifierId }, true);\n      this.sentryHandler.finishTransaction(lookupTx);\n      const res = {\n        userInfo: {\n          ...userInfo,\n          ...loginParams,\n        },\n      };\n      if (typeof torusPubKey === \"string\") {\n        throw new Error(\"should have returned extended pub key\");\n      }\n      const torusKey: TorusKey = {\n        typeOfUser: torusPubKey.typeOfUser,\n        pubKey: {\n          pub_key_X: torusPubKey.X,\n          pub_key_Y: torusPubKey.Y,\n        },\n        publicAddress: torusPubKey.address,\n        privateKey: null,\n        metadataNonce: null,\n      };\n      return { ...res, ...torusKey };\n    }\n\n    const torusKey = await this.getTorusKey(\n      verifier,\n      userInfo.verifierId,\n      { verifier_id: userInfo.verifierId },\n      loginParams.idToken || loginParams.accessToken,\n      userInfo.extraVerifierParams\n    );\n    return {\n      ...torusKey,\n      userInfo: {\n        ...userInfo,\n        ...loginParams,\n      },\n    };\n  }\n\n  async triggerAggregateLogin(args: AggregateLoginParams): Promise<TorusAggregateLoginResponse> {\n    // This method shall break if any of the promises fail. This behaviour is intended\n    const { aggregateVerifierType, verifierIdentifier, subVerifierDetailsArray } = args;\n    if (!this.isInitialized) {\n      throw new Error(\"Not initialized yet\");\n    }\n    if (!aggregateVerifierType || !verifierIdentifier || !Array.isArray(subVerifierDetailsArray)) {\n      throw new Error(\"Invalid params\");\n    }\n    if (aggregateVerifierType === AGGREGATE_VERIFIER.SINGLE_VERIFIER_ID && subVerifierDetailsArray.length !== 1) {\n      throw new Error(\"Single id verifier can only have one sub verifier\");\n    }\n    const userInfoPromises: Promise<TorusVerifierResponse>[] = [];\n    const loginParamsArray: LoginWindowResponse[] = [];\n    for (const subVerifierDetail of subVerifierDetailsArray) {\n      const { clientId, typeOfLogin, verifier, jwtParams, hash, queryParameters, customState } = subVerifierDetail;\n      const loginHandler: ILoginHandler = createHandler({\n        typeOfLogin,\n        clientId,\n        verifier,\n        redirect_uri: this.config.redirect_uri,\n        redirectToOpener: this.config.redirectToOpener,\n        jwtParams,\n        uxMode: this.config.uxMode,\n        customState,\n      });\n      // We let the user login to each verifier in a loop. Don't wait for key derivation here.!\n      let loginParams: LoginWindowResponse;\n      if (hash && queryParameters) {\n        const { error, hashParameters, instanceParameters } = handleRedirectParameters(hash, queryParameters);\n        if (error) throw new Error(error);\n        const { access_token: accessToken, id_token: idToken, ...rest } = hashParameters;\n        // State has to be last here otherwise it will be overwritten\n        loginParams = { accessToken, idToken, ...rest, state: instanceParameters };\n      } else {\n        this.storageHelper.clearOrphanedLoginDetails();\n        if (this.config.uxMode === UX_MODE.REDIRECT) {\n          await this.storageHelper.storeLoginDetails({ method: TORUS_METHOD.TRIGGER_AGGREGATE_LOGIN, args }, loginHandler.nonce);\n        }\n        loginParams = await loginHandler.handleLoginWindow({\n          locationReplaceOnRedirect: this.config.locationReplaceOnRedirect,\n          popupFeatures: this.config.popupFeatures,\n        });\n        if (this.config.uxMode === UX_MODE.REDIRECT) return null;\n      }\n      // Fail the method even if one promise fails\n\n      userInfoPromises.push(loginHandler.getUserInfo(loginParams));\n      loginParamsArray.push(loginParams);\n    }\n    const _userInfoArray = await Promise.all(userInfoPromises);\n    const userInfoArray = _userInfoArray.map((userInfo) => ({ ...userInfo, aggregateVerifier: verifierIdentifier }));\n    const aggregateVerifierParams = { verify_params: [], sub_verifier_ids: [], verifier_id: \"\" };\n    const aggregateIdTokenSeeds = [];\n    let aggregateVerifierId = \"\";\n    let extraVerifierParams = {};\n    for (let index = 0; index < subVerifierDetailsArray.length; index += 1) {\n      const loginParams = loginParamsArray[index];\n      const { idToken, accessToken } = loginParams;\n      const userInfo = userInfoArray[index];\n      aggregateVerifierParams.verify_params.push({ verifier_id: userInfo.verifierId, idtoken: idToken || accessToken });\n      aggregateVerifierParams.sub_verifier_ids.push(userInfo.verifier);\n      aggregateIdTokenSeeds.push(idToken || accessToken);\n      aggregateVerifierId = userInfo.verifierId; // using last because idk\n      extraVerifierParams = userInfo.extraVerifierParams;\n    }\n    aggregateIdTokenSeeds.sort();\n    const aggregateIdToken = keccak256(Buffer.from(aggregateIdTokenSeeds.join(String.fromCharCode(29)), \"utf8\")).slice(2);\n    aggregateVerifierParams.verifier_id = aggregateVerifierId;\n    const torusKey = await this.getTorusKey(verifierIdentifier, aggregateVerifierId, aggregateVerifierParams, aggregateIdToken, extraVerifierParams);\n    return {\n      ...torusKey,\n      userInfo: userInfoArray.map((x, index) => ({ ...x, ...loginParamsArray[index] })),\n    };\n  }\n\n  async triggerHybridAggregateLogin(args: HybridAggregateLoginParams): Promise<TorusHybridAggregateLoginResponse> {\n    const { singleLogin, aggregateLoginParams } = args;\n    // This method shall break if any of the promises fail. This behaviour is intended\n    if (!this.isInitialized) {\n      throw new Error(\"Not initialized yet\");\n    }\n    if (\n      !aggregateLoginParams.aggregateVerifierType ||\n      !aggregateLoginParams.verifierIdentifier ||\n      !Array.isArray(aggregateLoginParams.subVerifierDetailsArray)\n    ) {\n      throw new Error(\"Invalid params\");\n    }\n    if (\n      aggregateLoginParams.aggregateVerifierType === AGGREGATE_VERIFIER.SINGLE_VERIFIER_ID &&\n      aggregateLoginParams.subVerifierDetailsArray.length !== 1\n    ) {\n      throw new Error(\"Single id verifier can only have one sub verifier\");\n    }\n    const { typeOfLogin, clientId, verifier, jwtParams, hash, queryParameters, customState } = singleLogin;\n    const loginHandler: ILoginHandler = createHandler({\n      typeOfLogin,\n      clientId,\n      verifier,\n      redirect_uri: this.config.redirect_uri,\n      redirectToOpener: this.config.redirectToOpener,\n      jwtParams,\n      uxMode: this.config.uxMode,\n      customState,\n    });\n    let loginParams: LoginWindowResponse;\n    if (hash && queryParameters) {\n      const { error, hashParameters, instanceParameters } = handleRedirectParameters(hash, queryParameters);\n      if (error) throw new Error(error);\n      const { access_token: accessToken, id_token: idToken, ...rest } = hashParameters;\n      // State has to be last here otherwise it will be overwritten\n      loginParams = { accessToken, idToken, ...rest, state: instanceParameters };\n    } else {\n      this.storageHelper.clearOrphanedLoginDetails();\n      if (this.config.uxMode === UX_MODE.REDIRECT) {\n        await this.storageHelper.storeLoginDetails({ method: TORUS_METHOD.TRIGGER_AGGREGATE_HYBRID_LOGIN, args }, loginHandler.nonce);\n      }\n      loginParams = await loginHandler.handleLoginWindow({\n        locationReplaceOnRedirect: this.config.locationReplaceOnRedirect,\n        popupFeatures: this.config.popupFeatures,\n      });\n      if (this.config.uxMode === UX_MODE.REDIRECT) return null;\n    }\n\n    const userInfo = await loginHandler.getUserInfo(loginParams);\n    const torusKey1Promise = this.getTorusKey(\n      verifier,\n      userInfo.verifierId,\n      { verifier_id: userInfo.verifierId },\n      loginParams.idToken || loginParams.accessToken,\n      userInfo.extraVerifierParams\n    );\n\n    const { verifierIdentifier, subVerifierDetailsArray } = aggregateLoginParams;\n    const aggregateVerifierParams = { verify_params: [], sub_verifier_ids: [], verifier_id: \"\" };\n    const aggregateIdTokenSeeds = [];\n    let aggregateVerifierId = \"\";\n    for (let index = 0; index < subVerifierDetailsArray.length; index += 1) {\n      const sub = subVerifierDetailsArray[index];\n      const { idToken, accessToken } = loginParams;\n      aggregateVerifierParams.verify_params.push({ verifier_id: userInfo.verifierId, idtoken: idToken || accessToken });\n      aggregateVerifierParams.sub_verifier_ids.push(sub.verifier);\n      aggregateIdTokenSeeds.push(idToken || accessToken);\n      aggregateVerifierId = userInfo.verifierId; // using last because idk\n    }\n    aggregateIdTokenSeeds.sort();\n    const aggregateIdToken = keccak256(Buffer.from(aggregateIdTokenSeeds.join(String.fromCharCode(29)), \"utf8\")).slice(2);\n    aggregateVerifierParams.verifier_id = aggregateVerifierId;\n    const torusKey2Promise = this.getTorusKey(\n      verifierIdentifier,\n      aggregateVerifierId,\n      aggregateVerifierParams,\n      aggregateIdToken,\n      userInfo.extraVerifierParams\n    );\n    const [torusKey1, torusKey2] = await Promise.all([torusKey1Promise, torusKey2Promise]);\n    return {\n      singleLogin: {\n        userInfo: { ...userInfo, ...loginParams },\n        ...torusKey1,\n      },\n      aggregateLogins: [torusKey2],\n    };\n  }\n\n  async getTorusKey(\n    verifier: string,\n    verifierId: string,\n    verifierParams: { verifier_id: string },\n    idToken: string,\n    additionalParams?: ExtraParams\n  ): Promise<TorusKey> {\n    const nodeTx = this.sentryHandler.startTransaction({\n      name: SENTRY_TXNS.FETCH_NODE_DETAILS,\n    });\n    const { torusNodeEndpoints, torusNodePub, torusIndexes } = await this.nodeDetailManager.getNodeDetails({ verifier, verifierId });\n    this.sentryHandler.finishTransaction(nodeTx);\n    log.debug(\"torus-direct/getTorusKey\", { torusNodeEndpoints, torusNodePub, torusIndexes });\n\n    const pubLookupTx = this.sentryHandler.startTransaction({\n      name: SENTRY_TXNS.PUB_ADDRESS_LOOKUP,\n    });\n    const address = await this.torus.getPublicAddress(torusNodeEndpoints, torusNodePub, { verifier, verifierId }, true);\n    this.sentryHandler.finishTransaction(pubLookupTx);\n    if (typeof address === \"string\") throw new Error(\"must use extended pub key\");\n    log.debug(\"torus-direct/getTorusKey\", { getPublicAddress: address });\n\n    const sharesTx = this.sentryHandler.startTransaction({\n      name: SENTRY_TXNS.FETCH_SHARES,\n    });\n    const shares = await this.torus.retrieveShares(torusNodeEndpoints, torusIndexes, verifier, verifierParams, idToken, additionalParams);\n    this.sentryHandler.finishTransaction(sharesTx);\n    if (shares.ethAddress.toLowerCase() !== address.address.toLowerCase()) {\n      throw new Error(\"data ethAddress does not match response address\");\n    }\n    log.debug(\"torus-direct/getTorusKey\", { retrieveShares: shares });\n\n    return {\n      publicAddress: shares.ethAddress.toString(),\n      privateKey: shares.privKey.toString(),\n      metadataNonce: shares.metadataNonce.toString(\"hex\"),\n      typeOfUser: address.typeOfUser,\n      pubKey: {\n        pub_key_X: address.X,\n        pub_key_Y: address.Y,\n      },\n    };\n  }\n\n  async getAggregateTorusKey(\n    verifier: string,\n    verifierId: string, // unique identifier for user e.g. sub on jwt\n    subVerifierInfoArray: TorusSubVerifierInfo[]\n  ): Promise<TorusKey> {\n    const aggregateVerifierParams = { verify_params: [], sub_verifier_ids: [], verifier_id: \"\" };\n    const aggregateIdTokenSeeds = [];\n    let extraVerifierParams = {};\n    for (let index = 0; index < subVerifierInfoArray.length; index += 1) {\n      const userInfo = subVerifierInfoArray[index];\n      aggregateVerifierParams.verify_params.push({ verifier_id: verifierId, idtoken: userInfo.idToken });\n      aggregateVerifierParams.sub_verifier_ids.push(userInfo.verifier);\n      aggregateIdTokenSeeds.push(userInfo.idToken);\n      extraVerifierParams = userInfo.extraVerifierParams;\n    }\n    aggregateIdTokenSeeds.sort();\n    const aggregateIdToken = keccak256(Buffer.from(aggregateIdTokenSeeds.join(String.fromCharCode(29)), \"utf8\")).slice(2);\n    aggregateVerifierParams.verifier_id = verifierId;\n    return this.getTorusKey(verifier, verifierId, aggregateVerifierParams, aggregateIdToken, extraVerifierParams);\n  }\n\n  getPostboxKeyFrom1OutOf1(privKey: string, nonce: string): string {\n    return this.torus.getPostboxKeyFrom1OutOf1(privKey, nonce);\n  }\n\n  async getRedirectResult({ replaceUrl = true, clearLoginDetails = true }: RedirectResultParams = {}): Promise<RedirectResult> {\n    await this.init({ skipInit: true });\n    const url = new URL(window.location.href);\n    const hash = url.hash.substring(1);\n    const queryParams = {};\n    url.searchParams.forEach((value, key) => {\n      queryParams[key] = value;\n    });\n\n    if (replaceUrl) {\n      const cleanUrl = window.location.origin + window.location.pathname;\n      window.history.replaceState(null, \"\", cleanUrl);\n    }\n\n    if (!hash && Object.keys(queryParams).length === 0) {\n      throw new Error(\"Unable to fetch result from OAuth login\");\n    }\n\n    const { error, instanceParameters, hashParameters } = handleRedirectParameters(hash, queryParams);\n\n    const { instanceId } = instanceParameters;\n\n    log.info(instanceId, \"instanceId\");\n\n    const { args, method, ...rest } = await this.storageHelper.retrieveLoginDetails(instanceId);\n    log.info(args, method);\n\n    if (clearLoginDetails) {\n      this.storageHelper.clearLoginDetailsStorage(instanceId);\n    }\n\n    if (error) {\n      return { error, state: instanceParameters || {}, method, result: {}, hashParameters, args };\n    }\n\n    let result: unknown;\n\n    try {\n      if (method === TORUS_METHOD.TRIGGER_LOGIN) {\n        const methodArgs = args as SubVerifierDetails & { registerOnly?: boolean };\n        methodArgs.hash = hash;\n        methodArgs.queryParameters = queryParams;\n        result = await this.triggerLogin(methodArgs);\n      } else if (method === TORUS_METHOD.TRIGGER_AGGREGATE_LOGIN) {\n        const methodArgs = args as AggregateLoginParams;\n        methodArgs.subVerifierDetailsArray.forEach((x) => {\n          x.hash = hash;\n          x.queryParameters = queryParams;\n        });\n        result = await this.triggerAggregateLogin(methodArgs);\n      } else if (method === TORUS_METHOD.TRIGGER_AGGREGATE_HYBRID_LOGIN) {\n        const methodArgs = args as HybridAggregateLoginParams;\n        methodArgs.singleLogin.hash = hash;\n        methodArgs.singleLogin.queryParameters = queryParams;\n        result = await this.triggerHybridAggregateLogin(methodArgs);\n      }\n    } catch (err) {\n      log.error(err);\n      return {\n        error: `Could not get result from torus nodes \\n ${err?.message || \"\"}`,\n        state: instanceParameters || {},\n        method,\n        result: {},\n        hashParameters,\n        args,\n        ...rest,\n      };\n    }\n\n    if (!result)\n      return {\n        error: \"Unsupported method type\",\n        state: instanceParameters || {},\n        method,\n        result: {},\n        hashParameters,\n        args,\n        ...rest,\n      };\n\n    return { method, result, state: instanceParameters || {}, hashParameters, args, ...rest };\n  }\n\n  private async handlePrefetchRedirectUri(): Promise<void> {\n    if (!document) return Promise.resolve();\n    return new Promise((resolve, reject) => {\n      const redirectHtml = document.createElement(\"link\");\n      redirectHtml.href = this.config.redirect_uri;\n      if (window.location.origin !== new URL(this.config.redirect_uri).origin) redirectHtml.crossOrigin = \"anonymous\";\n      redirectHtml.type = \"text/html\";\n      redirectHtml.rel = \"prefetch\";\n      const resolveFn = () => {\n        this.isInitialized = true;\n        resolve();\n      };\n      try {\n        if (redirectHtml.relList && redirectHtml.relList.supports) {\n          if (redirectHtml.relList.supports(\"prefetch\")) {\n            redirectHtml.onload = resolveFn;\n            redirectHtml.onerror = () => {\n              reject(new Error(`Please serve redirect.html present in serviceworker folder of this package on ${this.config.redirect_uri}`));\n            };\n            document.head.appendChild(redirectHtml);\n          } else {\n            // Link prefetch is not supported. pass through\n            resolveFn();\n          }\n        } else {\n          // Link prefetch is not detectable. pass through\n          resolveFn();\n        }\n      } catch (err) {\n        resolveFn();\n      }\n    });\n  }\n}\n\nexport default CustomAuth;\n","import { StringifiedType, TorusServiceProviderArgs } from \"@tkey/common-types\";\nimport { ServiceProviderBase } from \"@tkey/service-provider-base\";\nimport CustomAuth, {\n  AggregateLoginParams,\n  CustomAuthArgs,\n  HybridAggregateLoginParams,\n  InitParams,\n  SubVerifierDetails,\n  TorusAggregateLoginResponse,\n  TorusHybridAggregateLoginResponse,\n  TorusLoginResponse,\n} from \"@toruslabs/customauth\";\nimport BN from \"bn.js\";\n\nclass TorusServiceProvider extends ServiceProviderBase {\n  directWeb: CustomAuth;\n\n  singleLoginKey: BN;\n\n  customAuthArgs: CustomAuthArgs;\n\n  constructor({ enableLogging = false, postboxKey, customAuthArgs }: TorusServiceProviderArgs) {\n    super({ enableLogging, postboxKey });\n    this.customAuthArgs = customAuthArgs;\n    this.directWeb = new CustomAuth(customAuthArgs);\n    this.serviceProviderName = \"TorusServiceProvider\";\n  }\n\n  static fromJSON(value: StringifiedType): TorusServiceProvider {\n    const { enableLogging, postboxKey, customAuthArgs, serviceProviderName } = value;\n    if (serviceProviderName !== \"TorusServiceProvider\") return undefined;\n\n    return new TorusServiceProvider({\n      enableLogging,\n      postboxKey,\n      customAuthArgs,\n    });\n  }\n\n  async init(params: InitParams): Promise<void> {\n    return this.directWeb.init(params);\n  }\n\n  async triggerLogin(params: SubVerifierDetails): Promise<TorusLoginResponse> {\n    const obj = await this.directWeb.triggerLogin(params);\n    this.postboxKey = new BN(obj.privateKey, \"hex\");\n    return obj;\n  }\n\n  async triggerAggregateLogin(params: AggregateLoginParams): Promise<TorusAggregateLoginResponse> {\n    const obj = await this.directWeb.triggerAggregateLogin(params);\n    this.postboxKey = new BN(obj.privateKey, \"hex\");\n    return obj;\n  }\n\n  async triggerHybridAggregateLogin(params: HybridAggregateLoginParams): Promise<TorusHybridAggregateLoginResponse> {\n    const obj = await this.directWeb.triggerHybridAggregateLogin(params);\n    const aggregateLoginKey = obj.aggregateLogins[0].privateKey;\n    this.postboxKey = new BN(aggregateLoginKey, \"hex\");\n    this.singleLoginKey = new BN(obj.singleLogin.privateKey, \"hex\");\n    return obj;\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      ...super.toJSON(),\n      serviceProviderName: this.serviceProviderName,\n      customAuthArgs: this.customAuthArgs,\n    };\n  }\n}\n\nexport default TorusServiceProvider;\n","import assert from './_assert.js';\nimport { Hash, createView, Input, toBytes } from './utils.js';\n\n// Polyfill for Safari 14\nfunction setBigUint64(view: DataView, byteOffset: number, value: bigint, isLE: boolean): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n// Base SHA2 class (RFC 6234)\nexport abstract class SHA2<T extends SHA2<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(\n    readonly blockLen: number,\n    public outputLen: number,\n    readonly padOffset: number,\n    readonly isLE: boolean\n  ) {\n    super();\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    assert.exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assert.exists(this);\n    assert.output(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    this.buffer.subarray(pos).fill(0);\n    // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n}\n","import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n\n// Choice: a ? b : c\nconst Chi = (a: number, b: number, c: number) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a: number, b: number, c: number) => (a & b) ^ (a & c) ^ (b & c);\n\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = new Uint32Array([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = new Uint32Array([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = new Uint32Array(64);\nclass SHA256 extends SHA2<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  A = IV[0] | 0;\n  B = IV[1] | 0;\n  C = IV[2] | 0;\n  D = IV[3] | 0;\n  E = IV[4] | 0;\n  F = IV[5] | 0;\n  G = IV[6] | 0;\n  H = IV[7] | 0;\n\n  constructor() {\n    super(64, 32, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean() {\n    SHA256_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n  A = 0xc1059ed8 | 0;\n  B = 0x367cd507 | 0;\n  C = 0x3070dd17 | 0;\n  D = 0xf70e5939 | 0;\n  E = 0xffc00b31 | 0;\n  F = 0x68581511 | 0;\n  G = 0x64f98fa7 | 0;\n  H = 0xbefa4fa4 | 0;\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = wrapConstructor(() => new SHA256());\nexport const sha224 = wrapConstructor(() => new SHA224());\n","import { sha256 as _sha256 } from \"@noble/hashes/sha256\";\nimport { wrapHash } from \"./utils.js\";\nexport const sha256 = wrapHash(_sha256);\n","import { ErrorCodes, ITkeyError, TkeyError } from \"@tkey/common-types\";\n\nclass ShareSerializationError extends TkeyError {\n  protected static messages: ErrorCodes = {\n    7000: \"Custom\",\n    // Misc\n    7010: \"Type is not supported\",\n    7011: \"Invalid Entropy\",\n    7012: \"Invalid Checksum\",\n    7013: \"Invalid mnemonic\",\n  };\n\n  public constructor(code: number, message?: string) {\n    // takes care of stack and proto\n    super(code, message);\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", { value: \"ShareSerializationError\" });\n  }\n\n  public static fromCode(code: number, extraMessage = \"\"): ITkeyError {\n    return new ShareSerializationError(code, `${ShareSerializationError.messages[code]}${extraMessage}`);\n  }\n\n  public static default(extraMessage = \"\"): ITkeyError {\n    return new ShareSerializationError(7000, `${ShareSerializationError.messages[7000]}${extraMessage}`);\n  }\n\n  // Custom methods\n  public static typeNotSupported(extraMessage = \"\"): ITkeyError {\n    return ShareSerializationError.fromCode(7010, extraMessage);\n  }\n\n  public static invalidEntropy(extraMessage = \"\"): ITkeyError {\n    return ShareSerializationError.fromCode(7011, extraMessage);\n  }\n\n  public static invalidChecksum(extraMessage = \"\"): ITkeyError {\n    return ShareSerializationError.fromCode(7012, extraMessage);\n  }\n\n  public static invalidMnemonic(extraMessage = \"\"): ITkeyError {\n    return ShareSerializationError.fromCode(7013, extraMessage);\n  }\n}\nexport default ShareSerializationError;\n","export const english = [\n  \"abandon\",\n  \"ability\",\n  \"able\",\n  \"about\",\n  \"above\",\n  \"absent\",\n  \"absorb\",\n  \"abstract\",\n  \"absurd\",\n  \"abuse\",\n  \"access\",\n  \"accident\",\n  \"account\",\n  \"accuse\",\n  \"achieve\",\n  \"acid\",\n  \"acoustic\",\n  \"acquire\",\n  \"across\",\n  \"act\",\n  \"action\",\n  \"actor\",\n  \"actress\",\n  \"actual\",\n  \"adapt\",\n  \"add\",\n  \"addict\",\n  \"address\",\n  \"adjust\",\n  \"admit\",\n  \"adult\",\n  \"advance\",\n  \"advice\",\n  \"aerobic\",\n  \"affair\",\n  \"afford\",\n  \"afraid\",\n  \"again\",\n  \"age\",\n  \"agent\",\n  \"agree\",\n  \"ahead\",\n  \"aim\",\n  \"air\",\n  \"airport\",\n  \"aisle\",\n  \"alarm\",\n  \"album\",\n  \"alcohol\",\n  \"alert\",\n  \"alien\",\n  \"all\",\n  \"alley\",\n  \"allow\",\n  \"almost\",\n  \"alone\",\n  \"alpha\",\n  \"already\",\n  \"also\",\n  \"alter\",\n  \"always\",\n  \"amateur\",\n  \"amazing\",\n  \"among\",\n  \"amount\",\n  \"amused\",\n  \"analyst\",\n  \"anchor\",\n  \"ancient\",\n  \"anger\",\n  \"angle\",\n  \"angry\",\n  \"animal\",\n  \"ankle\",\n  \"announce\",\n  \"annual\",\n  \"another\",\n  \"answer\",\n  \"antenna\",\n  \"antique\",\n  \"anxiety\",\n  \"any\",\n  \"apart\",\n  \"apology\",\n  \"appear\",\n  \"apple\",\n  \"approve\",\n  \"april\",\n  \"arch\",\n  \"arctic\",\n  \"area\",\n  \"arena\",\n  \"argue\",\n  \"arm\",\n  \"armed\",\n  \"armor\",\n  \"army\",\n  \"around\",\n  \"arrange\",\n  \"arrest\",\n  \"arrive\",\n  \"arrow\",\n  \"art\",\n  \"artefact\",\n  \"artist\",\n  \"artwork\",\n  \"ask\",\n  \"aspect\",\n  \"assault\",\n  \"asset\",\n  \"assist\",\n  \"assume\",\n  \"asthma\",\n  \"athlete\",\n  \"atom\",\n  \"attack\",\n  \"attend\",\n  \"attitude\",\n  \"attract\",\n  \"auction\",\n  \"audit\",\n  \"august\",\n  \"aunt\",\n  \"author\",\n  \"auto\",\n  \"autumn\",\n  \"average\",\n  \"avocado\",\n  \"avoid\",\n  \"awake\",\n  \"aware\",\n  \"away\",\n  \"awesome\",\n  \"awful\",\n  \"awkward\",\n  \"axis\",\n  \"baby\",\n  \"bachelor\",\n  \"bacon\",\n  \"badge\",\n  \"bag\",\n  \"balance\",\n  \"balcony\",\n  \"ball\",\n  \"bamboo\",\n  \"banana\",\n  \"banner\",\n  \"bar\",\n  \"barely\",\n  \"bargain\",\n  \"barrel\",\n  \"base\",\n  \"basic\",\n  \"basket\",\n  \"battle\",\n  \"beach\",\n  \"bean\",\n  \"beauty\",\n  \"because\",\n  \"become\",\n  \"beef\",\n  \"before\",\n  \"begin\",\n  \"behave\",\n  \"behind\",\n  \"believe\",\n  \"below\",\n  \"belt\",\n  \"bench\",\n  \"benefit\",\n  \"best\",\n  \"betray\",\n  \"better\",\n  \"between\",\n  \"beyond\",\n  \"bicycle\",\n  \"bid\",\n  \"bike\",\n  \"bind\",\n  \"biology\",\n  \"bird\",\n  \"birth\",\n  \"bitter\",\n  \"black\",\n  \"blade\",\n  \"blame\",\n  \"blanket\",\n  \"blast\",\n  \"bleak\",\n  \"bless\",\n  \"blind\",\n  \"blood\",\n  \"blossom\",\n  \"blouse\",\n  \"blue\",\n  \"blur\",\n  \"blush\",\n  \"board\",\n  \"boat\",\n  \"body\",\n  \"boil\",\n  \"bomb\",\n  \"bone\",\n  \"bonus\",\n  \"book\",\n  \"boost\",\n  \"border\",\n  \"boring\",\n  \"borrow\",\n  \"boss\",\n  \"bottom\",\n  \"bounce\",\n  \"box\",\n  \"boy\",\n  \"bracket\",\n  \"brain\",\n  \"brand\",\n  \"brass\",\n  \"brave\",\n  \"bread\",\n  \"breeze\",\n  \"brick\",\n  \"bridge\",\n  \"brief\",\n  \"bright\",\n  \"bring\",\n  \"brisk\",\n  \"broccoli\",\n  \"broken\",\n  \"bronze\",\n  \"broom\",\n  \"brother\",\n  \"brown\",\n  \"brush\",\n  \"bubble\",\n  \"buddy\",\n  \"budget\",\n  \"buffalo\",\n  \"build\",\n  \"bulb\",\n  \"bulk\",\n  \"bullet\",\n  \"bundle\",\n  \"bunker\",\n  \"burden\",\n  \"burger\",\n  \"burst\",\n  \"bus\",\n  \"business\",\n  \"busy\",\n  \"butter\",\n  \"buyer\",\n  \"buzz\",\n  \"cabbage\",\n  \"cabin\",\n  \"cable\",\n  \"cactus\",\n  \"cage\",\n  \"cake\",\n  \"call\",\n  \"calm\",\n  \"camera\",\n  \"camp\",\n  \"can\",\n  \"canal\",\n  \"cancel\",\n  \"candy\",\n  \"cannon\",\n  \"canoe\",\n  \"canvas\",\n  \"canyon\",\n  \"capable\",\n  \"capital\",\n  \"captain\",\n  \"car\",\n  \"carbon\",\n  \"card\",\n  \"cargo\",\n  \"carpet\",\n  \"carry\",\n  \"cart\",\n  \"case\",\n  \"cash\",\n  \"casino\",\n  \"castle\",\n  \"casual\",\n  \"cat\",\n  \"catalog\",\n  \"catch\",\n  \"category\",\n  \"cattle\",\n  \"caught\",\n  \"cause\",\n  \"caution\",\n  \"cave\",\n  \"ceiling\",\n  \"celery\",\n  \"cement\",\n  \"census\",\n  \"century\",\n  \"cereal\",\n  \"certain\",\n  \"chair\",\n  \"chalk\",\n  \"champion\",\n  \"change\",\n  \"chaos\",\n  \"chapter\",\n  \"charge\",\n  \"chase\",\n  \"chat\",\n  \"cheap\",\n  \"check\",\n  \"cheese\",\n  \"chef\",\n  \"cherry\",\n  \"chest\",\n  \"chicken\",\n  \"chief\",\n  \"child\",\n  \"chimney\",\n  \"choice\",\n  \"choose\",\n  \"chronic\",\n  \"chuckle\",\n  \"chunk\",\n  \"churn\",\n  \"cigar\",\n  \"cinnamon\",\n  \"circle\",\n  \"citizen\",\n  \"city\",\n  \"civil\",\n  \"claim\",\n  \"clap\",\n  \"clarify\",\n  \"claw\",\n  \"clay\",\n  \"clean\",\n  \"clerk\",\n  \"clever\",\n  \"click\",\n  \"client\",\n  \"cliff\",\n  \"climb\",\n  \"clinic\",\n  \"clip\",\n  \"clock\",\n  \"clog\",\n  \"close\",\n  \"cloth\",\n  \"cloud\",\n  \"clown\",\n  \"club\",\n  \"clump\",\n  \"cluster\",\n  \"clutch\",\n  \"coach\",\n  \"coast\",\n  \"coconut\",\n  \"code\",\n  \"coffee\",\n  \"coil\",\n  \"coin\",\n  \"collect\",\n  \"color\",\n  \"column\",\n  \"combine\",\n  \"come\",\n  \"comfort\",\n  \"comic\",\n  \"common\",\n  \"company\",\n  \"concert\",\n  \"conduct\",\n  \"confirm\",\n  \"congress\",\n  \"connect\",\n  \"consider\",\n  \"control\",\n  \"convince\",\n  \"cook\",\n  \"cool\",\n  \"copper\",\n  \"copy\",\n  \"coral\",\n  \"core\",\n  \"corn\",\n  \"correct\",\n  \"cost\",\n  \"cotton\",\n  \"couch\",\n  \"country\",\n  \"couple\",\n  \"course\",\n  \"cousin\",\n  \"cover\",\n  \"coyote\",\n  \"crack\",\n  \"cradle\",\n  \"craft\",\n  \"cram\",\n  \"crane\",\n  \"crash\",\n  \"crater\",\n  \"crawl\",\n  \"crazy\",\n  \"cream\",\n  \"credit\",\n  \"creek\",\n  \"crew\",\n  \"cricket\",\n  \"crime\",\n  \"crisp\",\n  \"critic\",\n  \"crop\",\n  \"cross\",\n  \"crouch\",\n  \"crowd\",\n  \"crucial\",\n  \"cruel\",\n  \"cruise\",\n  \"crumble\",\n  \"crunch\",\n  \"crush\",\n  \"cry\",\n  \"crystal\",\n  \"cube\",\n  \"culture\",\n  \"cup\",\n  \"cupboard\",\n  \"curious\",\n  \"current\",\n  \"curtain\",\n  \"curve\",\n  \"cushion\",\n  \"custom\",\n  \"cute\",\n  \"cycle\",\n  \"dad\",\n  \"damage\",\n  \"damp\",\n  \"dance\",\n  \"danger\",\n  \"daring\",\n  \"dash\",\n  \"daughter\",\n  \"dawn\",\n  \"day\",\n  \"deal\",\n  \"debate\",\n  \"debris\",\n  \"decade\",\n  \"december\",\n  \"decide\",\n  \"decline\",\n  \"decorate\",\n  \"decrease\",\n  \"deer\",\n  \"defense\",\n  \"define\",\n  \"defy\",\n  \"degree\",\n  \"delay\",\n  \"deliver\",\n  \"demand\",\n  \"demise\",\n  \"denial\",\n  \"dentist\",\n  \"deny\",\n  \"depart\",\n  \"depend\",\n  \"deposit\",\n  \"depth\",\n  \"deputy\",\n  \"derive\",\n  \"describe\",\n  \"desert\",\n  \"design\",\n  \"desk\",\n  \"despair\",\n  \"destroy\",\n  \"detail\",\n  \"detect\",\n  \"develop\",\n  \"device\",\n  \"devote\",\n  \"diagram\",\n  \"dial\",\n  \"diamond\",\n  \"diary\",\n  \"dice\",\n  \"diesel\",\n  \"diet\",\n  \"differ\",\n  \"digital\",\n  \"dignity\",\n  \"dilemma\",\n  \"dinner\",\n  \"dinosaur\",\n  \"direct\",\n  \"dirt\",\n  \"disagree\",\n  \"discover\",\n  \"disease\",\n  \"dish\",\n  \"dismiss\",\n  \"disorder\",\n  \"display\",\n  \"distance\",\n  \"divert\",\n  \"divide\",\n  \"divorce\",\n  \"dizzy\",\n  \"doctor\",\n  \"document\",\n  \"dog\",\n  \"doll\",\n  \"dolphin\",\n  \"domain\",\n  \"donate\",\n  \"donkey\",\n  \"donor\",\n  \"door\",\n  \"dose\",\n  \"double\",\n  \"dove\",\n  \"draft\",\n  \"dragon\",\n  \"drama\",\n  \"drastic\",\n  \"draw\",\n  \"dream\",\n  \"dress\",\n  \"drift\",\n  \"drill\",\n  \"drink\",\n  \"drip\",\n  \"drive\",\n  \"drop\",\n  \"drum\",\n  \"dry\",\n  \"duck\",\n  \"dumb\",\n  \"dune\",\n  \"during\",\n  \"dust\",\n  \"dutch\",\n  \"duty\",\n  \"dwarf\",\n  \"dynamic\",\n  \"eager\",\n  \"eagle\",\n  \"early\",\n  \"earn\",\n  \"earth\",\n  \"easily\",\n  \"east\",\n  \"easy\",\n  \"echo\",\n  \"ecology\",\n  \"economy\",\n  \"edge\",\n  \"edit\",\n  \"educate\",\n  \"effort\",\n  \"egg\",\n  \"eight\",\n  \"either\",\n  \"elbow\",\n  \"elder\",\n  \"electric\",\n  \"elegant\",\n  \"element\",\n  \"elephant\",\n  \"elevator\",\n  \"elite\",\n  \"else\",\n  \"embark\",\n  \"embody\",\n  \"embrace\",\n  \"emerge\",\n  \"emotion\",\n  \"employ\",\n  \"empower\",\n  \"empty\",\n  \"enable\",\n  \"enact\",\n  \"end\",\n  \"endless\",\n  \"endorse\",\n  \"enemy\",\n  \"energy\",\n  \"enforce\",\n  \"engage\",\n  \"engine\",\n  \"enhance\",\n  \"enjoy\",\n  \"enlist\",\n  \"enough\",\n  \"enrich\",\n  \"enroll\",\n  \"ensure\",\n  \"enter\",\n  \"entire\",\n  \"entry\",\n  \"envelope\",\n  \"episode\",\n  \"equal\",\n  \"equip\",\n  \"era\",\n  \"erase\",\n  \"erode\",\n  \"erosion\",\n  \"error\",\n  \"erupt\",\n  \"escape\",\n  \"essay\",\n  \"essence\",\n  \"estate\",\n  \"eternal\",\n  \"ethics\",\n  \"evidence\",\n  \"evil\",\n  \"evoke\",\n  \"evolve\",\n  \"exact\",\n  \"example\",\n  \"excess\",\n  \"exchange\",\n  \"excite\",\n  \"exclude\",\n  \"excuse\",\n  \"execute\",\n  \"exercise\",\n  \"exhaust\",\n  \"exhibit\",\n  \"exile\",\n  \"exist\",\n  \"exit\",\n  \"exotic\",\n  \"expand\",\n  \"expect\",\n  \"expire\",\n  \"explain\",\n  \"expose\",\n  \"express\",\n  \"extend\",\n  \"extra\",\n  \"eye\",\n  \"eyebrow\",\n  \"fabric\",\n  \"face\",\n  \"faculty\",\n  \"fade\",\n  \"faint\",\n  \"faith\",\n  \"fall\",\n  \"false\",\n  \"fame\",\n  \"family\",\n  \"famous\",\n  \"fan\",\n  \"fancy\",\n  \"fantasy\",\n  \"farm\",\n  \"fashion\",\n  \"fat\",\n  \"fatal\",\n  \"father\",\n  \"fatigue\",\n  \"fault\",\n  \"favorite\",\n  \"feature\",\n  \"february\",\n  \"federal\",\n  \"fee\",\n  \"feed\",\n  \"feel\",\n  \"female\",\n  \"fence\",\n  \"festival\",\n  \"fetch\",\n  \"fever\",\n  \"few\",\n  \"fiber\",\n  \"fiction\",\n  \"field\",\n  \"figure\",\n  \"file\",\n  \"film\",\n  \"filter\",\n  \"final\",\n  \"find\",\n  \"fine\",\n  \"finger\",\n  \"finish\",\n  \"fire\",\n  \"firm\",\n  \"first\",\n  \"fiscal\",\n  \"fish\",\n  \"fit\",\n  \"fitness\",\n  \"fix\",\n  \"flag\",\n  \"flame\",\n  \"flash\",\n  \"flat\",\n  \"flavor\",\n  \"flee\",\n  \"flight\",\n  \"flip\",\n  \"float\",\n  \"flock\",\n  \"floor\",\n  \"flower\",\n  \"fluid\",\n  \"flush\",\n  \"fly\",\n  \"foam\",\n  \"focus\",\n  \"fog\",\n  \"foil\",\n  \"fold\",\n  \"follow\",\n  \"food\",\n  \"foot\",\n  \"force\",\n  \"forest\",\n  \"forget\",\n  \"fork\",\n  \"fortune\",\n  \"forum\",\n  \"forward\",\n  \"fossil\",\n  \"foster\",\n  \"found\",\n  \"fox\",\n  \"fragile\",\n  \"frame\",\n  \"frequent\",\n  \"fresh\",\n  \"friend\",\n  \"fringe\",\n  \"frog\",\n  \"front\",\n  \"frost\",\n  \"frown\",\n  \"frozen\",\n  \"fruit\",\n  \"fuel\",\n  \"fun\",\n  \"funny\",\n  \"furnace\",\n  \"fury\",\n  \"future\",\n  \"gadget\",\n  \"gain\",\n  \"galaxy\",\n  \"gallery\",\n  \"game\",\n  \"gap\",\n  \"garage\",\n  \"garbage\",\n  \"garden\",\n  \"garlic\",\n  \"garment\",\n  \"gas\",\n  \"gasp\",\n  \"gate\",\n  \"gather\",\n  \"gauge\",\n  \"gaze\",\n  \"general\",\n  \"genius\",\n  \"genre\",\n  \"gentle\",\n  \"genuine\",\n  \"gesture\",\n  \"ghost\",\n  \"giant\",\n  \"gift\",\n  \"giggle\",\n  \"ginger\",\n  \"giraffe\",\n  \"girl\",\n  \"give\",\n  \"glad\",\n  \"glance\",\n  \"glare\",\n  \"glass\",\n  \"glide\",\n  \"glimpse\",\n  \"globe\",\n  \"gloom\",\n  \"glory\",\n  \"glove\",\n  \"glow\",\n  \"glue\",\n  \"goat\",\n  \"goddess\",\n  \"gold\",\n  \"good\",\n  \"goose\",\n  \"gorilla\",\n  \"gospel\",\n  \"gossip\",\n  \"govern\",\n  \"gown\",\n  \"grab\",\n  \"grace\",\n  \"grain\",\n  \"grant\",\n  \"grape\",\n  \"grass\",\n  \"gravity\",\n  \"great\",\n  \"green\",\n  \"grid\",\n  \"grief\",\n  \"grit\",\n  \"grocery\",\n  \"group\",\n  \"grow\",\n  \"grunt\",\n  \"guard\",\n  \"guess\",\n  \"guide\",\n  \"guilt\",\n  \"guitar\",\n  \"gun\",\n  \"gym\",\n  \"habit\",\n  \"hair\",\n  \"half\",\n  \"hammer\",\n  \"hamster\",\n  \"hand\",\n  \"happy\",\n  \"harbor\",\n  \"hard\",\n  \"harsh\",\n  \"harvest\",\n  \"hat\",\n  \"have\",\n  \"hawk\",\n  \"hazard\",\n  \"head\",\n  \"health\",\n  \"heart\",\n  \"heavy\",\n  \"hedgehog\",\n  \"height\",\n  \"hello\",\n  \"helmet\",\n  \"help\",\n  \"hen\",\n  \"hero\",\n  \"hidden\",\n  \"high\",\n  \"hill\",\n  \"hint\",\n  \"hip\",\n  \"hire\",\n  \"history\",\n  \"hobby\",\n  \"hockey\",\n  \"hold\",\n  \"hole\",\n  \"holiday\",\n  \"hollow\",\n  \"home\",\n  \"honey\",\n  \"hood\",\n  \"hope\",\n  \"horn\",\n  \"horror\",\n  \"horse\",\n  \"hospital\",\n  \"host\",\n  \"hotel\",\n  \"hour\",\n  \"hover\",\n  \"hub\",\n  \"huge\",\n  \"human\",\n  \"humble\",\n  \"humor\",\n  \"hundred\",\n  \"hungry\",\n  \"hunt\",\n  \"hurdle\",\n  \"hurry\",\n  \"hurt\",\n  \"husband\",\n  \"hybrid\",\n  \"ice\",\n  \"icon\",\n  \"idea\",\n  \"identify\",\n  \"idle\",\n  \"ignore\",\n  \"ill\",\n  \"illegal\",\n  \"illness\",\n  \"image\",\n  \"imitate\",\n  \"immense\",\n  \"immune\",\n  \"impact\",\n  \"impose\",\n  \"improve\",\n  \"impulse\",\n  \"inch\",\n  \"include\",\n  \"income\",\n  \"increase\",\n  \"index\",\n  \"indicate\",\n  \"indoor\",\n  \"industry\",\n  \"infant\",\n  \"inflict\",\n  \"inform\",\n  \"inhale\",\n  \"inherit\",\n  \"initial\",\n  \"inject\",\n  \"injury\",\n  \"inmate\",\n  \"inner\",\n  \"innocent\",\n  \"input\",\n  \"inquiry\",\n  \"insane\",\n  \"insect\",\n  \"inside\",\n  \"inspire\",\n  \"install\",\n  \"intact\",\n  \"interest\",\n  \"into\",\n  \"invest\",\n  \"invite\",\n  \"involve\",\n  \"iron\",\n  \"island\",\n  \"isolate\",\n  \"issue\",\n  \"item\",\n  \"ivory\",\n  \"jacket\",\n  \"jaguar\",\n  \"jar\",\n  \"jazz\",\n  \"jealous\",\n  \"jeans\",\n  \"jelly\",\n  \"jewel\",\n  \"job\",\n  \"join\",\n  \"joke\",\n  \"journey\",\n  \"joy\",\n  \"judge\",\n  \"juice\",\n  \"jump\",\n  \"jungle\",\n  \"junior\",\n  \"junk\",\n  \"just\",\n  \"kangaroo\",\n  \"keen\",\n  \"keep\",\n  \"ketchup\",\n  \"key\",\n  \"kick\",\n  \"kid\",\n  \"kidney\",\n  \"kind\",\n  \"kingdom\",\n  \"kiss\",\n  \"kit\",\n  \"kitchen\",\n  \"kite\",\n  \"kitten\",\n  \"kiwi\",\n  \"knee\",\n  \"knife\",\n  \"knock\",\n  \"know\",\n  \"lab\",\n  \"label\",\n  \"labor\",\n  \"ladder\",\n  \"lady\",\n  \"lake\",\n  \"lamp\",\n  \"language\",\n  \"laptop\",\n  \"large\",\n  \"later\",\n  \"latin\",\n  \"laugh\",\n  \"laundry\",\n  \"lava\",\n  \"law\",\n  \"lawn\",\n  \"lawsuit\",\n  \"layer\",\n  \"lazy\",\n  \"leader\",\n  \"leaf\",\n  \"learn\",\n  \"leave\",\n  \"lecture\",\n  \"left\",\n  \"leg\",\n  \"legal\",\n  \"legend\",\n  \"leisure\",\n  \"lemon\",\n  \"lend\",\n  \"length\",\n  \"lens\",\n  \"leopard\",\n  \"lesson\",\n  \"letter\",\n  \"level\",\n  \"liar\",\n  \"liberty\",\n  \"library\",\n  \"license\",\n  \"life\",\n  \"lift\",\n  \"light\",\n  \"like\",\n  \"limb\",\n  \"limit\",\n  \"link\",\n  \"lion\",\n  \"liquid\",\n  \"list\",\n  \"little\",\n  \"live\",\n  \"lizard\",\n  \"load\",\n  \"loan\",\n  \"lobster\",\n  \"local\",\n  \"lock\",\n  \"logic\",\n  \"lonely\",\n  \"long\",\n  \"loop\",\n  \"lottery\",\n  \"loud\",\n  \"lounge\",\n  \"love\",\n  \"loyal\",\n  \"lucky\",\n  \"luggage\",\n  \"lumber\",\n  \"lunar\",\n  \"lunch\",\n  \"luxury\",\n  \"lyrics\",\n  \"machine\",\n  \"mad\",\n  \"magic\",\n  \"magnet\",\n  \"maid\",\n  \"mail\",\n  \"main\",\n  \"major\",\n  \"make\",\n  \"mammal\",\n  \"man\",\n  \"manage\",\n  \"mandate\",\n  \"mango\",\n  \"mansion\",\n  \"manual\",\n  \"maple\",\n  \"marble\",\n  \"march\",\n  \"margin\",\n  \"marine\",\n  \"market\",\n  \"marriage\",\n  \"mask\",\n  \"mass\",\n  \"master\",\n  \"match\",\n  \"material\",\n  \"math\",\n  \"matrix\",\n  \"matter\",\n  \"maximum\",\n  \"maze\",\n  \"meadow\",\n  \"mean\",\n  \"measure\",\n  \"meat\",\n  \"mechanic\",\n  \"medal\",\n  \"media\",\n  \"melody\",\n  \"melt\",\n  \"member\",\n  \"memory\",\n  \"mention\",\n  \"menu\",\n  \"mercy\",\n  \"merge\",\n  \"merit\",\n  \"merry\",\n  \"mesh\",\n  \"message\",\n  \"metal\",\n  \"method\",\n  \"middle\",\n  \"midnight\",\n  \"milk\",\n  \"million\",\n  \"mimic\",\n  \"mind\",\n  \"minimum\",\n  \"minor\",\n  \"minute\",\n  \"miracle\",\n  \"mirror\",\n  \"misery\",\n  \"miss\",\n  \"mistake\",\n  \"mix\",\n  \"mixed\",\n  \"mixture\",\n  \"mobile\",\n  \"model\",\n  \"modify\",\n  \"mom\",\n  \"moment\",\n  \"monitor\",\n  \"monkey\",\n  \"monster\",\n  \"month\",\n  \"moon\",\n  \"moral\",\n  \"more\",\n  \"morning\",\n  \"mosquito\",\n  \"mother\",\n  \"motion\",\n  \"motor\",\n  \"mountain\",\n  \"mouse\",\n  \"move\",\n  \"movie\",\n  \"much\",\n  \"muffin\",\n  \"mule\",\n  \"multiply\",\n  \"muscle\",\n  \"museum\",\n  \"mushroom\",\n  \"music\",\n  \"must\",\n  \"mutual\",\n  \"myself\",\n  \"mystery\",\n  \"myth\",\n  \"naive\",\n  \"name\",\n  \"napkin\",\n  \"narrow\",\n  \"nasty\",\n  \"nation\",\n  \"nature\",\n  \"near\",\n  \"neck\",\n  \"need\",\n  \"negative\",\n  \"neglect\",\n  \"neither\",\n  \"nephew\",\n  \"nerve\",\n  \"nest\",\n  \"net\",\n  \"network\",\n  \"neutral\",\n  \"never\",\n  \"news\",\n  \"next\",\n  \"nice\",\n  \"night\",\n  \"noble\",\n  \"noise\",\n  \"nominee\",\n  \"noodle\",\n  \"normal\",\n  \"north\",\n  \"nose\",\n  \"notable\",\n  \"note\",\n  \"nothing\",\n  \"notice\",\n  \"novel\",\n  \"now\",\n  \"nuclear\",\n  \"number\",\n  \"nurse\",\n  \"nut\",\n  \"oak\",\n  \"obey\",\n  \"object\",\n  \"oblige\",\n  \"obscure\",\n  \"observe\",\n  \"obtain\",\n  \"obvious\",\n  \"occur\",\n  \"ocean\",\n  \"october\",\n  \"odor\",\n  \"off\",\n  \"offer\",\n  \"office\",\n  \"often\",\n  \"oil\",\n  \"okay\",\n  \"old\",\n  \"olive\",\n  \"olympic\",\n  \"omit\",\n  \"once\",\n  \"one\",\n  \"onion\",\n  \"online\",\n  \"only\",\n  \"open\",\n  \"opera\",\n  \"opinion\",\n  \"oppose\",\n  \"option\",\n  \"orange\",\n  \"orbit\",\n  \"orchard\",\n  \"order\",\n  \"ordinary\",\n  \"organ\",\n  \"orient\",\n  \"original\",\n  \"orphan\",\n  \"ostrich\",\n  \"other\",\n  \"outdoor\",\n  \"outer\",\n  \"output\",\n  \"outside\",\n  \"oval\",\n  \"oven\",\n  \"over\",\n  \"own\",\n  \"owner\",\n  \"oxygen\",\n  \"oyster\",\n  \"ozone\",\n  \"pact\",\n  \"paddle\",\n  \"page\",\n  \"pair\",\n  \"palace\",\n  \"palm\",\n  \"panda\",\n  \"panel\",\n  \"panic\",\n  \"panther\",\n  \"paper\",\n  \"parade\",\n  \"parent\",\n  \"park\",\n  \"parrot\",\n  \"party\",\n  \"pass\",\n  \"patch\",\n  \"path\",\n  \"patient\",\n  \"patrol\",\n  \"pattern\",\n  \"pause\",\n  \"pave\",\n  \"payment\",\n  \"peace\",\n  \"peanut\",\n  \"pear\",\n  \"peasant\",\n  \"pelican\",\n  \"pen\",\n  \"penalty\",\n  \"pencil\",\n  \"people\",\n  \"pepper\",\n  \"perfect\",\n  \"permit\",\n  \"person\",\n  \"pet\",\n  \"phone\",\n  \"photo\",\n  \"phrase\",\n  \"physical\",\n  \"piano\",\n  \"picnic\",\n  \"picture\",\n  \"piece\",\n  \"pig\",\n  \"pigeon\",\n  \"pill\",\n  \"pilot\",\n  \"pink\",\n  \"pioneer\",\n  \"pipe\",\n  \"pistol\",\n  \"pitch\",\n  \"pizza\",\n  \"place\",\n  \"planet\",\n  \"plastic\",\n  \"plate\",\n  \"play\",\n  \"please\",\n  \"pledge\",\n  \"pluck\",\n  \"plug\",\n  \"plunge\",\n  \"poem\",\n  \"poet\",\n  \"point\",\n  \"polar\",\n  \"pole\",\n  \"police\",\n  \"pond\",\n  \"pony\",\n  \"pool\",\n  \"popular\",\n  \"portion\",\n  \"position\",\n  \"possible\",\n  \"post\",\n  \"potato\",\n  \"pottery\",\n  \"poverty\",\n  \"powder\",\n  \"power\",\n  \"practice\",\n  \"praise\",\n  \"predict\",\n  \"prefer\",\n  \"prepare\",\n  \"present\",\n  \"pretty\",\n  \"prevent\",\n  \"price\",\n  \"pride\",\n  \"primary\",\n  \"print\",\n  \"priority\",\n  \"prison\",\n  \"private\",\n  \"prize\",\n  \"problem\",\n  \"process\",\n  \"produce\",\n  \"profit\",\n  \"program\",\n  \"project\",\n  \"promote\",\n  \"proof\",\n  \"property\",\n  \"prosper\",\n  \"protect\",\n  \"proud\",\n  \"provide\",\n  \"public\",\n  \"pudding\",\n  \"pull\",\n  \"pulp\",\n  \"pulse\",\n  \"pumpkin\",\n  \"punch\",\n  \"pupil\",\n  \"puppy\",\n  \"purchase\",\n  \"purity\",\n  \"purpose\",\n  \"purse\",\n  \"push\",\n  \"put\",\n  \"puzzle\",\n  \"pyramid\",\n  \"quality\",\n  \"quantum\",\n  \"quarter\",\n  \"question\",\n  \"quick\",\n  \"quit\",\n  \"quiz\",\n  \"quote\",\n  \"rabbit\",\n  \"raccoon\",\n  \"race\",\n  \"rack\",\n  \"radar\",\n  \"radio\",\n  \"rail\",\n  \"rain\",\n  \"raise\",\n  \"rally\",\n  \"ramp\",\n  \"ranch\",\n  \"random\",\n  \"range\",\n  \"rapid\",\n  \"rare\",\n  \"rate\",\n  \"rather\",\n  \"raven\",\n  \"raw\",\n  \"razor\",\n  \"ready\",\n  \"real\",\n  \"reason\",\n  \"rebel\",\n  \"rebuild\",\n  \"recall\",\n  \"receive\",\n  \"recipe\",\n  \"record\",\n  \"recycle\",\n  \"reduce\",\n  \"reflect\",\n  \"reform\",\n  \"refuse\",\n  \"region\",\n  \"regret\",\n  \"regular\",\n  \"reject\",\n  \"relax\",\n  \"release\",\n  \"relief\",\n  \"rely\",\n  \"remain\",\n  \"remember\",\n  \"remind\",\n  \"remove\",\n  \"render\",\n  \"renew\",\n  \"rent\",\n  \"reopen\",\n  \"repair\",\n  \"repeat\",\n  \"replace\",\n  \"report\",\n  \"require\",\n  \"rescue\",\n  \"resemble\",\n  \"resist\",\n  \"resource\",\n  \"response\",\n  \"result\",\n  \"retire\",\n  \"retreat\",\n  \"return\",\n  \"reunion\",\n  \"reveal\",\n  \"review\",\n  \"reward\",\n  \"rhythm\",\n  \"rib\",\n  \"ribbon\",\n  \"rice\",\n  \"rich\",\n  \"ride\",\n  \"ridge\",\n  \"rifle\",\n  \"right\",\n  \"rigid\",\n  \"ring\",\n  \"riot\",\n  \"ripple\",\n  \"risk\",\n  \"ritual\",\n  \"rival\",\n  \"river\",\n  \"road\",\n  \"roast\",\n  \"robot\",\n  \"robust\",\n  \"rocket\",\n  \"romance\",\n  \"roof\",\n  \"rookie\",\n  \"room\",\n  \"rose\",\n  \"rotate\",\n  \"rough\",\n  \"round\",\n  \"route\",\n  \"royal\",\n  \"rubber\",\n  \"rude\",\n  \"rug\",\n  \"rule\",\n  \"run\",\n  \"runway\",\n  \"rural\",\n  \"sad\",\n  \"saddle\",\n  \"sadness\",\n  \"safe\",\n  \"sail\",\n  \"salad\",\n  \"salmon\",\n  \"salon\",\n  \"salt\",\n  \"salute\",\n  \"same\",\n  \"sample\",\n  \"sand\",\n  \"satisfy\",\n  \"satoshi\",\n  \"sauce\",\n  \"sausage\",\n  \"save\",\n  \"say\",\n  \"scale\",\n  \"scan\",\n  \"scare\",\n  \"scatter\",\n  \"scene\",\n  \"scheme\",\n  \"school\",\n  \"science\",\n  \"scissors\",\n  \"scorpion\",\n  \"scout\",\n  \"scrap\",\n  \"screen\",\n  \"script\",\n  \"scrub\",\n  \"sea\",\n  \"search\",\n  \"season\",\n  \"seat\",\n  \"second\",\n  \"secret\",\n  \"section\",\n  \"security\",\n  \"seed\",\n  \"seek\",\n  \"segment\",\n  \"select\",\n  \"sell\",\n  \"seminar\",\n  \"senior\",\n  \"sense\",\n  \"sentence\",\n  \"series\",\n  \"service\",\n  \"session\",\n  \"settle\",\n  \"setup\",\n  \"seven\",\n  \"shadow\",\n  \"shaft\",\n  \"shallow\",\n  \"share\",\n  \"shed\",\n  \"shell\",\n  \"sheriff\",\n  \"shield\",\n  \"shift\",\n  \"shine\",\n  \"ship\",\n  \"shiver\",\n  \"shock\",\n  \"shoe\",\n  \"shoot\",\n  \"shop\",\n  \"short\",\n  \"shoulder\",\n  \"shove\",\n  \"shrimp\",\n  \"shrug\",\n  \"shuffle\",\n  \"shy\",\n  \"sibling\",\n  \"sick\",\n  \"side\",\n  \"siege\",\n  \"sight\",\n  \"sign\",\n  \"silent\",\n  \"silk\",\n  \"silly\",\n  \"silver\",\n  \"similar\",\n  \"simple\",\n  \"since\",\n  \"sing\",\n  \"siren\",\n  \"sister\",\n  \"situate\",\n  \"six\",\n  \"size\",\n  \"skate\",\n  \"sketch\",\n  \"ski\",\n  \"skill\",\n  \"skin\",\n  \"skirt\",\n  \"skull\",\n  \"slab\",\n  \"slam\",\n  \"sleep\",\n  \"slender\",\n  \"slice\",\n  \"slide\",\n  \"slight\",\n  \"slim\",\n  \"slogan\",\n  \"slot\",\n  \"slow\",\n  \"slush\",\n  \"small\",\n  \"smart\",\n  \"smile\",\n  \"smoke\",\n  \"smooth\",\n  \"snack\",\n  \"snake\",\n  \"snap\",\n  \"sniff\",\n  \"snow\",\n  \"soap\",\n  \"soccer\",\n  \"social\",\n  \"sock\",\n  \"soda\",\n  \"soft\",\n  \"solar\",\n  \"soldier\",\n  \"solid\",\n  \"solution\",\n  \"solve\",\n  \"someone\",\n  \"song\",\n  \"soon\",\n  \"sorry\",\n  \"sort\",\n  \"soul\",\n  \"sound\",\n  \"soup\",\n  \"source\",\n  \"south\",\n  \"space\",\n  \"spare\",\n  \"spatial\",\n  \"spawn\",\n  \"speak\",\n  \"special\",\n  \"speed\",\n  \"spell\",\n  \"spend\",\n  \"sphere\",\n  \"spice\",\n  \"spider\",\n  \"spike\",\n  \"spin\",\n  \"spirit\",\n  \"split\",\n  \"spoil\",\n  \"sponsor\",\n  \"spoon\",\n  \"sport\",\n  \"spot\",\n  \"spray\",\n  \"spread\",\n  \"spring\",\n  \"spy\",\n  \"square\",\n  \"squeeze\",\n  \"squirrel\",\n  \"stable\",\n  \"stadium\",\n  \"staff\",\n  \"stage\",\n  \"stairs\",\n  \"stamp\",\n  \"stand\",\n  \"start\",\n  \"state\",\n  \"stay\",\n  \"steak\",\n  \"steel\",\n  \"stem\",\n  \"step\",\n  \"stereo\",\n  \"stick\",\n  \"still\",\n  \"sting\",\n  \"stock\",\n  \"stomach\",\n  \"stone\",\n  \"stool\",\n  \"story\",\n  \"stove\",\n  \"strategy\",\n  \"street\",\n  \"strike\",\n  \"strong\",\n  \"struggle\",\n  \"student\",\n  \"stuff\",\n  \"stumble\",\n  \"style\",\n  \"subject\",\n  \"submit\",\n  \"subway\",\n  \"success\",\n  \"such\",\n  \"sudden\",\n  \"suffer\",\n  \"sugar\",\n  \"suggest\",\n  \"suit\",\n  \"summer\",\n  \"sun\",\n  \"sunny\",\n  \"sunset\",\n  \"super\",\n  \"supply\",\n  \"supreme\",\n  \"sure\",\n  \"surface\",\n  \"surge\",\n  \"surprise\",\n  \"surround\",\n  \"survey\",\n  \"suspect\",\n  \"sustain\",\n  \"swallow\",\n  \"swamp\",\n  \"swap\",\n  \"swarm\",\n  \"swear\",\n  \"sweet\",\n  \"swift\",\n  \"swim\",\n  \"swing\",\n  \"switch\",\n  \"sword\",\n  \"symbol\",\n  \"symptom\",\n  \"syrup\",\n  \"system\",\n  \"table\",\n  \"tackle\",\n  \"tag\",\n  \"tail\",\n  \"talent\",\n  \"talk\",\n  \"tank\",\n  \"tape\",\n  \"target\",\n  \"task\",\n  \"taste\",\n  \"tattoo\",\n  \"taxi\",\n  \"teach\",\n  \"team\",\n  \"tell\",\n  \"ten\",\n  \"tenant\",\n  \"tennis\",\n  \"tent\",\n  \"term\",\n  \"test\",\n  \"text\",\n  \"thank\",\n  \"that\",\n  \"theme\",\n  \"then\",\n  \"theory\",\n  \"there\",\n  \"they\",\n  \"thing\",\n  \"this\",\n  \"thought\",\n  \"three\",\n  \"thrive\",\n  \"throw\",\n  \"thumb\",\n  \"thunder\",\n  \"ticket\",\n  \"tide\",\n  \"tiger\",\n  \"tilt\",\n  \"timber\",\n  \"time\",\n  \"tiny\",\n  \"tip\",\n  \"tired\",\n  \"tissue\",\n  \"title\",\n  \"toast\",\n  \"tobacco\",\n  \"today\",\n  \"toddler\",\n  \"toe\",\n  \"together\",\n  \"toilet\",\n  \"token\",\n  \"tomato\",\n  \"tomorrow\",\n  \"tone\",\n  \"tongue\",\n  \"tonight\",\n  \"tool\",\n  \"tooth\",\n  \"top\",\n  \"topic\",\n  \"topple\",\n  \"torch\",\n  \"tornado\",\n  \"tortoise\",\n  \"toss\",\n  \"total\",\n  \"tourist\",\n  \"toward\",\n  \"tower\",\n  \"town\",\n  \"toy\",\n  \"track\",\n  \"trade\",\n  \"traffic\",\n  \"tragic\",\n  \"train\",\n  \"transfer\",\n  \"trap\",\n  \"trash\",\n  \"travel\",\n  \"tray\",\n  \"treat\",\n  \"tree\",\n  \"trend\",\n  \"trial\",\n  \"tribe\",\n  \"trick\",\n  \"trigger\",\n  \"trim\",\n  \"trip\",\n  \"trophy\",\n  \"trouble\",\n  \"truck\",\n  \"true\",\n  \"truly\",\n  \"trumpet\",\n  \"trust\",\n  \"truth\",\n  \"try\",\n  \"tube\",\n  \"tuition\",\n  \"tumble\",\n  \"tuna\",\n  \"tunnel\",\n  \"turkey\",\n  \"turn\",\n  \"turtle\",\n  \"twelve\",\n  \"twenty\",\n  \"twice\",\n  \"twin\",\n  \"twist\",\n  \"two\",\n  \"type\",\n  \"typical\",\n  \"ugly\",\n  \"umbrella\",\n  \"unable\",\n  \"unaware\",\n  \"uncle\",\n  \"uncover\",\n  \"under\",\n  \"undo\",\n  \"unfair\",\n  \"unfold\",\n  \"unhappy\",\n  \"uniform\",\n  \"unique\",\n  \"unit\",\n  \"universe\",\n  \"unknown\",\n  \"unlock\",\n  \"until\",\n  \"unusual\",\n  \"unveil\",\n  \"update\",\n  \"upgrade\",\n  \"uphold\",\n  \"upon\",\n  \"upper\",\n  \"upset\",\n  \"urban\",\n  \"urge\",\n  \"usage\",\n  \"use\",\n  \"used\",\n  \"useful\",\n  \"useless\",\n  \"usual\",\n  \"utility\",\n  \"vacant\",\n  \"vacuum\",\n  \"vague\",\n  \"valid\",\n  \"valley\",\n  \"valve\",\n  \"van\",\n  \"vanish\",\n  \"vapor\",\n  \"various\",\n  \"vast\",\n  \"vault\",\n  \"vehicle\",\n  \"velvet\",\n  \"vendor\",\n  \"venture\",\n  \"venue\",\n  \"verb\",\n  \"verify\",\n  \"version\",\n  \"very\",\n  \"vessel\",\n  \"veteran\",\n  \"viable\",\n  \"vibrant\",\n  \"vicious\",\n  \"victory\",\n  \"video\",\n  \"view\",\n  \"village\",\n  \"vintage\",\n  \"violin\",\n  \"virtual\",\n  \"virus\",\n  \"visa\",\n  \"visit\",\n  \"visual\",\n  \"vital\",\n  \"vivid\",\n  \"vocal\",\n  \"voice\",\n  \"void\",\n  \"volcano\",\n  \"volume\",\n  \"vote\",\n  \"voyage\",\n  \"wage\",\n  \"wagon\",\n  \"wait\",\n  \"walk\",\n  \"wall\",\n  \"walnut\",\n  \"want\",\n  \"warfare\",\n  \"warm\",\n  \"warrior\",\n  \"wash\",\n  \"wasp\",\n  \"waste\",\n  \"water\",\n  \"wave\",\n  \"way\",\n  \"wealth\",\n  \"weapon\",\n  \"wear\",\n  \"weasel\",\n  \"weather\",\n  \"web\",\n  \"wedding\",\n  \"weekend\",\n  \"weird\",\n  \"welcome\",\n  \"west\",\n  \"wet\",\n  \"whale\",\n  \"what\",\n  \"wheat\",\n  \"wheel\",\n  \"when\",\n  \"where\",\n  \"whip\",\n  \"whisper\",\n  \"wide\",\n  \"width\",\n  \"wife\",\n  \"wild\",\n  \"will\",\n  \"win\",\n  \"window\",\n  \"wine\",\n  \"wing\",\n  \"wink\",\n  \"winner\",\n  \"winter\",\n  \"wire\",\n  \"wisdom\",\n  \"wise\",\n  \"wish\",\n  \"witness\",\n  \"wolf\",\n  \"woman\",\n  \"wonder\",\n  \"wood\",\n  \"wool\",\n  \"word\",\n  \"work\",\n  \"world\",\n  \"worry\",\n  \"worth\",\n  \"wrap\",\n  \"wreck\",\n  \"wrestle\",\n  \"wrist\",\n  \"write\",\n  \"wrong\",\n  \"yard\",\n  \"year\",\n  \"yellow\",\n  \"you\",\n  \"young\",\n  \"youth\",\n  \"zebra\",\n  \"zero\",\n  \"zone\",\n  \"zoo\",\n];\n","import { sha256 } from \"ethereum-cryptography/sha256\";\n\nimport ShareSerializationError from \"./errors\";\n\nexport function normalize(str?: string): string {\n  return (str || \"\").normalize(\"NFKD\");\n}\n\nexport function binaryToByte(bin: string): number {\n  return parseInt(bin, 2);\n}\n\nexport function lpad(str: string, padString: string, length: number): string {\n  let string = str;\n  while (string.length < length) {\n    string = padString + string;\n  }\n  return string;\n}\n\nexport function bytesToBinary(bytes: number[]): string {\n  return bytes.map((x) => lpad(x.toString(2), \"0\", 8)).join(\"\");\n}\n\nexport function deriveChecksumBits(entropyBuffer: Buffer): string {\n  const ENT = entropyBuffer.length * 8;\n  const CS = ENT / 32;\n  const hash = sha256(entropyBuffer);\n\n  return bytesToBinary(Array.from(hash)).slice(0, CS);\n}\n\nexport function entropyToMnemonic(entropy: Buffer | string, english: string[]): string {\n  let newEntropy: Buffer;\n  if (!Buffer.isBuffer(entropy)) {\n    newEntropy = Buffer.from(entropy, \"hex\");\n  }\n\n  // 128 <= ENT <= 256\n  if (newEntropy.length < 16) {\n    throw ShareSerializationError.invalidEntropy();\n  }\n  if (newEntropy.length > 32) {\n    throw ShareSerializationError.invalidEntropy();\n  }\n  if (newEntropy.length % 4 !== 0) {\n    throw ShareSerializationError.invalidEntropy();\n  }\n\n  const entropyBits = bytesToBinary(Array.from(newEntropy));\n  const checksumBits = deriveChecksumBits(newEntropy);\n\n  const bits = entropyBits + checksumBits;\n  const chunks = bits.match(/(.{1,11})/g);\n  const words = chunks.map((binary: string): string => {\n    const index = binaryToByte(binary);\n    return english[index];\n  });\n\n  return english[0] === \"\\u3042\\u3044\\u3053\\u304f\\u3057\\u3093\" // Japanese wordlist\n    ? words.join(\"\\u3000\")\n    : words.join(\" \");\n}\n\nexport function mnemonicToEntropy(mnemonic: string, english: string[]): string {\n  const words = normalize(mnemonic).split(\" \");\n  if (words.length % 3 !== 0) {\n    throw ShareSerializationError.invalidMnemonic();\n  }\n\n  // convert word indices to 11 bit binary strings\n  const bits = words\n    .map((word: string): string => {\n      const index = english.indexOf(word);\n      if (index === -1) {\n        throw ShareSerializationError.invalidMnemonic();\n      }\n\n      return lpad(index.toString(2), \"0\", 11);\n    })\n    .join(\"\");\n\n  // split the binary string into ENT/CS\n  const dividerIndex = Math.floor(bits.length / 33) * 32;\n  const entropyBits = bits.slice(0, dividerIndex);\n  const checksumBits = bits.slice(dividerIndex);\n\n  // calculate the checksum and compare\n  const entropyBytes = entropyBits.match(/(.{1,8})/g).map(binaryToByte);\n  if (entropyBytes.length < 16) {\n    throw ShareSerializationError.invalidEntropy();\n  }\n  if (entropyBytes.length > 32) {\n    throw ShareSerializationError.invalidEntropy();\n  }\n  if (entropyBytes.length % 4 !== 0) {\n    throw ShareSerializationError.invalidEntropy();\n  }\n\n  const entropy = Buffer.from(entropyBytes);\n  const newChecksum = deriveChecksumBits(entropy);\n  if (newChecksum !== checksumBits) {\n    throw ShareSerializationError.invalidChecksum();\n  }\n\n  return entropy.toString(\"hex\");\n}\n","import { IModule, ITKeyApi } from \"@tkey/common-types\";\nimport BN from \"bn.js\";\n\nimport { english } from \"./english\";\nimport ShareSerializationError from \"./errors\";\nimport { entropyToMnemonic, mnemonicToEntropy } from \"./utils\";\n\nexport const SHARE_SERIALIZATION_MODULE_NAME = \"shareSerialization\";\n\nclass ShareSerializationModule implements IModule {\n  moduleName: string;\n\n  tbSDK: ITKeyApi;\n\n  constructor() {\n    this.moduleName = SHARE_SERIALIZATION_MODULE_NAME;\n  }\n\n  static serializeMnemonic(share: BN): string {\n    return entropyToMnemonic(share.toString(\"hex\").padStart(64, \"0\"), english);\n  }\n\n  static deserializeMnemonic(share: string): BN {\n    return new BN(mnemonicToEntropy(share, english), \"hex\");\n  }\n\n  setModuleReferences(tbSDK: ITKeyApi): void {\n    this.tbSDK = tbSDK;\n    this.tbSDK._addShareSerializationMiddleware(this.serialize.bind(this), this.deserialize.bind(this));\n  }\n\n  // eslint-disable-next-line\n  async initialize(): Promise<void> {}\n\n  async serialize(share: BN, type: string): Promise<unknown> {\n    if (type === \"mnemonic\") {\n      return ShareSerializationModule.serializeMnemonic(share);\n    }\n    throw ShareSerializationError.typeNotSupported();\n  }\n\n  async deserialize(serializedShare: unknown, type: string): Promise<BN> {\n    if (type === \"mnemonic\") return ShareSerializationModule.deserializeMnemonic(serializedShare as string);\n    throw ShareSerializationError.typeNotSupported();\n  }\n}\n\nexport default ShareSerializationModule;\n","import { ErrorCodes, ITkeyError, TkeyError } from \"@tkey/common-types\";\n\nclass ShareTransferError extends TkeyError {\n  protected static messages: ErrorCodes = {\n    8000: \"Custom\",\n    // Misc\n    8010: \"Missing current enc key\",\n    8011: \"Current request already exists\",\n    8012: \"User cancelled request\",\n  };\n\n  public constructor(code: number, message?: string) {\n    // takes care of stack and proto\n    super(code, message);\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", { value: \"ShareTransferError\" });\n  }\n\n  public static fromCode(code: number, extraMessage = \"\"): ITkeyError {\n    return new ShareTransferError(code, `${ShareTransferError.messages[code]}${extraMessage}`);\n  }\n\n  public static default(extraMessage = \"\"): ITkeyError {\n    return new ShareTransferError(8000, `${ShareTransferError.messages[8000]}${extraMessage}`);\n  }\n\n  // Custom methods\n  public static missingEncryptionKey(extraMessage = \"\"): ITkeyError {\n    return ShareTransferError.fromCode(8010, extraMessage);\n  }\n\n  public static requestExists(extraMessage = \"\"): ITkeyError {\n    return ShareTransferError.fromCode(8011, extraMessage);\n  }\n\n  public static userCancelledRequest(extraMessage = \"\"): ITkeyError {\n    return ShareTransferError.fromCode(8012, extraMessage);\n  }\n}\nexport default ShareTransferError;\n","import { BufferObj, EncryptedMessage, ShareRequestArgs } from \"@tkey/common-types\";\n\nclass ShareRequest {\n  encPubKey: Buffer;\n\n  encShareInTransit: EncryptedMessage;\n\n  availableShareIndexes: Array<string>;\n\n  userAgent: string;\n\n  customInfo: string;\n\n  userIp: string;\n\n  timestamp: number;\n\n  constructor({ encPubKey, encShareInTransit, availableShareIndexes, userAgent, userIp, timestamp }: ShareRequestArgs) {\n    const testEncPubKey = encPubKey as BufferObj;\n    if (testEncPubKey.type === \"Buffer\") {\n      this.encPubKey = Buffer.from(testEncPubKey.data);\n    } else {\n      this.encPubKey = encPubKey as unknown as Buffer;\n    }\n    this.availableShareIndexes = availableShareIndexes;\n    this.encShareInTransit = encShareInTransit;\n    this.userAgent = userAgent;\n    this.userIp = userIp;\n    this.timestamp = timestamp;\n  }\n}\n\nexport default ShareRequest;\n","import { ShareTransferStorePointerArgs } from \"@tkey/common-types\";\nimport BN from \"bn.js\";\n\nclass ShareTransferStorePointer {\n  pointer: BN;\n\n  constructor({ pointer }: ShareTransferStorePointerArgs) {\n    this.pointer = new BN(pointer, \"hex\");\n  }\n}\nexport default ShareTransferStorePointer;\n","import { promiseTimeout } from \"@toruslabs/http-helpers\";\n\nexport async function getClientIp(): Promise<string> {\n  try {\n    return await promiseTimeout(\n      10000,\n      fetch(\"https://icanhazip.com\", {}).then((response) => {\n        if (response.ok) {\n          return response.text();\n        }\n        // eslint-disable-next-line @typescript-eslint/no-throw-literal\n        throw response;\n      })\n    );\n  } catch (_) {\n    // returning empty ip in case ip service server might be down or slow.\n    return \"\";\n  }\n}\n","import {\n  decrypt,\n  encrypt,\n  getPubKeyECC,\n  getPubKeyPoint,\n  IModule,\n  ITKeyApi,\n  ITkeyError,\n  ShareStore,\n  ShareStoreMap,\n  ShareTransferStorePointerArgs,\n  toPrivKeyECC,\n} from \"@tkey/common-types\";\nimport { generatePrivate } from \"@toruslabs/eccrypto\";\nimport BN from \"bn.js\";\n\nimport ShareTransferError from \"./errors\";\nimport ShareRequest from \"./ShareRequest\";\nimport ShareTransferStorePointer from \"./ShareTransferStorePointer\";\nimport { getClientIp } from \"./utils\";\n\nexport type ShareTransferStore = {\n  [encPubKeyX: string]: ShareRequest;\n};\n\nexport const SHARE_TRANSFER_MODULE_NAME = \"shareTransfer\";\n\nclass ShareTransferModule implements IModule {\n  moduleName: string;\n\n  tbSDK: ITKeyApi;\n\n  currentEncKey: BN;\n\n  requestStatusCheckId: number;\n\n  requestStatusCheckInterval: number;\n\n  constructor() {\n    this.moduleName = SHARE_TRANSFER_MODULE_NAME;\n    this.requestStatusCheckInterval = 1000;\n  }\n\n  static refreshShareTransferMiddleware(\n    generalStore: unknown,\n    oldShareStores: ShareStoreMap,\n    newShareStores: ShareStoreMap\n  ): ShareTransferStorePointer {\n    const numberOfOldShares = Object.keys(oldShareStores).length;\n    const numberOfNewShares = Object.keys(newShareStores).length;\n\n    // This is needed to avoid MIM during share deletion.\n    if (numberOfNewShares <= numberOfOldShares) {\n      const shareTransferStorePointer: ShareTransferStorePointer = { pointer: new BN(generatePrivate()) };\n      return shareTransferStorePointer;\n    }\n\n    return generalStore as ShareTransferStorePointer;\n  }\n\n  setModuleReferences(tbSDK: ITKeyApi): void {\n    this.tbSDK = tbSDK;\n    this.tbSDK._addRefreshMiddleware(this.moduleName, ShareTransferModule.refreshShareTransferMiddleware);\n  }\n\n  setRequestStatusCheckInterval(interval: number): void {\n    this.requestStatusCheckInterval = interval;\n  }\n\n  async initialize(): Promise<void> {\n    const metadata = this.tbSDK.getMetadata();\n    const rawShareTransferStorePointer = metadata.getGeneralStoreDomain(this.moduleName) as ShareTransferStorePointerArgs;\n    let shareTransferStorePointer: ShareTransferStorePointer;\n    if (!rawShareTransferStorePointer) {\n      shareTransferStorePointer = { pointer: new BN(generatePrivate()) };\n      metadata.setGeneralStoreDomain(this.moduleName, shareTransferStorePointer);\n      // await this.tbSDK.syncShareMetadata(); // Requires threshold shares\n      // OPTIMIZATION TO NOT SYNC METADATA TWICE ON INIT, WILL FAIL IF TKEY DOES NOT HAVE MODULE AS DEFAULT\n    } else {\n      shareTransferStorePointer = new ShareTransferStorePointer(rawShareTransferStorePointer);\n    }\n  }\n\n  async requestNewShare(\n    userAgent: string,\n    availableShareIndexes: Array<string>,\n    callback?: (err?: ITkeyError, shareStore?: ShareStore) => void\n  ): Promise<string> {\n    if (this.currentEncKey) throw ShareTransferError.requestExists(`${this.currentEncKey.toString(\"hex\")}`);\n    this.currentEncKey = new BN(generatePrivate());\n    const [newShareTransferStore, userIp] = await Promise.all([this.getShareTransferStore(), getClientIp()]);\n    const encPubKeyX = getPubKeyPoint(this.currentEncKey).x.toString(\"hex\");\n    newShareTransferStore[encPubKeyX] = new ShareRequest({\n      encPubKey: getPubKeyECC(this.currentEncKey),\n      encShareInTransit: undefined,\n      availableShareIndexes,\n      userAgent,\n      userIp,\n      timestamp: Date.now(),\n    });\n    await this.setShareTransferStore(newShareTransferStore);\n    // watcher\n    if (callback) {\n      this.requestStatusCheckId = Number(\n        setInterval(async () => {\n          try {\n            const latestShareTransferStore = await this.getShareTransferStore();\n            if (!this.currentEncKey) throw ShareTransferError.missingEncryptionKey();\n            if (latestShareTransferStore[encPubKeyX].encShareInTransit) {\n              const shareStoreBuf = await decrypt(toPrivKeyECC(this.currentEncKey), latestShareTransferStore[encPubKeyX].encShareInTransit);\n              const receivedShare = ShareStore.fromJSON(JSON.parse(shareStoreBuf.toString()));\n              await this.tbSDK.inputShareStoreSafe(receivedShare, true);\n              this._cleanUpCurrentRequest();\n              callback(null, receivedShare);\n            } else if (!latestShareTransferStore[encPubKeyX]) {\n              this._cleanUpCurrentRequest();\n              callback(ShareTransferError.userCancelledRequest());\n            }\n          } catch (error) {\n            this._cleanUpCurrentRequest();\n            callback(error);\n          }\n        }, this.requestStatusCheckInterval)\n      );\n    }\n    return encPubKeyX;\n  }\n\n  async addCustomInfoToShareRequest(encPubKeyX: string, customInfo: string): Promise<void> {\n    const shareTransferStore = await this.getShareTransferStore();\n    if (!shareTransferStore[encPubKeyX]) throw ShareTransferError.missingEncryptionKey();\n    shareTransferStore[encPubKeyX].customInfo = customInfo;\n    await this.setShareTransferStore(shareTransferStore);\n  }\n\n  async lookForRequests(): Promise<Array<string>> {\n    const shareTransferStore = await this.getShareTransferStore();\n    return Object.keys(shareTransferStore);\n  }\n\n  async approveRequest(encPubKeyX: string, shareStore?: ShareStore): Promise<void> {\n    const shareTransferStore = await this.getShareTransferStore();\n    if (!shareTransferStore[encPubKeyX]) throw ShareTransferError.missingEncryptionKey();\n\n    let bufferedShare: Buffer;\n    if (shareStore) {\n      bufferedShare = Buffer.from(JSON.stringify(shareStore));\n    } else {\n      const store = new ShareRequest(shareTransferStore[encPubKeyX]);\n      const { availableShareIndexes } = store;\n      const metadata = this.tbSDK.getMetadata();\n      const latestPolynomial = metadata.getLatestPublicPolynomial();\n      const latestPolynomialId = latestPolynomial.getPolynomialID();\n      const indexes = metadata.getShareIndexesForPolynomial(latestPolynomialId);\n      const filtered = indexes.filter((el) => !availableShareIndexes.includes(el));\n      const share = this.tbSDK.outputShareStore(filtered[0]);\n      bufferedShare = Buffer.from(JSON.stringify(share));\n    }\n    const shareRequest = new ShareRequest(shareTransferStore[encPubKeyX]);\n    shareTransferStore[encPubKeyX].encShareInTransit = await encrypt(shareRequest.encPubKey, bufferedShare);\n    await this.setShareTransferStore(shareTransferStore);\n    this.currentEncKey = undefined;\n  }\n\n  async approveRequestWithShareIndex(encPubKeyX: string, shareIndex: string): Promise<void> {\n    const deviceShare = this.tbSDK.outputShareStore(shareIndex);\n    return this.approveRequest(encPubKeyX, deviceShare);\n  }\n\n  async getShareTransferStore(): Promise<ShareTransferStore> {\n    const metadata = this.tbSDK.getMetadata();\n    const shareTransferStorePointer = new ShareTransferStorePointer(metadata.getGeneralStoreDomain(this.moduleName) as ShareTransferStorePointerArgs);\n    const storageLayer = this.tbSDK.getStorageLayer();\n    return storageLayer.getMetadata<ShareTransferStore>({ privKey: shareTransferStorePointer.pointer });\n  }\n\n  async setShareTransferStore(shareTransferStore: ShareTransferStore): Promise<void> {\n    const metadata = this.tbSDK.getMetadata();\n    const shareTransferStorePointer = new ShareTransferStorePointer(metadata.getGeneralStoreDomain(this.moduleName) as ShareTransferStorePointerArgs);\n    const storageLayer = this.tbSDK.getStorageLayer();\n    await storageLayer.setMetadata({ input: shareTransferStore, privKey: shareTransferStorePointer.pointer });\n  }\n\n  async startRequestStatusCheck(encPubKeyX: string, deleteRequestAfterCompletion: boolean): Promise<ShareStore> {\n    // watcher\n    return new Promise((resolve, reject) => {\n      this.requestStatusCheckId = Number(\n        setInterval(async () => {\n          try {\n            const latestShareTransferStore = await this.getShareTransferStore();\n            if (!this.currentEncKey) throw ShareTransferError.missingEncryptionKey();\n            if (!latestShareTransferStore[encPubKeyX]) {\n              this._cleanUpCurrentRequest();\n              reject(ShareTransferError.userCancelledRequest());\n            } else if (latestShareTransferStore[encPubKeyX].encShareInTransit) {\n              const shareStoreBuf = await decrypt(toPrivKeyECC(this.currentEncKey), latestShareTransferStore[encPubKeyX].encShareInTransit);\n              const receivedShare = ShareStore.fromJSON(JSON.parse(shareStoreBuf.toString()));\n              await this.tbSDK.inputShareStoreSafe(receivedShare, true);\n              if (deleteRequestAfterCompletion) {\n                await this.deleteShareTransferStore(encPubKeyX);\n              }\n              this._cleanUpCurrentRequest();\n              resolve(receivedShare);\n            }\n          } catch (err) {\n            this._cleanUpCurrentRequest();\n            reject(err);\n          }\n        }, this.requestStatusCheckInterval)\n      );\n    });\n  }\n\n  async cancelRequestStatusCheck(): Promise<void> {\n    clearInterval(this.requestStatusCheckId);\n  }\n\n  async deleteShareTransferStore(encPubKey: string): Promise<void> {\n    const currentShareTransferStore = await this.getShareTransferStore();\n    delete currentShareTransferStore[encPubKey];\n    await this.setShareTransferStore(currentShareTransferStore);\n  }\n\n  async resetShareTransferStore(): Promise<void> {\n    const metadata = this.tbSDK.getMetadata();\n    const shareTransferStorePointer = { pointer: new BN(generatePrivate()) };\n    metadata.setGeneralStoreDomain(this.moduleName, shareTransferStorePointer);\n    await this.tbSDK._syncShareMetadata();\n  }\n\n  private _cleanUpCurrentRequest(): void {\n    this.currentEncKey = undefined;\n    clearInterval(this.requestStatusCheckId);\n  }\n}\n\nexport default ShareTransferModule;\n","import {\n  generateID,\n  getPubKeyPoint,\n  IServiceProvider,\n  IStorageLayer,\n  KEY_NOT_FOUND,\n  MockStorageLayerArgs,\n  StringifiedType,\n} from \"@tkey/common-types\";\nimport BN from \"bn.js\";\nimport stringify from \"json-stable-stringify\";\n\nclass MockStorageLayer implements IStorageLayer {\n  dataMap: {\n    [key: string]: unknown;\n  };\n\n  storageLayerName: string;\n\n  lockMap: {\n    [key: string]: string;\n  };\n\n  serviceProvider: IServiceProvider;\n\n  constructor({ dataMap, lockMap }: MockStorageLayerArgs = { dataMap: {}, lockMap: {} }) {\n    this.dataMap = dataMap || {};\n    this.lockMap = lockMap || {};\n    this.storageLayerName = \"MockStorageLayer\";\n  }\n\n  static fromJSON(value: StringifiedType): MockStorageLayer {\n    const { dataMap, lockMap, storageLayerName } = value;\n    if (storageLayerName !== \"MockStorageLayer\") return undefined;\n    return new MockStorageLayer({ dataMap, lockMap });\n  }\n\n  /**\n   *  Get metadata for a key\n   * @param privKey - If not provided, it will use service provider's share for decryption\n   */\n  async getMetadata<T>(params: { serviceProvider?: IServiceProvider; privKey?: BN }): Promise<T> {\n    const { serviceProvider, privKey } = params;\n    let usedKey: BN;\n    if (!privKey) usedKey = serviceProvider.retrievePubKeyPoint().getX();\n    else usedKey = getPubKeyPoint(privKey).x;\n\n    const fromMap = this.dataMap[usedKey.toString(\"hex\")];\n    if (!fromMap) {\n      return Object.create({ message: KEY_NOT_FOUND }) as T;\n    }\n    return JSON.parse(this.dataMap[usedKey.toString(\"hex\")] as string) as T;\n  }\n\n  /**\n   * Set Metadata for a key\n   * @param input - data to post\n   * @param privKey - If not provided, it will use service provider's share for encryption\n   */\n  async setMetadata<T>(params: { input: T; serviceProvider?: IServiceProvider; privKey?: BN }): Promise<{ message: string }> {\n    const { serviceProvider, privKey, input } = params;\n    let usedKey: BN;\n    if (!privKey) usedKey = serviceProvider.retrievePubKeyPoint().getX();\n    else usedKey = getPubKeyPoint(privKey).x;\n    this.dataMap[usedKey.toString(\"hex\")] = stringify(input);\n    return { message: \"success\" };\n  }\n\n  async setMetadataStream<T>(params: { input: Array<T>; serviceProvider?: IServiceProvider; privKey?: Array<BN> }): Promise<{ message: string }> {\n    const { serviceProvider, privKey, input } = params;\n    input.forEach((el, index) => {\n      let usedKey: BN;\n      if (!privKey || !privKey[index]) usedKey = serviceProvider.retrievePubKeyPoint().getX();\n      else usedKey = getPubKeyPoint(privKey[index]).x;\n      this.dataMap[usedKey.toString(\"hex\")] = stringify(el);\n    });\n\n    return { message: \"success\" };\n  }\n\n  async acquireWriteLock(params: { serviceProvider?: IServiceProvider; privKey?: BN }): Promise<{ status: number; id?: string }> {\n    const { serviceProvider, privKey } = params;\n    let usedKey: BN;\n    if (!privKey) usedKey = serviceProvider.retrievePubKeyPoint().getX();\n    else usedKey = getPubKeyPoint(privKey).x;\n    if (this.lockMap[usedKey.toString(\"hex\")]) return { status: 0 };\n    const id = generateID();\n    this.lockMap[usedKey.toString(\"hex\")] = id;\n    return { status: 1, id };\n  }\n\n  async releaseWriteLock(params: { id: string; serviceProvider?: IServiceProvider; privKey?: BN }): Promise<{ status: number }> {\n    const { serviceProvider, privKey, id } = params;\n    let usedKey: BN;\n    if (!privKey) usedKey = serviceProvider.retrievePubKeyPoint().getX();\n    else usedKey = getPubKeyPoint(privKey).x;\n    if (!this.lockMap[usedKey.toString(\"hex\")]) return { status: 0 };\n    if (id !== this.lockMap[usedKey.toString(\"hex\")]) return { status: 2 };\n    this.lockMap[usedKey.toString(\"hex\")] = null;\n    return { status: 1 };\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      dataMap: this.dataMap,\n      serviceProvider: this.serviceProvider,\n      storageLayerName: this.storageLayerName,\n    };\n  }\n}\n\nexport default MockStorageLayer;\n","import {\n  decrypt,\n  ecCurve,\n  encrypt,\n  EncryptedMessage,\n  getPubKeyECC,\n  getPubKeyPoint,\n  IServiceProvider,\n  IStorageLayer,\n  KEY_NOT_FOUND,\n  ONE_KEY_DELETE_NONCE,\n  ONE_KEY_NAMESPACE,\n  prettyPrintError,\n  StringifiedType,\n  toPrivKeyEC,\n  toPrivKeyECC,\n  TorusStorageLayerAPIParams,\n  TorusStorageLayerArgs,\n} from \"@tkey/common-types\";\nimport { post } from \"@toruslabs/http-helpers\";\nimport BN from \"bn.js\";\nimport { keccak256 } from \"ethereum-cryptography/keccak\";\nimport stringify from \"json-stable-stringify\";\n\nfunction signDataWithPrivKey(data: { timestamp: number }, privKey: BN): string {\n  const sig = ecCurve.sign(keccak256(Buffer.from(stringify(data), \"utf8\")), toPrivKeyECC(privKey), \"utf-8\");\n  return sig.toDER(\"hex\");\n}\n\nclass TorusStorageLayer implements IStorageLayer {\n  enableLogging: boolean;\n\n  hostUrl: string;\n\n  storageLayerName: string;\n\n  serverTimeOffset: number;\n\n  constructor({ enableLogging = false, hostUrl = \"http://localhost:5051\", serverTimeOffset = 0 }: TorusStorageLayerArgs) {\n    this.enableLogging = enableLogging;\n    this.hostUrl = hostUrl;\n    this.storageLayerName = \"TorusStorageLayer\";\n    this.serverTimeOffset = serverTimeOffset;\n  }\n\n  static async serializeMetadataParamsInput(el: unknown, serviceProvider: IServiceProvider, privKey: BN): Promise<unknown> {\n    if (typeof el === \"object\") {\n      // Allow using of special message as command, in which case, do not encrypt\n      const obj = el as Record<string, unknown>;\n      const isCommandMessage = obj.message === ONE_KEY_DELETE_NONCE;\n      if (isCommandMessage) return obj.message;\n    }\n\n    // General case, encrypt message\n    const bufferMetadata = Buffer.from(stringify(el));\n    let encryptedDetails: EncryptedMessage;\n    if (privKey) {\n      encryptedDetails = await encrypt(getPubKeyECC(privKey), bufferMetadata);\n    } else {\n      encryptedDetails = await serviceProvider.encrypt(bufferMetadata);\n    }\n    const serializedEncryptedDetails = btoa(stringify(encryptedDetails));\n    return serializedEncryptedDetails;\n  }\n\n  static fromJSON(value: StringifiedType): TorusStorageLayer {\n    const { enableLogging, hostUrl, storageLayerName, serverTimeOffset = 0 } = value;\n    if (storageLayerName !== \"TorusStorageLayer\") return undefined;\n    return new TorusStorageLayer({ enableLogging, hostUrl, serverTimeOffset });\n  }\n\n  /**\n   *  Get metadata for a key\n   * @param privKey - If not provided, it will use service provider's share for decryption\n   */\n  async getMetadata<T>(params: { serviceProvider?: IServiceProvider; privKey?: BN }): Promise<T> {\n    const { serviceProvider, privKey } = params;\n    const keyDetails = this.generateMetadataParams({}, serviceProvider, privKey);\n    const metadataResponse = await post<{ message: string }>(`${this.hostUrl}/get`, keyDetails);\n    // returns empty object if object\n    if (metadataResponse.message === \"\") {\n      return Object.create({ message: KEY_NOT_FOUND }) as T;\n    }\n    const encryptedMessage = JSON.parse(atob(metadataResponse.message));\n\n    let decrypted: Buffer;\n    if (privKey) {\n      decrypted = await decrypt(toPrivKeyECC(privKey), encryptedMessage);\n    } else {\n      decrypted = await serviceProvider.decrypt(encryptedMessage);\n    }\n\n    return JSON.parse(decrypted.toString()) as T;\n  }\n\n  /**\n   * Set Metadata for a key\n   * @param input - data to post\n   * @param privKey - If not provided, it will use service provider's share for encryption\n   */\n  async setMetadata<T>(params: { input: T; serviceProvider?: IServiceProvider; privKey?: BN }): Promise<{ message: string }> {\n    try {\n      const { serviceProvider, privKey, input } = params;\n      const metadataParams = this.generateMetadataParams(\n        await TorusStorageLayer.serializeMetadataParamsInput(input, serviceProvider, privKey),\n        serviceProvider,\n        privKey\n      );\n      return await post<{ message: string }>(`${this.hostUrl}/set`, metadataParams);\n    } catch (error) {\n      let apiError: any;\n      try {\n        apiError = await error.json();\n      } catch (error2) {\n        // ignore error2. it means not an api error\n        throw error;\n      }\n      if (apiError) throw new Error(prettyPrintError(apiError));\n    }\n  }\n\n  async setMetadataStream<T>(params: { input: Array<T>; serviceProvider?: IServiceProvider; privKey?: Array<BN> }): Promise<{ message: string }> {\n    try {\n      const { serviceProvider, privKey, input } = params;\n      const newInput = input;\n      const finalMetadataParams = await Promise.all(\n        newInput.map(async (el, i) =>\n          this.generateMetadataParams(\n            await TorusStorageLayer.serializeMetadataParamsInput(el, serviceProvider, privKey[i]),\n            serviceProvider,\n            privKey[i]\n          )\n        )\n      );\n\n      const FD = new FormData();\n      finalMetadataParams.forEach((el, index) => {\n        FD.append(index.toString(), JSON.stringify(el));\n      });\n      const options: RequestInit = {\n        mode: \"cors\",\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": undefined,\n        },\n      };\n\n      const customOptions = {\n        isUrlEncodedData: true,\n        timeout: 600 * 1000, // 10 mins of timeout for excessive shares case\n      };\n      return await post<{ message: string }>(`${this.hostUrl}/bulk_set_stream`, FD, options, customOptions);\n    } catch (error) {\n      let apiError: any;\n      try {\n        apiError = await error.json();\n      } catch (error2) {\n        // ignore error2. it means not an api error\n        throw error;\n      }\n      if (apiError) throw new Error(prettyPrintError(apiError));\n    }\n  }\n\n  generateMetadataParams(message: unknown, serviceProvider?: IServiceProvider, privKey?: BN): TorusStorageLayerAPIParams {\n    let sig: string;\n    let pubX: string;\n    let pubY: string;\n    let namespace = \"tkey\";\n    const setTKeyStore = {\n      data: message,\n      timestamp: new BN(~~((this.serverTimeOffset + Date.now()) / 1000)).toString(16),\n    };\n\n    // Overwrite bulk_set to allow deleting nonce v2 together with creating tKey.\n    // This is a workaround, a better solution is allow upstream API to set tableName/namespace of metadata params\n    if (message === ONE_KEY_DELETE_NONCE) {\n      namespace = ONE_KEY_NAMESPACE;\n      setTKeyStore.data = \"<deleted>\";\n    }\n\n    const hash = keccak256(Buffer.from(stringify(setTKeyStore), \"utf8\"));\n    if (privKey) {\n      const unparsedSig = toPrivKeyEC(privKey).sign(hash);\n      sig = Buffer.from(unparsedSig.r.toString(16, 64) + unparsedSig.s.toString(16, 64) + new BN(0).toString(16, 2), \"hex\").toString(\"base64\");\n      const pubK = getPubKeyPoint(privKey);\n      pubX = pubK.x.toString(\"hex\");\n      pubY = pubK.y.toString(\"hex\");\n    } else {\n      const point = serviceProvider.retrievePubKeyPoint();\n      sig = serviceProvider.sign(new BN(hash));\n      pubX = point.getX().toString(\"hex\");\n      pubY = point.getY().toString(\"hex\");\n    }\n    return {\n      pub_key_X: pubX,\n      pub_key_Y: pubY,\n      set_data: setTKeyStore,\n      signature: sig,\n      namespace,\n    };\n  }\n\n  async acquireWriteLock(params: { serviceProvider?: IServiceProvider; privKey?: BN }): Promise<{ status: number; id?: string }> {\n    const { serviceProvider, privKey } = params;\n    const data = {\n      timestamp: Math.floor((this.serverTimeOffset + Date.now()) / 1000),\n    };\n\n    let signature: string;\n    if (privKey) {\n      signature = signDataWithPrivKey(data, privKey);\n    } else {\n      signature = serviceProvider.sign(new BN(keccak256(Buffer.from(stringify(data), \"utf8\"))));\n    }\n    const metadataParams = {\n      key: toPrivKeyEC(privKey).getPublic(\"hex\"),\n      data,\n      signature,\n    };\n    return post<{ status: number; id?: string }>(`${this.hostUrl}/acquireLock`, metadataParams);\n  }\n\n  async releaseWriteLock(params: { id: string; serviceProvider?: IServiceProvider; privKey?: BN }): Promise<{ status: number }> {\n    const { serviceProvider, privKey, id } = params;\n    const data = {\n      timestamp: Math.floor((this.serverTimeOffset + Date.now()) / 1000),\n    };\n\n    let signature: string;\n    if (privKey) {\n      signature = signDataWithPrivKey(data, privKey);\n    } else {\n      signature = serviceProvider.sign(new BN(keccak256(Buffer.from(stringify(data), \"utf8\"))));\n    }\n    const metadataParams = {\n      key: toPrivKeyEC(privKey).getPublic(\"hex\"),\n      data,\n      signature,\n      id,\n    };\n    return post<{ status: number; id?: string }>(`${this.hostUrl}/releaseLock`, metadataParams);\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      enableLogging: this.enableLogging,\n      hostUrl: this.hostUrl,\n      storageLayerName: this.storageLayerName,\n    };\n  }\n}\n\nexport default TorusStorageLayer;\n","import { IServiceProvider, IStorageLayer, StringifiedType, TKeyArgs } from \"@tkey/common-types\";\nimport TKey from \"@tkey/core\";\nimport { ServiceProviderBase } from \"@tkey/service-provider-base\";\nimport { TorusServiceProvider } from \"@tkey/service-provider-torus\";\nimport { SHARE_SERIALIZATION_MODULE_NAME, ShareSerializationModule } from \"@tkey/share-serialization\";\nimport { SHARE_TRANSFER_MODULE_NAME, ShareTransferModule } from \"@tkey/share-transfer\";\nimport { MockStorageLayer, TorusStorageLayer } from \"@tkey/storage-layer-torus\";\n\nclass ThresholdKey extends TKey {\n  constructor(args?: TKeyArgs) {\n    const { modules = {}, serviceProvider, storageLayer, customAuthArgs, serverTimeOffset } = args || {};\n    const defaultModules = {\n      [SHARE_TRANSFER_MODULE_NAME]: new ShareTransferModule(),\n      [SHARE_SERIALIZATION_MODULE_NAME]: new ShareSerializationModule(),\n    };\n    let finalServiceProvider: IServiceProvider;\n    let finalStorageLayer: IStorageLayer;\n    if (!serviceProvider) {\n      finalServiceProvider = new TorusServiceProvider({ customAuthArgs });\n    } else {\n      finalServiceProvider = serviceProvider;\n    }\n    if (!storageLayer) {\n      finalStorageLayer = new TorusStorageLayer({ hostUrl: \"https://metadata.tor.us\", serverTimeOffset });\n    } else {\n      finalStorageLayer = storageLayer;\n    }\n    super({ ...(args || {}), modules: { ...defaultModules, ...modules }, serviceProvider: finalServiceProvider, storageLayer: finalStorageLayer });\n  }\n\n  static async fromJSON(value: StringifiedType, args?: TKeyArgs): Promise<ThresholdKey> {\n    const { storageLayer: tempOldStorageLayer, serviceProvider: tempOldServiceProvider } = value;\n    const { storageLayer, serviceProvider, modules = {}, customAuthArgs, serverTimeOffset = 0 } = args || {};\n    const defaultModules = {\n      [SHARE_TRANSFER_MODULE_NAME]: new ShareTransferModule(),\n      [SHARE_SERIALIZATION_MODULE_NAME]: new ShareSerializationModule(),\n    };\n\n    const finalServiceProvider: IServiceProvider =\n      serviceProvider ||\n      TorusServiceProvider.fromJSON(tempOldServiceProvider) ||\n      ServiceProviderBase.fromJSON(tempOldServiceProvider) ||\n      new TorusServiceProvider({ customAuthArgs });\n\n    tempOldStorageLayer.serviceProvider = finalServiceProvider;\n    const finalStorageLayer: IStorageLayer =\n      storageLayer ||\n      MockStorageLayer.fromJSON(tempOldStorageLayer) ||\n      TorusStorageLayer.fromJSON(tempOldStorageLayer) ||\n      new TorusStorageLayer({ hostUrl: \"https://metadata.tor.us\", serverTimeOffset });\n\n    return super.fromJSON(value, {\n      ...(args || {}),\n      modules: { ...defaultModules, ...modules },\n      serviceProvider: finalServiceProvider,\n      storageLayer: finalStorageLayer,\n    });\n  }\n}\n\nexport default ThresholdKey;\n","import { ErrorCodes, ITkeyError, TkeyError } from \"@tkey/common-types\";\n\nclass SecurityQuestionsError extends TkeyError {\n  protected static messages: ErrorCodes = {\n    2101: \"security questions might not exist/be setup\",\n    2102: \"security questions exists, cant replace, maybe change?\",\n    2103: \"Incorrect answer\",\n    2104: \"no password saved on tkeyStore\",\n  };\n\n  public constructor(code: number, message?: string) {\n    // takes care of stack and proto\n    super(code, message);\n\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", { value: \"SecurityQuestionsError\" });\n  }\n\n  public static fromCode(code: number, extraMessage = \"\"): ITkeyError {\n    return new SecurityQuestionsError(code, `${SecurityQuestionsError.messages[code]}${extraMessage}`);\n  }\n\n  // Custom methods\n  public static unavailable(extraMessage = \"\"): ITkeyError {\n    return SecurityQuestionsError.fromCode(2101, extraMessage);\n  }\n\n  public static unableToReplace(extraMessage = \"\"): ITkeyError {\n    return SecurityQuestionsError.fromCode(2102, extraMessage);\n  }\n\n  public static incorrectAnswer(extraMessage = \"\"): ITkeyError {\n    return SecurityQuestionsError.fromCode(2103, extraMessage);\n  }\n\n  public static noPasswordSaved(extraMessage = \"\"): ITkeyError {\n    return SecurityQuestionsError.fromCode(2104, extraMessage);\n  }\n}\nexport default SecurityQuestionsError;\n","import { ISerializable, PolynomialID, PublicShare, SecurityQuestionStoreArgs, StringifiedType } from \"@tkey/common-types\";\nimport BN from \"bn.js\";\n\nclass SecurityQuestionStore implements ISerializable {\n  nonce: BN;\n\n  shareIndex: BN;\n\n  sqPublicShare: PublicShare;\n\n  polynomialID: PolynomialID;\n\n  questions: string;\n\n  constructor({ nonce, shareIndex, sqPublicShare, polynomialID, questions }: SecurityQuestionStoreArgs) {\n    this.nonce = new BN(nonce, \"hex\");\n    this.shareIndex = new BN(shareIndex, \"hex\");\n    this.sqPublicShare = new PublicShare(sqPublicShare.shareIndex, sqPublicShare.shareCommitment);\n    this.polynomialID = polynomialID;\n    this.questions = questions;\n  }\n\n  static fromJSON(value: StringifiedType): SecurityQuestionStore {\n    const { nonce, shareIndex, sqPublicShare, polynomialID, questions } = value;\n    return new SecurityQuestionStore({\n      nonce: new BN(nonce, \"hex\"),\n      shareIndex: new BN(shareIndex, \"hex\"),\n      sqPublicShare: PublicShare.fromJSON(sqPublicShare),\n      polynomialID,\n      questions,\n    });\n  }\n\n  toJSON(): StringifiedType {\n    return {\n      nonce: this.nonce.toString(\"hex\"),\n      shareIndex: this.shareIndex.toString(\"hex\"),\n      sqPublicShare: this.sqPublicShare,\n      polynomialID: this.polynomialID.toString(),\n      questions: this.questions,\n    };\n  }\n}\nexport default SecurityQuestionStore;\n","import {\n  ecCurve,\n  GenerateNewShareResult,\n  IModule,\n  isEmptyObject,\n  ISQAnswerStore,\n  ITKeyApi,\n  SecurityQuestionStoreArgs,\n  Share,\n  ShareStore,\n  ShareStoreMap,\n} from \"@tkey/common-types\";\nimport BN from \"bn.js\";\nimport { keccak256 } from \"ethereum-cryptography/keccak\";\n\nimport SecurityQuestionsError from \"./errors\";\nimport SecurityQuestionStore from \"./SecurityQuestionStore\";\n\nfunction answerToUserInputHashBN(answerString: string): BN {\n  return new BN(keccak256(Buffer.from(answerString, \"utf8\")));\n}\n\nexport const SECURITY_QUESTIONS_MODULE_NAME = \"securityQuestions\";\nconst TKEYSTORE_ID = \"answer\";\n\nclass SecurityQuestionsModule implements IModule {\n  moduleName: string;\n\n  tbSDK: ITKeyApi;\n\n  saveAnswers: boolean;\n\n  constructor(saveAnswers?: boolean) {\n    this.saveAnswers = saveAnswers;\n    this.moduleName = SECURITY_QUESTIONS_MODULE_NAME;\n  }\n\n  static refreshSecurityQuestionsMiddleware(generalStore: unknown, oldShareStores: ShareStoreMap, newShareStores: ShareStoreMap): unknown {\n    if (generalStore === undefined || isEmptyObject(generalStore)) {\n      return generalStore;\n    }\n    const sqStore = new SecurityQuestionStore(generalStore as SecurityQuestionStoreArgs);\n    const sqIndex = sqStore.shareIndex.toString(\"hex\");\n\n    // Assumption: If sqIndex doesn't exist, it must have been explicitly deleted.\n    if (oldShareStores[sqIndex] && newShareStores[sqIndex]) {\n      const sqAnswer = oldShareStores[sqIndex].share.share.sub(sqStore.nonce);\n      let newNonce = newShareStores[sqIndex].share.share.sub(sqAnswer);\n      newNonce = newNonce.umod(ecCurve.curve.n);\n\n      return new SecurityQuestionStore({\n        nonce: newNonce,\n        polynomialID: newShareStores[Object.keys(newShareStores)[0]].polynomialID,\n        sqPublicShare: newShareStores[sqIndex].share.getPublicShare(),\n        shareIndex: sqStore.shareIndex,\n        questions: sqStore.questions,\n      });\n    }\n    return undefined;\n  }\n\n  setModuleReferences(tbSDK: ITKeyApi): void {\n    this.tbSDK = tbSDK;\n    this.tbSDK._addRefreshMiddleware(this.moduleName, SecurityQuestionsModule.refreshSecurityQuestionsMiddleware);\n  }\n\n  // eslint-disable-next-line\n  async initialize(): Promise<void> {}\n\n  async generateNewShareWithSecurityQuestions(answerString: string, questions: string): Promise<GenerateNewShareResult> {\n    const metadata = this.tbSDK.getMetadata();\n    const rawSqStore = metadata.getGeneralStoreDomain(this.moduleName);\n    if (rawSqStore) throw SecurityQuestionsError.unableToReplace();\n    const newSharesDetails = await this.tbSDK.generateNewShare();\n    const newShareStore = newSharesDetails.newShareStores[newSharesDetails.newShareIndex.toString(\"hex\")];\n    const userInputHash = answerToUserInputHashBN(answerString);\n    let nonce = newShareStore.share.share.sub(userInputHash);\n    nonce = nonce.umod(ecCurve.curve.n);\n    const sqStore = new SecurityQuestionStore({\n      nonce,\n      questions,\n      sqPublicShare: newShareStore.share.getPublicShare(),\n      shareIndex: newShareStore.share.shareIndex,\n      polynomialID: newShareStore.polynomialID,\n    });\n    metadata.setGeneralStoreDomain(this.moduleName, sqStore);\n\n    await this.tbSDK.addShareDescription(\n      newSharesDetails.newShareIndex.toString(\"hex\"),\n      JSON.stringify({ module: this.moduleName, questions, dateAdded: Date.now() }),\n      false // READ TODO1 (don't sync metadata)\n    );\n    // set on tkey store\n    await this.saveAnswerOnTkeyStore(answerString);\n    await this.tbSDK._syncShareMetadata();\n    return newSharesDetails;\n  }\n\n  getSecurityQuestions(): string {\n    const metadata = this.tbSDK.getMetadata();\n    const sqStore = new SecurityQuestionStore(metadata.getGeneralStoreDomain(this.moduleName) as SecurityQuestionStoreArgs);\n    return sqStore.questions;\n  }\n\n  async inputShareFromSecurityQuestions(answerString: string): Promise<void> {\n    const metadata = this.tbSDK.getMetadata();\n    const rawSqStore = metadata.getGeneralStoreDomain(this.moduleName);\n    if (!rawSqStore) throw SecurityQuestionsError.unavailable();\n\n    const sqStore = new SecurityQuestionStore(rawSqStore as SecurityQuestionStoreArgs);\n    const userInputHash = answerToUserInputHashBN(answerString);\n    let share = sqStore.nonce.add(userInputHash);\n    share = share.umod(ecCurve.curve.n);\n    const shareStore = new ShareStore(new Share(sqStore.shareIndex, share), sqStore.polynomialID);\n    // validate if share is correct\n    const derivedPublicShare = shareStore.share.getPublicShare();\n    if (derivedPublicShare.shareCommitment.x.cmp(sqStore.sqPublicShare.shareCommitment.x) !== 0) {\n      throw SecurityQuestionsError.incorrectAnswer();\n    }\n\n    const latestShareDetails = await this.tbSDK.catchupToLatestShare({ shareStore, includeLocalMetadataTransitions: true });\n    // TODO: update share nonce on all metadata. would be cleaner in long term?\n    // if (shareStore.polynomialID !== latestShareDetails.latestShare.polynomialID) this.storeDeviceShare(latestShareDetails.latestShare);\n    this.tbSDK.inputShareStore(latestShareDetails.latestShare);\n  }\n\n  async changeSecurityQuestionAndAnswer(newAnswerString: string, newQuestions: string): Promise<void> {\n    const metadata = this.tbSDK.getMetadata();\n    const rawSqStore = metadata.getGeneralStoreDomain(this.moduleName);\n    if (!rawSqStore) throw SecurityQuestionsError.unavailable();\n\n    const sqStore = new SecurityQuestionStore(rawSqStore as SecurityQuestionStoreArgs);\n\n    const userInputHash = answerToUserInputHashBN(newAnswerString);\n    const sqShare = this.tbSDK.outputShareStore(sqStore.shareIndex);\n    let nonce = sqShare.share.share.sub(userInputHash);\n    nonce = nonce.umod(ecCurve.curve.n);\n\n    const newSqStore = new SecurityQuestionStore({\n      nonce,\n      polynomialID: sqStore.polynomialID,\n      sqPublicShare: sqStore.sqPublicShare,\n      shareIndex: sqStore.shareIndex,\n      questions: newQuestions,\n    });\n    metadata.setGeneralStoreDomain(this.moduleName, newSqStore);\n    await this.saveAnswerOnTkeyStore(newAnswerString);\n    await this.tbSDK._syncShareMetadata();\n  }\n\n  async saveAnswerOnTkeyStore(answerString: string): Promise<void> {\n    if (!this.saveAnswers) return;\n\n    const answerStore: ISQAnswerStore = {\n      answer: answerString,\n      id: TKEYSTORE_ID,\n    };\n    await this.tbSDK._setTKeyStoreItem(this.moduleName, answerStore, false);\n  }\n\n  async getAnswer(): Promise<string> {\n    //  TODO: TODO1 edit setTKeyStoreItem to not sync all the time.\n    if (this.saveAnswers) {\n      const answerStore = (await this.tbSDK.getTKeyStoreItem(this.moduleName, TKEYSTORE_ID)) as ISQAnswerStore;\n      return answerStore.answer;\n    }\n    throw SecurityQuestionsError.noPasswordSaved();\n  }\n}\n\nexport default SecurityQuestionsModule;\n","import { ErrorCodes, ITkeyError, TkeyError } from \"@tkey/common-types\";\n\nclass WebStorageError extends TkeyError {\n  protected static messages: ErrorCodes = {\n    3000: \"default\",\n    // module\n    3101: \"unableToReadFromStorage\",\n    // fileStorage\n    3201: \"No Share exists in file system\",\n    3202: \"No requestFileSystem\",\n    // localstorage\n    3301: \"Local storage is not enabled\",\n    3302: \"No share exists in localstorage\",\n  };\n\n  public constructor(code: number, message?: string) {\n    // takes care of stack and proto\n    super(code, message);\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", { value: \"WebStorageError\" });\n  }\n\n  public static fromCode(code: number, extraMessage = \"\"): ITkeyError {\n    return new WebStorageError(code, `${WebStorageError.messages[code]}${extraMessage}`);\n  }\n\n  public static default(extraMessage = \"\"): ITkeyError {\n    return new WebStorageError(3000, `${WebStorageError.messages[3000]}${extraMessage}`);\n  }\n\n  // Custom methods\n  public static unableToReadFromStorage(extraMessage = \"\"): ITkeyError {\n    return WebStorageError.fromCode(3101, extraMessage);\n  }\n\n  public static shareUnavailableInFileStorage(extraMessage = \"\"): ITkeyError {\n    return WebStorageError.fromCode(3201, extraMessage);\n  }\n\n  public static fileStorageUnavailable(extraMessage = \"\"): ITkeyError {\n    return WebStorageError.fromCode(3202, extraMessage);\n  }\n\n  public static localStorageUnavailable(extraMessage = \"\"): ITkeyError {\n    return WebStorageError.fromCode(3301, extraMessage);\n  }\n\n  public static shareUnavailableInLocalStorage(extraMessage = \"\"): ITkeyError {\n    return WebStorageError.fromCode(3302, extraMessage);\n  }\n}\nexport default WebStorageError;\n","export function getWindow(): Window {\n  if (typeof window !== \"undefined\") return window;\n\n  if (typeof self !== \"undefined\") return self;\n  throw new Error(\"Unable to locate window object.\");\n}\n","import { ShareStore } from \"@tkey/common-types\";\n\nimport WebStorageError from \"./errors\";\nimport { getWindow } from \"./utils\";\n\n// Web Specific declarations\nconst requestedBytes = 1024 * 1024 * 10; // 10MB\n\ndeclare global {\n  interface Navigator {\n    webkitPersistentStorage: {\n      requestQuota: (a: number, b: (grantedBytes: number) => void, c: (reason: string) => void) => unknown;\n    };\n  }\n}\n\nfunction download(filename: string, text: string): void {\n  const element = document.createElement(\"a\");\n  element.setAttribute(\"href\", `data:application/json;charset=utf-8,${encodeURIComponent(text)}`);\n  element.setAttribute(\"download\", filename);\n  element.style.display = \"none\";\n  document.body.appendChild(element);\n  element.click();\n  document.body.removeChild(element);\n}\nasync function requestQuota(): Promise<number> {\n  return new Promise((resolve, reject) => {\n    navigator.webkitPersistentStorage.requestQuota(requestedBytes, resolve, reject);\n  });\n}\nasync function browserRequestFileSystem(grantedBytes: number): Promise<FileSystem> {\n  return new Promise((resolve, reject) => {\n    const win = getWindow();\n    win.requestFileSystem = win.requestFileSystem || win.webkitRequestFileSystem;\n    win.requestFileSystem(win.PERSISTENT, grantedBytes, resolve, reject);\n  });\n}\nasync function getFile(fs: FileSystem, path: string, create: boolean): Promise<FileEntry> {\n  return new Promise<FileEntry>((resolve, reject) => {\n    fs.root.getFile(path, { create }, (data) => resolve(data as FileEntry), reject);\n  });\n}\nasync function readFile(fileEntry: FileEntry): Promise<File> {\n  return new Promise((resolve, reject) => {\n    fileEntry.file(resolve, reject);\n  });\n}\n\nexport const getShareFromFileStorage = async (key: string): Promise<ShareStore> => {\n  const win = getWindow();\n  win.requestFileSystem = win.requestFileSystem || win.webkitRequestFileSystem;\n  if (win.requestFileSystem) {\n    const fs = await browserRequestFileSystem(requestedBytes);\n\n    const fileEntry = await getFile(fs, key, false);\n    const file = await readFile(fileEntry);\n    const fileStr = await file.text();\n    if (!fileStr) {\n      throw WebStorageError.shareUnavailableInFileStorage();\n    }\n    return ShareStore.fromJSON(JSON.parse(fileStr));\n  }\n  throw WebStorageError.fileStorageUnavailable();\n};\n\nexport const storeShareOnFileStorage = async (share: ShareStore, key: string): Promise<void> => {\n  // if we're on chrome (thus window.requestFileSystem exists) we use it\n  const fileName = `${key}.json`;\n  const fileStr = JSON.stringify(share);\n  const win = getWindow();\n  win.requestFileSystem = win.requestFileSystem || win.webkitRequestFileSystem;\n  if (win.requestFileSystem) {\n    const grantedBytes = await requestQuota();\n    const fs = await browserRequestFileSystem(grantedBytes);\n    const fileEntry = await getFile(fs, key, true);\n    await new Promise((resolve, reject) => {\n      fileEntry.createWriter((fileWriter) => {\n        fileWriter.onwriteend = resolve;\n        fileWriter.onerror = reject;\n        const bb = new Blob([fileStr], { type: \"application/json\" });\n        fileWriter.write(bb);\n      }, reject);\n    });\n  } else {\n    // we make the user download a file\n    download(fileName, fileStr);\n  }\n};\n\nexport const canAccessFileStorage = async (): Promise<PermissionStatus> => navigator.permissions.query({ name: \"persistent-storage\" });\n","import { ShareStore } from \"@tkey/common-types\";\n\nimport WebStorageError from \"./errors\";\nimport { getWindow } from \"./utils\";\n\nfunction storageAvailable(type: string): boolean {\n  const win = getWindow();\n  let storage: Storage;\n  try {\n    storage = win[type];\n    const x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return (\n      e instanceof DOMException &&\n      // everything except Firefox\n      (e.code === 22 ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === \"QuotaExceededError\" ||\n        // Firefox\n        e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\n      // acknowledge QuotaExceededError only if there's something already stored\n      storage &&\n      storage.length !== 0\n    );\n  }\n}\n\nexport const storeShareOnLocalStorage = async (share: ShareStore, key: string): Promise<void> => {\n  const fileStr = JSON.stringify(share);\n  if (!storageAvailable(\"localStorage\")) {\n    throw WebStorageError.localStorageUnavailable();\n  }\n  const win = getWindow();\n  win.localStorage.setItem(key, fileStr);\n};\n\nexport const getShareFromLocalStorage = async (key: string): Promise<ShareStore> => {\n  if (!storageAvailable(\"localStorage\")) {\n    throw WebStorageError.localStorageUnavailable();\n  }\n  const win = getWindow();\n  const foundFile = win.localStorage.getItem(key);\n  if (!foundFile) throw WebStorageError.shareUnavailableInLocalStorage();\n  return ShareStore.fromJSON(JSON.parse(foundFile));\n};\n","import { BNString, DeviceShareDescription, IModule, ITKeyApi, prettyPrintError, ShareStore, StringifiedType } from \"@tkey/common-types\";\nimport BN from \"bn.js\";\n\nimport WebStorageError from \"./errors\";\nimport { canAccessFileStorage, getShareFromFileStorage, storeShareOnFileStorage } from \"./FileStorageHelpers\";\nimport { getShareFromLocalStorage, storeShareOnLocalStorage } from \"./LocalStorageHelpers\";\n\nexport const WEB_STORAGE_MODULE_NAME = \"webStorage\";\n\nclass WebStorageModule implements IModule {\n  moduleName: string;\n\n  tbSDK: ITKeyApi;\n\n  canUseFileStorage: boolean;\n\n  constructor(canUseFileStorage = true) {\n    this.moduleName = WEB_STORAGE_MODULE_NAME;\n    this.canUseFileStorage = canUseFileStorage;\n    this.setFileStorageAccess();\n  }\n\n  async setFileStorageAccess(): Promise<void> {\n    try {\n      const result = await canAccessFileStorage();\n      if (result.state === \"denied\") {\n        this.canUseFileStorage = false;\n      } else if (result.state === \"granted\") {\n        this.canUseFileStorage = true;\n      }\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const self = this;\n      result.onchange = function permissionChange() {\n        if (this.state === \"denied\") {\n          self.canUseFileStorage = false;\n        } else if (this.state === \"granted\") {\n          self.canUseFileStorage = true;\n        }\n      };\n    } catch (error) {}\n  }\n\n  setModuleReferences(tbSDK: ITKeyApi): void {\n    this.tbSDK = tbSDK;\n    this.tbSDK._setDeviceStorage(this.storeDeviceShare.bind(this));\n  }\n\n  // eslint-disable-next-line\n  async initialize(): Promise<void> {}\n\n  async storeDeviceShare(deviceShareStore: ShareStore, customDeviceInfo?: StringifiedType): Promise<void> {\n    const metadata = this.tbSDK.getMetadata();\n    const tkeypubx = metadata.pubKey.x.toString(\"hex\");\n    await storeShareOnLocalStorage(deviceShareStore, tkeypubx);\n    const shareDescription: DeviceShareDescription = {\n      module: this.moduleName,\n      userAgent: navigator.userAgent,\n      dateAdded: Date.now(),\n    };\n    if (customDeviceInfo) {\n      shareDescription.customDeviceInfo = JSON.stringify(customDeviceInfo);\n    }\n    await this.tbSDK.addShareDescription(deviceShareStore.share.shareIndex.toString(\"hex\"), JSON.stringify(shareDescription), true);\n  }\n\n  async storeDeviceShareOnFileStorage(shareIndex: BNString): Promise<void> {\n    const metadata = this.tbSDK.getMetadata();\n    const tkeypubx = metadata.pubKey.x.toString(\"hex\");\n    const shareStore = this.tbSDK.outputShareStore(new BN(shareIndex));\n    return storeShareOnFileStorage(shareStore, tkeypubx);\n  }\n\n  async getDeviceShare(): Promise<ShareStore> {\n    const metadata = this.tbSDK.getMetadata();\n    const tkeypubx = metadata.pubKey.x.toString(\"hex\");\n    let shareStore: ShareStore;\n    try {\n      shareStore = await getShareFromLocalStorage(tkeypubx);\n    } catch (localErr) {\n      if (this.canUseFileStorage) {\n        try {\n          shareStore = await getShareFromFileStorage(tkeypubx);\n        } catch (fileErr) {\n          if (fileErr?.message?.includes(\"storage quota\")) {\n            // User has denied access to storage. stop asking for every share\n            this.canUseFileStorage = false;\n          }\n          throw WebStorageError.unableToReadFromStorage(\n            `Error inputShareFromWebStorage: ${prettyPrintError(localErr)} and ${prettyPrintError(fileErr)}`\n          );\n        }\n      }\n      throw WebStorageError.unableToReadFromStorage(`Error inputShareFromWebStorage: ${prettyPrintError(localErr)}`);\n    }\n    return shareStore;\n  }\n\n  async inputShareFromWebStorage(): Promise<void> {\n    const shareStore = await this.getDeviceShare();\n    let latestShareStore = shareStore;\n    const metadata = this.tbSDK.getMetadata();\n    if (metadata.getLatestPublicPolynomial().getPolynomialID() !== shareStore.polynomialID) {\n      latestShareStore = (await this.tbSDK.catchupToLatestShare({ shareStore, includeLocalMetadataTransitions: true })).latestShare;\n      const tkeypubx = metadata.pubKey.x.toString(\"hex\");\n      await storeShareOnLocalStorage(latestShareStore, tkeypubx);\n    }\n    this.tbSDK.inputShareStore(latestShareStore);\n  }\n}\n\nexport default WebStorageModule;\n","import { TORUS_NETWORK_TYPE } from \"./interfaces\";\n\nexport const TORUS_SAPPHIRE_NETWORK = {\n  SAPPHIRE_DEVNET: \"sapphire_devnet\",\n  SAPPHIRE_TESTNET: \"sapphire_testnet\",\n  SAPPHIRE_MAINNET: \"sapphire_mainnet\",\n} as const;\n\nexport const TORUS_LEGACY_NETWORK = {\n  MAINNET: \"mainnet\",\n  TESTNET: \"testnet\",\n  CYAN: \"cyan\",\n  AQUA: \"aqua\",\n  CELESTE: \"celeste\",\n} as const;\n\nexport const TORUS_NETWORK = {\n  ...TORUS_LEGACY_NETWORK,\n  ...TORUS_SAPPHIRE_NETWORK,\n} as const;\n\nexport const PROXY_CONTRACT_ADDRESS = {\n  [TORUS_NETWORK.MAINNET]: \"0xf20336e16B5182637f09821c27BDe29b0AFcfe80\",\n\n  [TORUS_NETWORK.TESTNET]: \"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A\",\n\n  [TORUS_NETWORK.CYAN]: \"0x9f072ba19b3370e512aa1b4bfcdaf97283168005\",\n\n  [TORUS_NETWORK.AQUA]: \"0x29Dea82a0509153b91040ee13cDBba0f03efb625\",\n\n  [TORUS_NETWORK.CELESTE]: \"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c\",\n};\n\nexport const MULTI_CLUSTER_NETWORKS: TORUS_NETWORK_TYPE[] = [TORUS_NETWORK.AQUA, TORUS_NETWORK.CELESTE, TORUS_NETWORK.CYAN];\n\nexport const NETWORK_MAP = {\n  [TORUS_NETWORK.MAINNET]: \"mainnet\",\n  [TORUS_NETWORK.TESTNET]: \"goerli\",\n  [TORUS_NETWORK.CYAN]: \"polygon-mainnet\",\n  [TORUS_NETWORK.AQUA]: \"polygon-mainnet\",\n  [TORUS_NETWORK.CELESTE]: \"polygon-mainnet\",\n};\n\nexport const SIGNER_MAP = {\n  [TORUS_NETWORK.MAINNET]: \"https://signer.tor.us\",\n  [TORUS_NETWORK.TESTNET]: \"https://signer.tor.us\",\n  [TORUS_NETWORK.CYAN]: \"https://signer-polygon.tor.us\",\n  [TORUS_NETWORK.AQUA]: \"https://signer-polygon.tor.us\",\n  [TORUS_NETWORK.CELESTE]: \"https://signer-polygon.tor.us\",\n};\n","import nodeCrypto from \"crypto\";\nimport { ec as EC } from \"elliptic\";\n\nconst ec = new EC(\"secp256k1\");\nconst browserCrypto = global.crypto || global.msCrypto || {};\nconst subtle = browserCrypto.subtle || (browserCrypto as any).webkitSubtle;\n\nconst EC_GROUP_ORDER = Buffer.from(\"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\", \"hex\");\nconst ZERO32 = Buffer.alloc(32, 0);\n\nexport interface Ecies {\n  iv: Buffer;\n  ephemPublicKey: Buffer;\n  ciphertext: Buffer;\n  mac: Buffer;\n}\n\nfunction assert(condition: boolean, message: string) {\n  if (!condition) {\n    throw new Error(message || \"Assertion failed\");\n  }\n}\nfunction isScalar(x: Buffer): boolean {\n  return Buffer.isBuffer(x) && x.length === 32;\n}\n\nfunction isValidPrivateKey(privateKey: Buffer): boolean {\n  if (!isScalar(privateKey)) {\n    return false;\n  }\n  return (\n    privateKey.compare(ZERO32) > 0 &&\n    // > 0\n    privateKey.compare(EC_GROUP_ORDER) < 0\n  ); // < G\n}\n\n// Compare two buffers in constant time to prevent timing attacks.\nfunction equalConstTime(b1: Buffer, b2: Buffer): boolean {\n  if (b1.length !== b2.length) {\n    return false;\n  }\n  let res = 0;\n  for (let i = 0; i < b1.length; i++) {\n    res |= b1[i] ^ b2[i]; // jshint ignore:line\n  }\n\n  return res === 0;\n}\n\n/* This must check if we're in the browser or\nnot, since the functions are different and does\nnot convert using browserify */\nfunction randomBytes(size: number): Buffer {\n  const arr = new Uint8Array(size);\n  if (typeof browserCrypto.getRandomValues === \"undefined\") {\n    return Buffer.from(nodeCrypto.randomBytes(size));\n  }\n  browserCrypto.getRandomValues(arr);\n\n  return Buffer.from(arr);\n}\n\nasync function sha512(msg: Buffer): Promise<Uint8Array> {\n  if (subtle) {\n    const hash = await subtle.digest(\"SHA-512\", msg);\n    const result = new Uint8Array(hash);\n    return result;\n  }\n  const hash = nodeCrypto.createHash(\"sha512\");\n  const result = hash.update(msg).digest();\n  return new Uint8Array(result);\n}\n\ntype AesFunctionType = (iv: Buffer, key: Buffer, data: Buffer) => Promise<Buffer>;\n\nfunction getAes(op: \"encrypt\" | \"decrypt\"): AesFunctionType {\n  return async function (iv: Buffer, key: Buffer, data: Buffer) {\n    if (subtle) {\n      const importAlgorithm = {\n        name: \"AES-CBC\",\n      };\n      const cryptoKey = await subtle.importKey(\"raw\", key, importAlgorithm, false, [op]);\n      const encAlgorithm = {\n        name: \"AES-CBC\",\n        iv,\n      };\n      const result = await subtle[op](encAlgorithm, cryptoKey, data);\n      return Buffer.from(new Uint8Array(result));\n    } else if (op === \"encrypt\") {\n      const cipher = nodeCrypto.createCipheriv(\"aes-256-cbc\", key, iv);\n      const firstChunk = cipher.update(data);\n      const secondChunk = cipher.final();\n      return Buffer.concat([firstChunk, secondChunk]);\n    } else if (op === \"decrypt\") {\n      const decipher = nodeCrypto.createDecipheriv(\"aes-256-cbc\", key, iv);\n      const firstChunk = decipher.update(data);\n      const secondChunk = decipher.final();\n      return Buffer.concat([firstChunk, secondChunk]);\n    }\n    throw new Error(`Unsupported operation: ${op}`);\n  };\n}\nconst aesCbcEncrypt = getAes(\"encrypt\");\nconst aesCbcDecrypt = getAes(\"decrypt\");\n\nasync function hmacSha256Sign(key: Buffer, msg: Buffer): Promise<Buffer> {\n  if (subtle) {\n    const importAlgorithm = {\n      name: \"HMAC\",\n      hash: {\n        name: \"SHA-256\",\n      },\n    };\n    const cryptoKey = await subtle.importKey(\"raw\", new Uint8Array(key), importAlgorithm, false, [\"sign\", \"verify\"]);\n    const sig = await subtle.sign(\"HMAC\", cryptoKey, msg);\n    const result = Buffer.from(new Uint8Array(sig));\n    return result;\n  }\n  const hmac = nodeCrypto.createHmac(\"sha256\", Buffer.from(key));\n  hmac.update(msg);\n  const result = hmac.digest();\n  return result;\n}\nasync function hmacSha256Verify(key, msg, sig) {\n  const expectedSig = await hmacSha256Sign(key, msg);\n  return equalConstTime(expectedSig, sig);\n}\n\n/**\n * Generate a new valid private key. Will use the window.crypto or window.msCrypto as source\n * depending on your browser.\n */\nexport const generatePrivate = function (): Buffer {\n  let privateKey = randomBytes(32);\n  while (!isValidPrivateKey(privateKey)) {\n    privateKey = randomBytes(32);\n  }\n  return privateKey;\n};\n\nexport const getPublic = function (privateKey: Buffer): Buffer {\n  // This function has sync API so we throw an error immediately.\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  // XXX(Kagami): `elliptic.utils.encode` returns array for every\n  // encoding except `hex`.\n  return Buffer.from(ec.keyFromPrivate(privateKey).getPublic(\"array\"));\n};\n\n/**\n * Get compressed version of public key.\n */\nexport const getPublicCompressed = function (privateKey: Buffer): Buffer {\n  // jshint ignore:line\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  // See https://github.com/wanderer/secp256k1-node/issues/46\n  const compressed = true;\n  return Buffer.from(ec.keyFromPrivate(privateKey).getPublic(compressed, \"array\"));\n};\n\n// NOTE(Kagami): We don't use promise shim in Browser implementation\n// because it's supported natively in new browsers (see\n// <http://caniuse.com/#feat=promises>) and we can use only new browsers\n// because of the WebCryptoAPI (see\n// <http://caniuse.com/#feat=cryptography>).\nexport const sign = async function (privateKey: Buffer, msg: Buffer): Promise<Buffer> {\n  assert(privateKey.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKey), \"Bad private key\");\n  assert(msg.length > 0, \"Message should not be empty\");\n  assert(msg.length <= 32, \"Message is too long\");\n  return Buffer.from(\n    ec\n      .sign(msg, privateKey, {\n        canonical: true,\n      })\n      .toDER()\n  );\n};\n\nexport const verify = async function (publicKey: Buffer, msg: Buffer, sig: Buffer): Promise<null> {\n  assert(publicKey.length === 65 || publicKey.length === 33, \"Bad public key\");\n  if (publicKey.length === 65) {\n    assert(publicKey[0] === 4, \"Bad public key\");\n  }\n  if (publicKey.length === 33) {\n    assert(publicKey[0] === 2 || publicKey[0] === 3, \"Bad public key\");\n  }\n  assert(msg.length > 0, \"Message should not be empty\");\n  assert(msg.length <= 32, \"Message is too long\");\n  if (ec.verify(msg, sig, publicKey)) {\n    return null;\n  }\n  throw new Error(\"Bad signature\");\n};\n\nexport const derive = async function (privateKeyA: Buffer, publicKeyB: Buffer): Promise<Buffer> {\n  assert(Buffer.isBuffer(privateKeyA), \"Bad private key\");\n  assert(Buffer.isBuffer(publicKeyB), \"Bad public key\");\n  assert(privateKeyA.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKeyA), \"Bad private key\");\n  assert(publicKeyB.length === 65 || publicKeyB.length === 33, \"Bad public key\");\n  if (publicKeyB.length === 65) {\n    assert(publicKeyB[0] === 4, \"Bad public key\");\n  }\n  if (publicKeyB.length === 33) {\n    assert(publicKeyB[0] === 2 || publicKeyB[0] === 3, \"Bad public key\");\n  }\n  const keyA = ec.keyFromPrivate(privateKeyA);\n  const keyB = ec.keyFromPublic(publicKeyB);\n  const Px = keyA.derive(keyB.getPublic()); // BN instance\n  return Buffer.from(Px.toArray());\n};\n\nexport const deriveUnpadded = derive;\n\nexport const derivePadded = async function (privateKeyA: Buffer, publicKeyB: Buffer): Promise<Buffer> {\n  assert(Buffer.isBuffer(privateKeyA), \"Bad private key\");\n  assert(Buffer.isBuffer(publicKeyB), \"Bad public key\");\n  assert(privateKeyA.length === 32, \"Bad private key\");\n  assert(isValidPrivateKey(privateKeyA), \"Bad private key\");\n  assert(publicKeyB.length === 65 || publicKeyB.length === 33, \"Bad public key\");\n  if (publicKeyB.length === 65) {\n    assert(publicKeyB[0] === 4, \"Bad public key\");\n  }\n  if (publicKeyB.length === 33) {\n    assert(publicKeyB[0] === 2 || publicKeyB[0] === 3, \"Bad public key\");\n  }\n  const keyA = ec.keyFromPrivate(privateKeyA);\n  const keyB = ec.keyFromPublic(publicKeyB);\n  const Px = keyA.derive(keyB.getPublic()); // BN instance\n  return Buffer.from(Px.toString(16, 64), \"hex\");\n};\n\nexport const encrypt = async function (publicKeyTo: Buffer, msg: Buffer, opts?: { iv?: Buffer; ephemPrivateKey?: Buffer }): Promise<Ecies> {\n  opts = opts || {};\n\n  let ephemPrivateKey = opts.ephemPrivateKey || randomBytes(32);\n  // There is a very unlikely possibility that it is not a valid key\n  while (!isValidPrivateKey(ephemPrivateKey)) {\n    ephemPrivateKey = opts.ephemPrivateKey || randomBytes(32);\n  }\n  const ephemPublicKey = getPublic(ephemPrivateKey);\n  const Px = await deriveUnpadded(ephemPrivateKey, publicKeyTo);\n  const hash = await sha512(Px);\n  const iv = opts.iv || randomBytes(16);\n  const encryptionKey = hash.slice(0, 32);\n  const macKey = hash.slice(32);\n  const data = await aesCbcEncrypt(iv, Buffer.from(encryptionKey), msg);\n  const ciphertext = data;\n  const dataToMac = Buffer.concat([iv, ephemPublicKey, ciphertext]);\n  const mac = await hmacSha256Sign(Buffer.from(macKey), dataToMac);\n  return {\n    iv,\n    ephemPublicKey,\n    ciphertext,\n    mac,\n  };\n};\n\nexport const decrypt = async function (privateKey: Buffer, opts: Ecies, _padding?: boolean): Promise<Buffer> {\n  const padding = _padding ?? false;\n  const deriveLocal = padding ? derivePadded : deriveUnpadded;\n  const Px = await deriveLocal(privateKey, opts.ephemPublicKey);\n  const hash = await sha512(Px);\n  const encryptionKey = hash.slice(0, 32);\n  const macKey = hash.slice(32);\n  const dataToMac = Buffer.concat([opts.iv, opts.ephemPublicKey, opts.ciphertext]);\n  const macGood = await hmacSha256Verify(macKey, dataToMac, opts.mac);\n  if (!macGood && padding === false) {\n    return decrypt(privateKey, opts, true);\n  } else if (!macGood && padding === true) {\n    throw new Error(\"bad MAC after trying padded\");\n  }\n  const msg = await aesCbcDecrypt(opts.iv, Buffer.from(encryptionKey), opts.ciphertext);\n  return Buffer.from(new Uint8Array(msg));\n};\n","/* eslint-disable @typescript-eslint/no-throw-literal */\nimport type { SpanContext, TransactionContext } from \"@sentry/types\";\nimport merge from \"lodash.merge\";\nimport logLevel, { levels, LogLevelDesc } from \"loglevel\";\n\nconst log = logLevel.getLogger(\"http-helpers\");\nlog.setLevel(levels.INFO);\n\nexport interface CustomOptions {\n  [key: string]: unknown;\n  useAPIKey?: boolean;\n  isUrlEncodedData?: boolean;\n  timeout?: number;\n  logTracingHeader?: boolean;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface Data {}\n\nlet apiKey = \"torus-default\";\nlet embedHost = \"\";\n\n// #region API Keys\nexport const gatewayAuthHeader = \"x-api-key\";\nexport const gatewayEmbedHostHeader = \"x-embed-host\";\n\ninterface Sentry {\n  startTransaction(_: TransactionContext): {\n    startChild(a: SpanContext): {\n      finish(): void;\n    };\n    finish(): void;\n  };\n}\n\nlet sentry: Sentry | null = null;\nconst tracingOrigins: string[] = [];\nconst tracingPaths: string[] = [];\n\nexport function enableSentryTracing(_sentry: Sentry, _tracingOrigins: string[], _tracingPaths: string[]) {\n  sentry = _sentry;\n  tracingOrigins.push(..._tracingOrigins);\n  tracingPaths.push(..._tracingPaths);\n}\n\nexport function setEmbedHost(embedHost_: string): void {\n  embedHost = embedHost_;\n}\n\nexport function clearEmbedHost(): void {\n  embedHost = \"\";\n}\n\nexport function getEmbedHost(): string {\n  return embedHost;\n}\n\nexport function setAPIKey(apiKey_: string): void {\n  apiKey = apiKey_;\n}\n\nexport function clearAPIKey(): void {\n  apiKey = \"torus-default\";\n}\n\nexport function getAPIKey(): string {\n  return apiKey;\n}\n\n// #endregion\n\nexport function setLogLevel(level: LogLevelDesc) {\n  log.setLevel(level);\n}\n\nasync function fetchAndTrace(url: string, init: RequestInit): Promise<Response> {\n  let _url: URL | null = null;\n  try {\n    _url = new URL(url);\n  } catch (error) {}\n  if (sentry && _url && (tracingOrigins.includes(_url.origin) || tracingPaths.includes(_url.pathname))) {\n    const transaction = sentry.startTransaction({\n      name: url,\n    });\n    const span = transaction.startChild({\n      op: \"http\",\n    }); // This function returns a Span\n\n    const response = await fetch(url, init);\n    span.finish(); // Remember that only finished spans will be sent with the transaction\n\n    transaction.finish(); // Finishing the transaction will send it to Sentry\n\n    return response;\n  }\n\n  return fetch(url, init);\n}\nfunction getApiKeyHeaders(): Record<string, string> {\n  const headers = {};\n  if (apiKey) headers[gatewayAuthHeader] = apiKey;\n  if (embedHost) headers[gatewayEmbedHostHeader] = embedHost;\n  return headers;\n}\n\nfunction debugLogResponse(response: Response) {\n  log.info(`Response: ${response.status} ${response.statusText}`);\n  log.info(`Url: ${response.url}`);\n}\n\nfunction logTracingHeader(response: Response) {\n  log.info(`Request tracing with traceID=${response.headers.get(\"x-web3-correlation-id\")}`);\n}\n\nexport const promiseTimeout = <T>(ms: number, promise: Promise<T>): Promise<T> => {\n  const timeout = new Promise<T>((resolve, reject) => {\n    const id = setTimeout(() => {\n      clearTimeout(id);\n      reject(new Error(`Timed out in ${ms}ms`));\n    }, ms);\n  });\n  return Promise.race<T>([promise, timeout]);\n};\n\nexport const get = async <T>(url: string, options_: RequestInit = {}, customOptions: CustomOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\" as RequestMode,\n    headers: {},\n  };\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = { ...defaultOptions.headers, ...getApiKeyHeaders() };\n  }\n  const options = merge(defaultOptions, options_, { method: \"GET\" });\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    return response.json() as Promise<T>;\n  }\n  debugLogResponse(response);\n  throw response;\n};\n\nexport const post = <T>(url: string, data: Data = {}, options_: RequestInit = {}, customOptions: CustomOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\" as RequestMode,\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n  };\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = { ...defaultOptions.headers, ...getApiKeyHeaders() };\n  }\n  const options = merge(defaultOptions, options_, { method: \"POST\" });\n\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data as string;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n\n  return promiseTimeout<T>(\n    (customOptions.timeout as number) || 60000,\n    fetchAndTrace(url, options).then((response) => {\n      if (customOptions.logTracingHeader) {\n        logTracingHeader(response);\n      }\n      if (response.ok) {\n        return response.json() as Promise<T>;\n      }\n      debugLogResponse(response);\n      throw response;\n    })\n  );\n};\n\nexport const patch = async <T>(url: string, data: Data = {}, options_: RequestInit = {}, customOptions: CustomOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\" as RequestMode,\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = { ...defaultOptions.headers, ...getApiKeyHeaders() };\n  }\n  const options = merge(defaultOptions, options_, { method: \"PATCH\" });\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data as string;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    return response.json() as Promise<T>;\n  }\n  debugLogResponse(response);\n  throw response;\n};\n\nexport const put = async <T>(url: string, data: Data = {}, options_: RequestInit = {}, customOptions: CustomOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\" as RequestMode,\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = { ...defaultOptions.headers, ...getApiKeyHeaders() };\n  }\n  const options = merge(defaultOptions, options_, { method: \"PUT\" });\n  // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data as string;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    return response.json() as Promise<T>;\n  }\n  debugLogResponse(response);\n  throw response;\n};\n\nexport const remove = async <T>(url: string, data: Data = {}, options_: RequestInit = {}, customOptions: CustomOptions = {}) => {\n  const defaultOptions = {\n    mode: \"cors\" as RequestMode,\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n  };\n  // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = { ...defaultOptions.headers, ...getApiKeyHeaders() };\n  }\n  const options = merge(defaultOptions, options_, { method: \"DELETE\" });\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data as string;\n    // If url encoded data, this must not be the content type\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n  const response = await fetchAndTrace(url, options);\n  if (response.ok) {\n    return response.json() as Promise<T>;\n  }\n  debugLogResponse(response);\n  throw response;\n};\n\nexport const generateJsonRPCObject = (method: string, parameters: unknown) => ({\n  jsonrpc: \"2.0\",\n  method,\n  id: 10,\n  params: parameters,\n});\n\nexport const promiseRace = <T>(url: string, options: RequestInit, timeout = 60000) =>\n  Promise.race([\n    get<T>(url, options),\n    new Promise<T>((resolve, reject) => {\n      setTimeout(() => {\n        reject(new Error(\"timed out\"));\n      }, timeout);\n    }),\n  ]);\n","import loglevel from \"loglevel\";\n\nconst log = loglevel.getLogger(\"torus.js\");\nlog.disableAll();\n\nexport default log;\n","function capitalizeFirstLetter(str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport class SomeError<T> extends Error {\n  errors: Error[];\n\n  responses: T[];\n\n  predicate: string;\n\n  constructor({ errors, responses, predicate }: { errors: Error[]; responses: T[]; predicate: string }) {\n    super(\"Unable to resolve enough promises.\");\n    this.errors = errors;\n    this.responses = responses;\n    this.predicate = predicate;\n  }\n}\n\nexport const Some = <K, T>(promises: Promise<K>[], predicate: (resultArr: K[], { resolved }: { resolved: boolean }) => Promise<T>): Promise<T> =>\n  new Promise((resolve, reject) => {\n    let finishedCount = 0;\n    const sharedState = { resolved: false };\n    const errorArr: Error[] = new Array(promises.length).fill(undefined);\n    const resultArr: K[] = new Array(promises.length).fill(undefined);\n    let predicateError: Error | string;\n    // eslint-disable-next-line no-promise-executor-return\n    return promises.forEach((x, index) => {\n      return (\n        x\n          .then((resp: K) => {\n            resultArr[index] = resp;\n            return undefined;\n          })\n          .catch((error: Error) => {\n            errorArr[index] = error;\n          })\n          // eslint-disable-next-line promise/no-return-in-finally\n          .finally(() => {\n            if (sharedState.resolved) return;\n            return predicate(resultArr.slice(0), sharedState)\n              .then((data) => {\n                sharedState.resolved = true;\n                resolve(data);\n                return undefined;\n              })\n              .catch((error) => {\n                // log only the last predicate error\n                predicateError = error;\n              })\n              .finally(() => {\n                finishedCount += 1;\n                if (finishedCount === promises.length) {\n                  const errors = Object.values(\n                    resultArr.reduce((acc: Record<string, string>, z) => {\n                      if (z) {\n                        const { id, error } = z as { id?: string; error?: { data?: string } };\n                        if (error?.data?.length > 0) {\n                          if (error.data.startsWith(\"Error occurred while verifying params\")) acc[id] = capitalizeFirstLetter(error.data);\n                          else acc[id] = error.data;\n                        }\n                      }\n                      return acc;\n                    }, {})\n                  );\n\n                  if (errors.length > 0) {\n                    // Format-able errors\n                    const msg = errors.length > 1 ? `\\n${errors.map((it) => `• ${it}`).join(\"\\n\")}` : errors[0];\n                    reject(new Error(msg));\n                  } else {\n                    reject(\n                      new SomeError({\n                        errors: errorArr,\n                        responses: resultArr,\n                        predicate: (predicateError as Error)?.message || (predicateError as string),\n                      })\n                    );\n                  }\n                }\n              });\n          })\n      );\n    });\n  });\n","import { generateJsonRPCObject, post } from \"@toruslabs/http-helpers\";\nimport { keccak256 as keccakHash } from \"ethereum-cryptography/keccak\";\nimport JsonStringify from \"json-stable-stringify\";\n\nimport { JRPCResponse, KeyAssignInput, KeyLookupResult, SignerResponse, VerifierLookupResponse } from \"./interfaces\";\nimport log from \"./loglevel\";\nimport { Some } from \"./some\";\n\nexport class GetOrSetNonceError extends Error {}\n\nexport const kCombinations = (s: number | number[], k: number): number[][] => {\n  let set = s;\n  if (typeof set === \"number\") {\n    set = Array.from({ length: set }, (_, i) => i);\n  }\n  if (k > set.length || k <= 0) {\n    return [];\n  }\n\n  if (k === set.length) {\n    return [set];\n  }\n\n  if (k === 1) {\n    return set.reduce((acc, cur) => [...acc, [cur]], [] as number[][]);\n  }\n\n  const combs: number[][] = [];\n  let tailCombs: number[][] = [];\n\n  for (let i = 0; i <= set.length - k + 1; i += 1) {\n    tailCombs = kCombinations(set.slice(i + 1), k - 1);\n    for (let j = 0; j < tailCombs.length; j += 1) {\n      combs.push([set[i], ...tailCombs[j]]);\n    }\n  }\n\n  return combs;\n};\n\nexport const thresholdSame = <T>(arr: T[], t: number): T | undefined => {\n  const hashMap: Record<string, number> = {};\n  for (let i = 0; i < arr.length; i += 1) {\n    const str = JsonStringify(arr[i]);\n    hashMap[str] = hashMap[str] ? hashMap[str] + 1 : 1;\n    if (hashMap[str] === t) {\n      return arr[i];\n    }\n  }\n  return undefined;\n};\n\nexport const keyLookup = async (endpoints: string[], verifier: string, verifierId: string): Promise<KeyLookupResult> => {\n  const lookupPromises = endpoints.map((x) =>\n    post<JRPCResponse<VerifierLookupResponse>>(\n      x,\n      generateJsonRPCObject(\"VerifierLookupRequest\", {\n        verifier,\n        verifier_id: verifierId.toString(),\n      })\n    ).catch((err) => log.error(\"lookup request failed\", err))\n  );\n  return Some<void | JRPCResponse<VerifierLookupResponse>, KeyLookupResult>(lookupPromises, (lookupResults) => {\n    const lookupShares = lookupResults.filter((x1) => x1);\n    const errorResult = thresholdSame(\n      lookupShares.map((x2) => x2 && x2.error),\n      ~~(endpoints.length / 2) + 1\n    );\n    const keyResult = thresholdSame(\n      lookupShares.map((x3) => x3 && x3.result),\n      ~~(endpoints.length / 2) + 1\n    );\n    if (keyResult || errorResult) {\n      return Promise.resolve({ keyResult, errorResult });\n    }\n    return Promise.reject(new Error(`invalid results ${JSON.stringify(lookupResults)}`));\n  });\n};\n\nexport const waitKeyLookup = (endpoints: string[], verifier: string, verifierId: string, timeout: number): Promise<KeyLookupResult> =>\n  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      keyLookup(endpoints, verifier, verifierId).then(resolve).catch(reject);\n    }, timeout);\n  });\n\nexport const keyAssign = async ({\n  endpoints,\n  torusNodePubs,\n  lastPoint,\n  firstPoint,\n  verifier,\n  verifierId,\n  signerHost,\n  network,\n  clientId,\n}: KeyAssignInput): Promise<void> => {\n  let nodeNum: number;\n  let initialPoint: number | undefined;\n  if (lastPoint === undefined) {\n    nodeNum = Math.floor(Math.random() * endpoints.length);\n    // nodeNum = endpoints.indexOf(\"https://torus-node.ens.domains/jrpc\");\n    log.info(\"keyassign\", nodeNum, endpoints[nodeNum]);\n    initialPoint = nodeNum;\n  } else {\n    nodeNum = lastPoint % endpoints.length;\n  }\n  if (nodeNum === firstPoint) throw new Error(\"Looped through all\");\n  if (firstPoint !== undefined) initialPoint = firstPoint;\n\n  const data = generateJsonRPCObject(\"KeyAssign\", {\n    verifier,\n    verifier_id: verifierId.toString(),\n  });\n  try {\n    const signedData = await post<SignerResponse>(\n      signerHost,\n      data,\n      {\n        headers: {\n          pubKeyX: torusNodePubs[nodeNum].X,\n          pubKeyY: torusNodePubs[nodeNum].Y,\n          network,\n          clientId,\n        },\n      },\n      { useAPIKey: true }\n    );\n    return await post<void>(\n      endpoints[nodeNum],\n      { ...data, ...signedData },\n      {\n        headers: {\n          \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n      }\n    );\n  } catch (error) {\n    log.error(error.status, error.message, error, \"key assign error\");\n    const acceptedErrorMsgs = [\n      // Slow node\n      \"Timed out\",\n      \"Failed to fetch\",\n      \"cancelled\",\n      \"NetworkError when attempting to fetch resource.\",\n      // Happens when the node is not reachable (dns issue etc)\n      \"TypeError: Failed to fetch\", // All except iOS and Firefox\n      \"TypeError: cancelled\", // iOS\n      \"TypeError: NetworkError when attempting to fetch resource.\", // Firefox\n    ];\n    if (\n      error?.status === 502 ||\n      error?.status === 504 ||\n      error?.status === 401 ||\n      acceptedErrorMsgs.includes(error.message) ||\n      acceptedErrorMsgs.some((x) => error.message.includes(x)) ||\n      (error.message && error.message.includes(\"reason: getaddrinfo EAI_AGAIN\"))\n    )\n      return keyAssign({\n        endpoints,\n        torusNodePubs,\n        lastPoint: nodeNum + 1,\n        firstPoint: initialPoint,\n        verifier,\n        verifierId,\n        signerHost,\n        network,\n        clientId,\n      });\n    throw new Error(\n      `Sorry, the Torus Network that powers Web3Auth is currently very busy.\n    We will generate your key in time. Pls try again later. \\n\n    ${error.message || \"\"}`\n    );\n  }\n};\n\nexport function keccak256(a: Buffer): string {\n  const hash = Buffer.from(keccakHash(a)).toString(\"hex\");\n  return `0x${hash}`;\n}\n\nexport function stripHexPrefix(str: string): string {\n  return str.startsWith(\"0x\") ? str.slice(2) : str;\n}\n\nexport function toChecksumAddress(hexAddress: string): string {\n  const address = stripHexPrefix(hexAddress).toLowerCase();\n\n  const buf = Buffer.from(address, \"utf8\");\n  const hash = Buffer.from(keccakHash(buf)).toString(\"hex\");\n  let ret = \"0x\";\n\n  for (let i = 0; i < address.length; i++) {\n    if (parseInt(hash[i], 16) >= 8) {\n      ret += address[i].toUpperCase();\n    } else {\n      ret += address[i];\n    }\n  }\n\n  return ret;\n}\n","import { INodePub, SIGNER_MAP } from \"@toruslabs/constants\";\nimport { decrypt, generatePrivate, getPublic } from \"@toruslabs/eccrypto\";\nimport { Data, generateJsonRPCObject, get, post, setAPIKey, setEmbedHost } from \"@toruslabs/http-helpers\";\nimport BN from \"bn.js\";\nimport { curve, ec as EC } from \"elliptic\";\nimport stringify from \"json-stable-stringify\";\n\nimport {\n  CommitmentRequestResult,\n  GetOrSetNonceResult,\n  JRPCResponse,\n  MetadataParams,\n  RetrieveSharesResponse,\n  SetCustomKeyOptions,\n  ShareRequestResult,\n  TorusCtorOptions,\n  TorusPublicKey,\n  VerifierLookupResponse,\n  VerifierParams,\n} from \"./interfaces\";\nimport log from \"./loglevel\";\nimport { Some } from \"./some\";\nimport { GetOrSetNonceError, kCombinations, keccak256, keyAssign, keyLookup, thresholdSame, toChecksumAddress, waitKeyLookup } from \"./utils\";\n\n// Implement threshold logic wrappers around public APIs\n// of Torus nodes to handle malicious node responses\nclass Torus {\n  public metadataHost: string;\n\n  public allowHost: string;\n\n  public serverTimeOffset: number;\n\n  public enableOneKey: boolean;\n\n  public signerHost: string;\n\n  public network: string;\n\n  public clientId: string;\n\n  protected ec: EC;\n\n  constructor({\n    enableOneKey = false,\n    metadataHost = \"https://metadata.tor.us\",\n    allowHost,\n    signerHost,\n    serverTimeOffset = 0,\n    network,\n    clientId,\n  }: TorusCtorOptions) {\n    if (!clientId) throw Error(\"Please provide a valid clientId in constructor\");\n    if (!network) throw Error(\"Please provide a valid network in constructor\");\n    this.ec = new EC(\"secp256k1\");\n    this.metadataHost = metadataHost;\n    this.enableOneKey = enableOneKey;\n    this.serverTimeOffset = serverTimeOffset || 0; // ms\n    this.network = network;\n    this.clientId = clientId;\n\n    this.allowHost = allowHost || `${SIGNER_MAP[network]}/api/allow`;\n    this.signerHost = signerHost || `${SIGNER_MAP[network]}/api/sign`;\n  }\n\n  static enableLogging(v = true): void {\n    if (v) log.enableAll();\n    else log.disableAll();\n  }\n\n  static setAPIKey(apiKey: string): void {\n    setAPIKey(apiKey);\n  }\n\n  static setEmbedHost(embedHost: string): void {\n    setEmbedHost(embedHost);\n  }\n\n  static isGetOrSetNonceError(err: unknown): boolean {\n    return err instanceof GetOrSetNonceError;\n  }\n\n  /**\n   * Note: use this function only for openlogin tkey account lookups.\n   */\n  async getUserTypeAndAddress(\n    endpoints: string[],\n    torusNodePubs: INodePub[],\n    { verifier, verifierId }: { verifier: string; verifierId: string },\n    doesKeyAssign = false\n  ): Promise<TorusPublicKey> {\n    const { keyResult, errorResult } = (await keyLookup(endpoints, verifier, verifierId)) || {};\n    let isNewKey = false;\n    let finalKeyResult: VerifierLookupResponse;\n    if (errorResult && JSON.stringify(errorResult).includes(\"Verifier not supported\")) {\n      // change error msg\n      throw new Error(`Verifier not supported. Check if you: \\n\n      1. Are on the right network (Torus testnet/mainnet) \\n\n      2. Have setup a verifier on dashboard.web3auth.io?`);\n    } else if (errorResult && JSON.stringify(errorResult).includes(\"Verifier + VerifierID has not yet been assigned\")) {\n      if (!doesKeyAssign) {\n        throw new Error(\"Verifier + VerifierID has not yet been assigned\");\n      }\n      await keyAssign({\n        endpoints,\n        torusNodePubs,\n        lastPoint: undefined,\n        firstPoint: undefined,\n        verifier,\n        verifierId,\n        signerHost: this.signerHost,\n        network: this.network,\n        clientId: this.clientId,\n      });\n      const assignResult = await waitKeyLookup(endpoints, verifier, verifierId, 1000);\n      finalKeyResult = assignResult?.keyResult;\n      isNewKey = true;\n    } else if (keyResult) {\n      finalKeyResult = keyResult;\n    } else {\n      throw new Error(`node results do not match at first lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n    }\n    log.debug(\"> torus.js/getUserTypeAndAddress\", { finalKeyResult, isNewKey });\n\n    if (finalKeyResult) {\n      const { pub_key_X: X, pub_key_Y: Y } = finalKeyResult.keys[0];\n      let nonceResult: GetOrSetNonceResult;\n      let nonce: BN;\n      let modifiedPubKey: curve.base.BasePoint;\n      let typeOfUser: GetOrSetNonceResult[\"typeOfUser\"];\n      let pubNonce: { x: string; y: string } | undefined;\n\n      try {\n        nonceResult = await this.getOrSetNonce(X, Y, undefined, !isNewKey);\n        nonce = new BN(nonceResult.nonce || \"0\", 16);\n        typeOfUser = nonceResult.typeOfUser;\n      } catch {\n        throw new GetOrSetNonceError();\n      }\n      if (nonceResult.typeOfUser === \"v1\") {\n        modifiedPubKey = this.ec\n          .keyFromPublic({ x: X, y: Y })\n          .getPublic()\n          .add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n      } else if (nonceResult.typeOfUser === \"v2\") {\n        // pubNonce is never deleted, so we can use it to always get the tkey\n        modifiedPubKey = this.ec\n          .keyFromPublic({ x: X, y: Y })\n          .getPublic()\n          .add(this.ec.keyFromPublic({ x: nonceResult.pubNonce.x, y: nonceResult.pubNonce.y }).getPublic());\n        pubNonce = nonceResult.pubNonce;\n      } else {\n        throw new Error(\"getOrSetNonce should always return typeOfUser.\");\n      }\n\n      const finalX = modifiedPubKey.getX().toString(16);\n      const finalY = modifiedPubKey.getY().toString(16);\n      const address = this.generateAddressFromPubKey(modifiedPubKey.getX(), modifiedPubKey.getY());\n      log.debug(\"> torus.js/getUserTypeAndAddress\", { X, Y, address, typeOfUser, nonce: nonce?.toString(16), pubNonce });\n      return {\n        typeOfUser,\n        address,\n        X: finalX,\n        Y: finalY,\n        metadataNonce: nonce,\n        pubNonce,\n        upgraded: (nonceResult as { upgraded?: boolean })?.upgraded || undefined,\n      };\n    }\n    throw new Error(`node results do not match at final lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n  }\n\n  async setCustomKey({ privKeyHex, metadataNonce, torusKeyHex, customKeyHex }: SetCustomKeyOptions): Promise<void> {\n    let torusKey: BN;\n    if (torusKeyHex) {\n      torusKey = new BN(torusKeyHex, 16);\n    } else {\n      const privKey = new BN(privKeyHex as string, 16);\n      torusKey = privKey.sub(metadataNonce as BN).umod(this.ec.curve.n);\n    }\n    const customKey = new BN(customKeyHex, 16);\n    const newMetadataNonce = customKey.sub(torusKey).umod(this.ec.curve.n);\n    const data = this.generateMetadataParams(newMetadataNonce.toString(16), torusKey);\n    await this.setMetadata(data);\n  }\n\n  async retrieveShares(\n    endpoints: string[],\n    indexes: number[],\n    verifier: string,\n    verifierParams: VerifierParams,\n    idToken: string,\n    extraParams: Record<string, unknown> = {}\n  ): Promise<RetrieveSharesResponse> {\n    const promiseArr = [];\n    await get<void>(\n      this.allowHost,\n      {\n        headers: {\n          verifier,\n          verifierId: verifierParams.verifier_id,\n          network: this.network,\n          clientId: this.clientId,\n        },\n      },\n      { useAPIKey: true }\n    );\n    /*\n      CommitmentRequestParams struct {\n        MessagePrefix      string `json:\"messageprefix\"`\n        TokenCommitment    string `json:\"tokencommitment\"`\n        TempPubX           string `json:\"temppubx\"`\n        TempPubY           string `json:\"temppuby\"`\n        VerifierIdentifier string `json:\"verifieridentifier\"`\n      } \n      */\n\n    // generate temporary private and public key that is used to secure receive shares\n    const tmpKey = generatePrivate();\n    const pubKey = getPublic(tmpKey).toString(\"hex\");\n    const pubKeyX = pubKey.slice(2, 66);\n    const pubKeyY = pubKey.slice(66);\n    const tokenCommitment = keccak256(Buffer.from(idToken, \"utf8\"));\n\n    // make commitment requests to endpoints\n    for (let i = 0; i < endpoints.length; i += 1) {\n      const p = post<JRPCResponse<CommitmentRequestResult>>(\n        endpoints[i],\n        generateJsonRPCObject(\"CommitmentRequest\", {\n          messageprefix: \"mug00\",\n          tokencommitment: tokenCommitment.slice(2),\n          temppubx: pubKeyX,\n          temppuby: pubKeyY,\n          verifieridentifier: verifier,\n        })\n      ).catch((err) => {\n        log.error(\"commitment\", err);\n      });\n      promiseArr.push(p);\n    }\n    /*\n      ShareRequestParams struct {\n        Item []bijson.RawMessage `json:\"item\"`\n      }\n      ShareRequestItem struct {\n        IDToken            string          `json:\"idtoken\"`\n        NodeSignatures     []NodeSignature `json:\"nodesignatures\"`\n        VerifierIdentifier string          `json:\"verifieridentifier\"`\n      }\n      NodeSignature struct {\n        Signature   string\n        Data        string\n        NodePubKeyX string\n        NodePubKeyY string\n      }\n      CommitmentRequestResult struct {\n        Signature string `json:\"signature\"`\n        Data      string `json:\"data\"`\n        NodePubX  string `json:\"nodepubx\"`\n        NodePubY  string `json:\"nodepuby\"`\n      }\n      */\n    // send share request once k + t number of commitment requests have completed\n    return Some<void | JRPCResponse<CommitmentRequestResult>, (void | JRPCResponse<CommitmentRequestResult>)[]>(promiseArr, (resultArr) => {\n      const completedRequests = resultArr.filter((x) => {\n        if (!x || typeof x !== \"object\") {\n          return false;\n        }\n        if (x.error) {\n          return false;\n        }\n        return true;\n      });\n      if (completedRequests.length >= ~~(endpoints.length / 4) * 3 + 1) {\n        return Promise.resolve(resultArr);\n      }\n      return Promise.reject(new Error(`invalid ${JSON.stringify(resultArr)}`));\n    })\n      .then((responses) => {\n        const promiseArrRequest: Promise<void | JRPCResponse<ShareRequestResult>>[] = [];\n        const nodeSigs = [];\n        for (let i = 0; i < responses.length; i += 1) {\n          if (responses[i]) nodeSigs.push((responses[i] as JRPCResponse<CommitmentRequestResult>).result);\n        }\n        for (let i = 0; i < endpoints.length; i += 1) {\n          const p = post<JRPCResponse<ShareRequestResult>>(\n            endpoints[i],\n            generateJsonRPCObject(\"ShareRequest\", {\n              encrypted: \"yes\",\n              item: [{ ...verifierParams, idtoken: idToken, nodesignatures: nodeSigs, verifieridentifier: verifier, ...extraParams }],\n            })\n          ).catch((err) => log.error(\"share req\", err));\n          promiseArrRequest.push(p);\n        }\n        return Some<void | JRPCResponse<ShareRequestResult>, BN | undefined>(promiseArrRequest, async (shareResponses, sharedState) => {\n          /*\n              ShareRequestResult struct {\n                Keys []KeyAssignment\n              }\n                      / KeyAssignmentPublic -\n              type KeyAssignmentPublic struct {\n                Index     big.Int\n                PublicKey common.Point\n                Threshold int\n                Verifiers map[string][]string // Verifier => VerifierID\n              }\n\n              // KeyAssignment -\n              type KeyAssignment struct {\n                KeyAssignmentPublic\n                Share big.Int // Or Si\n              }\n            */\n          // check if threshold number of nodes have returned the same user public key\n          const completedRequests = shareResponses.filter((x) => x);\n          const thresholdPublicKey = thresholdSame(\n            shareResponses.map((x) => x && x.result && x.result.keys[0].PublicKey),\n            ~~(endpoints.length / 2) + 1\n          );\n          // optimistically run lagrange interpolation once threshold number of shares have been received\n          // this is matched against the user public key to ensure that shares are consistent\n          if (completedRequests.length >= ~~(endpoints.length / 2) + 1 && thresholdPublicKey) {\n            const sharePromises: Promise<void | Buffer>[] = [];\n            const nodeIndexes: BN[] = [];\n            for (let i = 0; i < shareResponses.length; i += 1) {\n              const currentShareResponse = shareResponses[i] as JRPCResponse<ShareRequestResult>;\n              if (currentShareResponse?.result?.keys?.length > 0) {\n                currentShareResponse.result.keys.sort((a, b) => new BN(a.Index, 16).cmp(new BN(b.Index, 16)));\n                const firstKey = currentShareResponse.result.keys[0];\n                if (firstKey.Metadata) {\n                  const metadata = {\n                    ephemPublicKey: Buffer.from(firstKey.Metadata.ephemPublicKey, \"hex\"),\n                    iv: Buffer.from(firstKey.Metadata.iv, \"hex\"),\n                    mac: Buffer.from(firstKey.Metadata.mac, \"hex\"),\n                    // mode: Buffer.from(firstKey.Metadata.mode, \"hex\"),\n                  };\n                  sharePromises.push(\n                    decrypt(tmpKey, {\n                      ...metadata,\n                      ciphertext: Buffer.from(Buffer.from(firstKey.Share, \"base64\").toString(\"binary\").padStart(64, \"0\"), \"hex\"),\n                    }).catch((err) => log.debug(\"share decryption\", err))\n                  );\n                } else {\n                  sharePromises.push(Promise.resolve(Buffer.from(firstKey.Share.padStart(64, \"0\"), \"hex\")));\n                }\n              } else {\n                sharePromises.push(Promise.resolve(undefined));\n              }\n              nodeIndexes.push(new BN(indexes[i], 16));\n            }\n            const sharesResolved = await Promise.all(sharePromises);\n            if (sharedState.resolved) return undefined;\n\n            const decryptedShares = sharesResolved.reduce((acc, curr, index) => {\n              if (curr) acc.push({ index: nodeIndexes[index], value: new BN(curr) });\n              return acc;\n            }, [] as { index: BN; value: BN }[]);\n            // run lagrange interpolation on all subsets, faster in the optimistic scenario than berlekamp-welch due to early exit\n            const allCombis = kCombinations(decryptedShares.length, ~~(endpoints.length / 2) + 1);\n            let privateKey: BN | null = null;\n            for (let j = 0; j < allCombis.length; j += 1) {\n              const currentCombi = allCombis[j];\n              const currentCombiShares = decryptedShares.filter((v, index) => currentCombi.includes(index));\n              const shares = currentCombiShares.map((x) => x.value);\n              const indices = currentCombiShares.map((x) => x.index);\n              const derivedPrivateKey = this.lagrangeInterpolation(shares, indices);\n              if (!derivedPrivateKey) continue;\n              const decryptedPubKey = getPublic(Buffer.from(derivedPrivateKey.toString(16, 64), \"hex\")).toString(\"hex\");\n              const decryptedPubKeyX = decryptedPubKey.slice(2, 66);\n              const decryptedPubKeyY = decryptedPubKey.slice(66);\n              if (\n                new BN(decryptedPubKeyX, 16).cmp(new BN(thresholdPublicKey.X, 16)) === 0 &&\n                new BN(decryptedPubKeyY, 16).cmp(new BN(thresholdPublicKey.Y, 16)) === 0\n              ) {\n                privateKey = derivedPrivateKey;\n                break;\n              }\n            }\n            if (privateKey === undefined || privateKey === null) {\n              throw new Error(\"could not derive private key\");\n            }\n            return privateKey;\n          }\n          throw new Error(\"invalid\");\n        });\n      })\n      .then(async (returnedKey) => {\n        let privateKey = returnedKey;\n        if (!privateKey) throw new Error(\"Invalid private key returned\");\n        const decryptedPubKey = getPublic(Buffer.from(privateKey.toString(16, 64), \"hex\")).toString(\"hex\");\n        const decryptedPubKeyX = decryptedPubKey.slice(2, 66);\n        const decryptedPubKeyY = decryptedPubKey.slice(66);\n        let metadataNonce: BN;\n        if (this.enableOneKey) {\n          const { nonce } = await this.getNonce(decryptedPubKeyX, decryptedPubKeyY, privateKey);\n          metadataNonce = new BN(nonce || \"0\", 16);\n        } else {\n          metadataNonce = await this.getMetadata({ pub_key_X: decryptedPubKeyX, pub_key_Y: decryptedPubKeyY });\n        }\n        log.debug(\"> torus.js/retrieveShares\", { privKey: privateKey.toString(16), metadataNonce: metadataNonce.toString(16) });\n\n        privateKey = privateKey.add(metadataNonce).umod(this.ec.curve.n);\n\n        const ethAddress = this.generateAddressFromPrivKey(privateKey);\n        log.debug(\"> torus.js/retrieveShares\", { ethAddress, privKey: privateKey.toString(16) });\n\n        // return reconstructed private key and ethereum address\n        return {\n          ethAddress,\n          privKey: privateKey.toString(\"hex\", 64),\n          metadataNonce,\n        };\n      });\n  }\n\n  async getMetadata(data: Omit<MetadataParams, \"set_data\" | \"signature\">, options: RequestInit = {}): Promise<BN> {\n    try {\n      const metadataResponse = await post<{ message?: string }>(`${this.metadataHost}/get`, data, options, { useAPIKey: true });\n      if (!metadataResponse || !metadataResponse.message) {\n        return new BN(0);\n      }\n      return new BN(metadataResponse.message, 16); // nonce\n    } catch (error) {\n      log.error(\"get metadata error\", error);\n      return new BN(0);\n    }\n  }\n\n  generateMetadataParams(message: string, privateKey: BN): MetadataParams {\n    const key = this.ec.keyFromPrivate(privateKey.toString(\"hex\", 64));\n    const setData = {\n      data: message,\n      timestamp: new BN(~~(this.serverTimeOffset + Date.now() / 1000)).toString(16),\n    };\n    const sig = key.sign(keccak256(Buffer.from(stringify(setData), \"utf8\")).slice(2));\n    return {\n      pub_key_X: key.getPublic().getX().toString(\"hex\"),\n      pub_key_Y: key.getPublic().getY().toString(\"hex\"),\n      set_data: setData,\n      signature: Buffer.from(sig.r.toString(16, 64) + sig.s.toString(16, 64) + new BN(\"\").toString(16, 2), \"hex\").toString(\"base64\"),\n    };\n  }\n\n  async setMetadata(data: MetadataParams, options: RequestInit = {}): Promise<string> {\n    try {\n      const metadataResponse = await post<{ message: string }>(`${this.metadataHost}/set`, data, options, { useAPIKey: true });\n      return metadataResponse.message; // IPFS hash\n    } catch (error) {\n      log.error(\"set metadata error\", error);\n      return \"\";\n    }\n  }\n\n  lagrangeInterpolation(shares: BN[], nodeIndex: BN[]): BN | null {\n    if (shares.length !== nodeIndex.length) {\n      return null;\n    }\n    let secret = new BN(0);\n    for (let i = 0; i < shares.length; i += 1) {\n      let upper = new BN(1);\n      let lower = new BN(1);\n      for (let j = 0; j < shares.length; j += 1) {\n        if (i !== j) {\n          upper = upper.mul(nodeIndex[j].neg());\n          upper = upper.umod(this.ec.curve.n);\n          let temp = nodeIndex[i].sub(nodeIndex[j]);\n          temp = temp.umod(this.ec.curve.n);\n          lower = lower.mul(temp).umod(this.ec.curve.n);\n        }\n      }\n      let delta = upper.mul(lower.invm(this.ec.curve.n)).umod(this.ec.curve.n);\n      delta = delta.mul(shares[i]).umod(this.ec.curve.n);\n      secret = secret.add(delta);\n    }\n    return secret.umod(this.ec.curve.n);\n  }\n\n  generateAddressFromPrivKey(privateKey: BN): string {\n    const key = this.ec.keyFromPrivate(privateKey.toString(\"hex\", 64), \"hex\");\n    const publicKey = key.getPublic().encode(\"hex\", false).slice(2);\n    log.info(publicKey, \"public key\");\n    const ethAddressLower = `0x${keccak256(Buffer.from(publicKey, \"hex\")).slice(64 - 38)}`;\n    return toChecksumAddress(ethAddressLower);\n  }\n\n  generateAddressFromPubKey(publicKeyX: BN, publicKeyY: BN): string {\n    const key = this.ec.keyFromPublic({ x: publicKeyX.toString(\"hex\", 64), y: publicKeyY.toString(\"hex\", 64) });\n    const publicKey = key.getPublic().encode(\"hex\", false).slice(2);\n    log.info(key.getPublic().encode(\"hex\", false), \"public key\");\n    const ethAddressLower = `0x${keccak256(Buffer.from(publicKey, \"hex\")).slice(64 - 38)}`;\n    return toChecksumAddress(ethAddressLower);\n  }\n\n  /**\n   * Note: use this function only with custom auth, don't use to lookup openlogin accounts.\n   */\n  async getPublicAddress(\n    endpoints: string[],\n    torusNodePubs: INodePub[],\n    { verifier, verifierId }: { verifier: string; verifierId: string },\n    isExtended = false\n  ): Promise<string | TorusPublicKey> {\n    log.debug(\"> torus.js/getPublicAddress\", { endpoints, torusNodePubs, verifier, verifierId, isExtended });\n\n    let finalKeyResult: VerifierLookupResponse | undefined;\n    let isNewKey = false;\n\n    const { keyResult, errorResult } = (await keyLookup(endpoints, verifier, verifierId)) || {};\n    if (errorResult && JSON.stringify(errorResult).includes(\"Verifier not supported\")) {\n      // change error msg\n      throw new Error(`Verifier not supported. Check if you: \\n\n      1. Are on the right network (Torus testnet/mainnet) \\n\n      2. Have setup a verifier on dashboard.web3auth.io?`);\n    } else if (errorResult && JSON.stringify(errorResult).includes(\"Verifier + VerifierID has not yet been assigned\")) {\n      await keyAssign({\n        endpoints,\n        torusNodePubs,\n        lastPoint: undefined,\n        firstPoint: undefined,\n        verifier,\n        verifierId,\n        signerHost: this.signerHost,\n        network: this.network,\n        clientId: this.clientId,\n      });\n      const assignResult = await waitKeyLookup(endpoints, verifier, verifierId, 1000);\n      finalKeyResult = assignResult?.keyResult;\n      isNewKey = true;\n    } else if (keyResult) {\n      finalKeyResult = keyResult;\n    } else {\n      throw new Error(`node results do not match at first lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n    }\n    log.debug(\"> torus.js/getPublicAddress\", { finalKeyResult, isNewKey });\n\n    if (finalKeyResult) {\n      let { pub_key_X: X, pub_key_Y: Y } = finalKeyResult.keys[0];\n      let nonceResult: GetOrSetNonceResult;\n      let nonce: BN;\n      let modifiedPubKey: curve.base.BasePoint;\n      let typeOfUser: GetOrSetNonceResult[\"typeOfUser\"];\n      let pubNonce: { x: string; y: string } | undefined;\n      if (this.enableOneKey) {\n        try {\n          nonceResult = await this.getOrSetNonce(X, Y, undefined, !isNewKey);\n          nonce = new BN(nonceResult.nonce || \"0\", 16);\n          typeOfUser = nonceResult.typeOfUser;\n        } catch {\n          throw new GetOrSetNonceError();\n        }\n        if (nonceResult.typeOfUser === \"v1\") {\n          modifiedPubKey = this.ec\n            .keyFromPublic({ x: X, y: Y })\n            .getPublic()\n            .add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n        } else if (nonceResult.typeOfUser === \"v2\") {\n          if (nonceResult.upgraded) {\n            // OneKey is upgraded to 2/n, returned address is address of Torus key (postbox key), not tKey\n            modifiedPubKey = this.ec.keyFromPublic({ x: X, y: Y }).getPublic();\n          } else {\n            modifiedPubKey = this.ec\n              .keyFromPublic({ x: X, y: Y })\n              .getPublic()\n              .add(this.ec.keyFromPublic({ x: nonceResult.pubNonce.x, y: nonceResult.pubNonce.y }).getPublic());\n            pubNonce = nonceResult.pubNonce;\n          }\n        } else {\n          throw new Error(\"getOrSetNonce should always return typeOfUser.\");\n        }\n      } else {\n        typeOfUser = \"v1\";\n        nonce = await this.getMetadata({ pub_key_X: X, pub_key_Y: Y });\n        modifiedPubKey = this.ec\n          .keyFromPublic({ x: X, y: Y })\n          .getPublic()\n          .add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n      }\n\n      X = modifiedPubKey.getX().toString(16);\n      Y = modifiedPubKey.getY().toString(16);\n\n      const address = this.generateAddressFromPubKey(modifiedPubKey.getX(), modifiedPubKey.getY());\n      log.debug(\"> torus.js/getPublicAddress\", { X, Y, address, typeOfUser, nonce: nonce?.toString(16), pubNonce });\n\n      if (!isExtended) return address;\n      return {\n        typeOfUser,\n        address,\n        X,\n        Y,\n        metadataNonce: nonce,\n        pubNonce,\n        upgraded: (nonceResult as { upgraded?: boolean })?.upgraded || undefined,\n      };\n    }\n    throw new Error(`node results do not match at final lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n  }\n\n  /**\n   * Internal functions for OneKey (OpenLogin v2), only call these functions if you know what you're doing\n   */\n\n  async getOrSetNonce(X: string, Y: string, privKey?: BN, getOnly = false): Promise<GetOrSetNonceResult> {\n    let data: Data;\n    const msg = getOnly ? \"getNonce\" : \"getOrSetNonce\";\n    if (privKey) {\n      data = this.generateMetadataParams(msg, privKey);\n    } else {\n      data = {\n        pub_key_X: X,\n        pub_key_Y: Y,\n        set_data: { data: msg },\n      };\n    }\n    return post<GetOrSetNonceResult>(`${this.metadataHost}/get_or_set_nonce`, data, undefined, { useAPIKey: true });\n  }\n\n  async getNonce(X: string, Y: string, privKey?: BN): Promise<GetOrSetNonceResult> {\n    return this.getOrSetNonce(X, Y, privKey, true);\n  }\n\n  getPostboxKeyFrom1OutOf1(privKey: string, nonce: string): string {\n    const privKeyBN = new BN(privKey, 16);\n    const nonceBN = new BN(nonce, 16);\n    return privKeyBN.sub(nonceBN).umod(this.ec.curve.n).toString(\"hex\");\n  }\n}\n\nexport default Torus;\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.bowser=t():e.bowser=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"};t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"};t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"};t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"};t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];\"string\"==typeof a?(i[t]=a,s+=1):\"object\"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\\/(\\d+(\\.?_?\\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      defaultLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = level;\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          self.setLevel(defaultLevel, false);\n          clearPersistedLevel();\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n","'use strict';\n\nclass NonError extends Error {\n\tconstructor(message) {\n\t\tsuper(NonError._prepareSuperMessage(message));\n\t\tObject.defineProperty(this, 'name', {\n\t\t\tvalue: 'NonError',\n\t\t\tconfigurable: true,\n\t\t\twritable: true\n\t\t});\n\n\t\tif (Error.captureStackTrace) {\n\t\t\tError.captureStackTrace(this, NonError);\n\t\t}\n\t}\n\n\tstatic _prepareSuperMessage(message) {\n\t\ttry {\n\t\t\treturn JSON.stringify(message);\n\t\t} catch {\n\t\t\treturn String(message);\n\t\t}\n\t}\n}\n\nconst commonProperties = [\n\t{property: 'name', enumerable: false},\n\t{property: 'message', enumerable: false},\n\t{property: 'stack', enumerable: false},\n\t{property: 'code', enumerable: true}\n];\n\nconst isCalled = Symbol('.toJSON called');\n\nconst toJSON = from => {\n\tfrom[isCalled] = true;\n\tconst json = from.toJSON();\n\tdelete from[isCalled];\n\treturn json;\n};\n\nconst destroyCircular = ({\n\tfrom,\n\tseen,\n\tto_,\n\tforceEnumerable,\n\tmaxDepth,\n\tdepth\n}) => {\n\tconst to = to_ || (Array.isArray(from) ? [] : {});\n\n\tseen.push(from);\n\n\tif (depth >= maxDepth) {\n\t\treturn to;\n\t}\n\n\tif (typeof from.toJSON === 'function' && from[isCalled] !== true) {\n\t\treturn toJSON(from);\n\t}\n\n\tfor (const [key, value] of Object.entries(from)) {\n\t\tif (typeof Buffer === 'function' && Buffer.isBuffer(value)) {\n\t\t\tto[key] = '[object Buffer]';\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (typeof value === 'function') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!value || typeof value !== 'object') {\n\t\t\tto[key] = value;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!seen.includes(from[key])) {\n\t\t\tdepth++;\n\n\t\t\tto[key] = destroyCircular({\n\t\t\t\tfrom: from[key],\n\t\t\t\tseen: seen.slice(),\n\t\t\t\tforceEnumerable,\n\t\t\t\tmaxDepth,\n\t\t\t\tdepth\n\t\t\t});\n\t\t\tcontinue;\n\t\t}\n\n\t\tto[key] = '[Circular]';\n\t}\n\n\tfor (const {property, enumerable} of commonProperties) {\n\t\tif (typeof from[property] === 'string') {\n\t\t\tObject.defineProperty(to, property, {\n\t\t\t\tvalue: from[property],\n\t\t\t\tenumerable: forceEnumerable ? true : enumerable,\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true\n\t\t\t});\n\t\t}\n\t}\n\n\treturn to;\n};\n\nconst serializeError = (value, options = {}) => {\n\tconst {maxDepth = Number.POSITIVE_INFINITY} = options;\n\n\tif (typeof value === 'object' && value !== null) {\n\t\treturn destroyCircular({\n\t\t\tfrom: value,\n\t\t\tseen: [],\n\t\t\tforceEnumerable: true,\n\t\t\tmaxDepth,\n\t\t\tdepth: 0\n\t\t});\n\t}\n\n\t// People sometimes throw things besides Error objects…\n\tif (typeof value === 'function') {\n\t\t// `JSON.stringify()` discards functions. We do too, unless a function is thrown directly.\n\t\treturn `[Function: ${(value.name || 'anonymous')}]`;\n\t}\n\n\treturn value;\n};\n\nconst deserializeError = (value, options = {}) => {\n\tconst {maxDepth = Number.POSITIVE_INFINITY} = options;\n\n\tif (value instanceof Error) {\n\t\treturn value;\n\t}\n\n\tif (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n\t\tconst newError = new Error(); // eslint-disable-line unicorn/error-message\n\t\tdestroyCircular({\n\t\t\tfrom: value,\n\t\t\tseen: [],\n\t\t\tto_: newError,\n\t\t\tmaxDepth,\n\t\t\tdepth: 0\n\t\t});\n\t\treturn newError;\n\t}\n\n\treturn new NonError(value);\n};\n\nmodule.exports = {\n\tserializeError,\n\tdeserializeError\n};\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.swal=e():t.swal=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=8)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=\"swal-button\";e.CLASS_NAMES={MODAL:\"swal-modal\",OVERLAY:\"swal-overlay\",SHOW_MODAL:\"swal-overlay--show-modal\",MODAL_TITLE:\"swal-title\",MODAL_TEXT:\"swal-text\",ICON:\"swal-icon\",ICON_CUSTOM:\"swal-icon--custom\",CONTENT:\"swal-content\",FOOTER:\"swal-footer\",BUTTON_CONTAINER:\"swal-button-container\",BUTTON:o,CONFIRM_BUTTON:o+\"--confirm\",CANCEL_BUTTON:o+\"--cancel\",DANGER_BUTTON:o+\"--danger\",BUTTON_LOADING:o+\"--loading\",BUTTON_LOADER:o+\"__loader\"},e.default=e.CLASS_NAMES},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getNode=function(t){var e=\".\"+t;return document.querySelector(e)},e.stringToNode=function(t){var e=document.createElement(\"div\");return e.innerHTML=t.trim(),e.firstChild},e.insertAfter=function(t,e){var n=e.nextSibling;e.parentNode.insertBefore(t,n)},e.removeNode=function(t){t.parentElement.removeChild(t)},e.throwErr=function(t){throw t=t.replace(/ +(?= )/g,\"\"),\"SweetAlert: \"+(t=t.trim())},e.isPlainObject=function(t){if(\"[object Object]\"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},e.ordinalSuffixOf=function(t){var e=t%10,n=t%100;return 1===e&&11!==n?t+\"st\":2===e&&12!==n?t+\"nd\":3===e&&13!==n?t+\"rd\":t+\"th\"}},function(t,e,n){\"use strict\";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,\"__esModule\",{value:!0}),o(n(25));var r=n(26);e.overlayMarkup=r.default,o(n(27)),o(n(28)),o(n(29));var i=n(0),a=i.default.MODAL_TITLE,s=i.default.MODAL_TEXT,c=i.default.ICON,l=i.default.FOOTER;e.iconMarkup='\\n  <div class=\"'+c+'\"></div>',e.titleMarkup='\\n  <div class=\"'+a+'\"></div>\\n',e.textMarkup='\\n  <div class=\"'+s+'\"></div>',e.footerMarkup='\\n  <div class=\"'+l+'\"></div>\\n'},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1);e.CONFIRM_KEY=\"confirm\",e.CANCEL_KEY=\"cancel\";var r={visible:!0,text:null,value:null,className:\"\",closeModal:!0},i=Object.assign({},r,{visible:!1,text:\"Cancel\",value:null}),a=Object.assign({},r,{text:\"OK\",value:!0});e.defaultButtonList={cancel:i,confirm:a};var s=function(t){switch(t){case e.CONFIRM_KEY:return a;case e.CANCEL_KEY:return i;default:var n=t.charAt(0).toUpperCase()+t.slice(1);return Object.assign({},r,{text:n,value:t})}},c=function(t,e){var n=s(t);return!0===e?Object.assign({},n,{visible:!0}):\"string\"==typeof e?Object.assign({},n,{visible:!0,text:e}):o.isPlainObject(e)?Object.assign({visible:!0},n,e):Object.assign({},n,{visible:!1})},l=function(t){for(var e={},n=0,o=Object.keys(t);n<o.length;n++){var r=o[n],a=t[r],s=c(r,a);e[r]=s}return e.cancel||(e.cancel=i),e},u=function(t){var n={};switch(t.length){case 1:n[e.CANCEL_KEY]=Object.assign({},i,{visible:!1});break;case 2:n[e.CANCEL_KEY]=c(e.CANCEL_KEY,t[0]),n[e.CONFIRM_KEY]=c(e.CONFIRM_KEY,t[1]);break;default:o.throwErr(\"Invalid number of 'buttons' in array (\"+t.length+\").\\n      If you want more than 2 buttons, you need to use an object!\")}return n};e.getButtonListOpts=function(t){var n=e.defaultButtonList;return\"string\"==typeof t?n[e.CONFIRM_KEY]=c(e.CONFIRM_KEY,t):Array.isArray(t)?n=u(t):o.isPlainObject(t)?n=l(t):!0===t?n=u([!0,!0]):!1===t?n=u([!1,!1]):void 0===t&&(n=e.defaultButtonList),n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),r=n(2),i=n(0),a=i.default.MODAL,s=i.default.OVERLAY,c=n(30),l=n(31),u=n(32),f=n(33);e.injectElIntoModal=function(t){var e=o.getNode(a),n=o.stringToNode(t);return e.appendChild(n),n};var d=function(t){t.className=a,t.textContent=\"\"},p=function(t,e){d(t);var n=e.className;n&&t.classList.add(n)};e.initModalContent=function(t){var e=o.getNode(a);p(e,t),c.default(t.icon),l.initTitle(t.title),l.initText(t.text),f.default(t.content),u.default(t.buttons,t.dangerMode)};var m=function(){var t=o.getNode(s),e=o.stringToNode(r.modalMarkup);t.appendChild(e)};e.default=m},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(3),r={isOpen:!1,promise:null,actions:{},timer:null},i=Object.assign({},r);e.resetState=function(){i=Object.assign({},r)},e.setActionValue=function(t){if(\"string\"==typeof t)return a(o.CONFIRM_KEY,t);for(var e in t)a(e,t[e])};var a=function(t,e){i.actions[t]||(i.actions[t]={}),Object.assign(i.actions[t],{value:e})};e.setActionOptionsFor=function(t,e){var n=(void 0===e?{}:e).closeModal,o=void 0===n||n;Object.assign(i.actions[t],{closeModal:o})},e.default=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),r=n(3),i=n(0),a=i.default.OVERLAY,s=i.default.SHOW_MODAL,c=i.default.BUTTON,l=i.default.BUTTON_LOADING,u=n(5);e.openModal=function(){o.getNode(a).classList.add(s),u.default.isOpen=!0};var f=function(){o.getNode(a).classList.remove(s),u.default.isOpen=!1};e.onAction=function(t){void 0===t&&(t=r.CANCEL_KEY);var e=u.default.actions[t],n=e.value;if(!1===e.closeModal){var i=c+\"--\"+t;o.getNode(i).classList.add(l)}else f();u.default.promise.resolve(n)},e.getState=function(){var t=Object.assign({},u.default);return delete t.promise,delete t.timer,t},e.stopLoading=function(){for(var t=document.querySelectorAll(\".\"+c),e=0;e<t.length;e++){t[e].classList.remove(l)}}},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){t.exports=e.sweetAlert=n(9)}).call(e,n(7))},function(t,e,n){(function(e){t.exports=e.swal=n(10)}).call(e,n(7))},function(t,e,n){\"undefined\"!=typeof window&&n(11),n(16);var o=n(23).default;t.exports=o},function(t,e,n){var o=n(12);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var r={insertAt:\"top\"};r.transform=void 0;n(14)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(13)(void 0),e.push([t.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:\"\";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:\"\";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:\" \";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',\"\"])},function(t,e){function n(t,e){var n=t[1]||\"\",r=t[3];if(!r)return n;if(e&&\"function\"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(t){return\"/*# sourceURL=\"+r.sourceRoot+t+\" */\"})).concat([i]).join(\"\\n\")}return[n].join(\"\\n\")}function o(t){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+\" */\"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=n(e,t);return e[2]?\"@media \"+e[2]+\"{\"+o+\"}\":o}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];\"number\"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];\"number\"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=m[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(u(o.parts[i],e))}else{for(var a=[],i=0;i<o.parts.length;i++)a.push(u(o.parts[i],e));m[o.id]={id:o.id,refs:1,parts:a}}}}function r(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],s=i[1],c=i[2],l=i[3],u={css:s,media:c,sourceMap:l};o[a]?o[a].parts.push(u):n.push(o[a]={id:a,parts:[u]})}return n}function i(t,e){var n=v(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var o=w[w.length-1];if(\"top\"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else{if(\"bottom\"!==t.insertAt)throw new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");n.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function s(t){var e=document.createElement(\"style\");return t.attrs.type=\"text/css\",l(e,t.attrs),i(t,e),e}function c(t){var e=document.createElement(\"link\");return t.attrs.type=\"text/css\",t.attrs.rel=\"stylesheet\",l(e,t.attrs),i(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var l=h++;n=g||(g=s(e)),o=f.bind(null,n,l,!1),r=f.bind(null,n,l,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=c(e),o=p.bind(null,n,e),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),o=d.bind(null,n),r=function(){a(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}function f(t,e,n,o){var r=n?\"\":o.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function d(t,e){var n=e.css,o=e.media;if(o&&t.setAttribute(\"media\",o),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=y(o)),r&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\");var a=new Blob([o],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var m={},b=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),g=null,h=0,w=[],y=n(15);t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");e=e||{},e.attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=b()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=r(t,e);return o(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],c=m[s.id];c.refs--,i.push(c)}if(t){o(r(t,e),e)}for(var a=0;a<i.length;a++){var c=i[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete m[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join(\"\\n\")}}()},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var r=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(r))return t;var i;return i=0===r.indexOf(\"//\")?r:0===r.indexOf(\"/\")?n+r:o+r.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\"})}},function(t,e,n){var o=n(17);\"undefined\"==typeof window||window.Promise||(window.Promise=o),n(21),String.prototype.includes||(String.prototype.includes=function(t,e){\"use strict\";return\"number\"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,\"includes\",{value:function(t,e){if(null==this)throw new TypeError('\"this\" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;for(var r=0|e,i=Math.max(r>=0?r:o-Math.abs(r),0);i<o;){if(function(t,e){return t===e||\"number\"==typeof t&&\"number\"==typeof e&&isNaN(t)&&isNaN(e)}(n[i],t))return!0;i++}return!1}}),\"undefined\"!=typeof window&&function(t){t.forEach(function(t){t.hasOwnProperty(\"remove\")||Object.defineProperty(t,\"remove\",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(t,e,n){(function(e){!function(n){function o(){}function r(t,e){return function(){t.apply(e,arguments)}}function i(t){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:c)(e.promise,t._value);var o;try{o=n(t._value)}catch(t){return void c(e.promise,t)}s(e.promise,o)})}function s(t,e){try{if(e===t)throw new TypeError(\"A promise cannot be resolved with itself.\");if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void l(t);if(\"function\"==typeof n)return void f(r(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled=\"function\"==typeof t?t:null,this.onRejected=\"function\"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,c(e,t))})}catch(t){if(n)return;n=!0,c(e,t)}}var d=setTimeout;i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new u(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function o(i,a){try{if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var s=a.then;if(\"function\"==typeof s)return void s.call(a,function(t){o(i,t)},n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var r=e.length,i=0;i<e.length;i++)o(i,e[i])})},i.resolve=function(t){return t&&\"object\"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)})},i._immediateFn=\"function\"==typeof e&&function(t){e(t)}||function(t){d(t,0)},i._unhandledRejectionFn=function(t){\"undefined\"!=typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(e,n(18).setImmediate)},function(t,e,n){function o(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(19),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){\"use strict\";function o(t){\"function\"!=typeof t&&(t=new Function(\"\"+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[c]=o,s(c),c++}function r(t){delete l[t]}function i(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}function a(t){if(u)setTimeout(a,0,t);else{var e=l[t];if(e){u=!0;try{i(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var s,c=1,l={},u=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,\"[object process]\"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage(\"\",\"*\"),t.onmessage=n,e}}()?function(){var e=\"setImmediate$\"+Math.random()+\"$\",n=function(n){n.source===t&&\"string\"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener(\"message\",n,!1):t.attachEvent(\"onmessage\",n),s=function(n){t.postMessage(e+n,\"*\")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():f&&\"onreadystatechange\"in f.createElement(\"script\")?function(){var t=f.documentElement;s=function(e){var n=f.createElement(\"script\");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),d.setImmediate=o,d.clearImmediate=r}}(\"undefined\"==typeof self?void 0===t?this:t:self)}).call(e,n(7),n(20))},function(t,e){function n(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){b&&p&&(b=!1,p.length?m=p.concat(m):v=-1,m.length&&s())}function s(){if(!b){var t=r(a);b=!0;for(var e=m.length;e;){for(p=m,m=[];++v<e;)p&&p[v].run();v=-1,e=m.length}p=null,b=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,f,d=t.exports={};!function(){try{u=\"function\"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{f=\"function\"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var p,m=[],b=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||b||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title=\"browser\",d.browser=!0,d.env={},d.argv=[],d.version=\"\",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error(\"process.binding is not supported\")},d.cwd=function(){return\"/\"},d.chdir=function(t){throw new Error(\"process.chdir is not supported\")},d.umask=function(){return 0}},function(t,e,n){\"use strict\";n(22).polyfill()},function(t,e,n){\"use strict\";function o(t,e){if(void 0===t||null===t)throw new TypeError(\"Cannot convert first argument to object\");for(var n=Object(t),o=1;o<arguments.length;o++){var r=arguments[o];if(void 0!==r&&null!==r)for(var i=Object.keys(Object(r)),a=0,s=i.length;a<s;a++){var c=i[a],l=Object.getOwnPropertyDescriptor(r,c);void 0!==l&&l.enumerable&&(n[c]=r[c])}}return n}function r(){Object.assign||Object.defineProperty(Object,\"assign\",{enumerable:!1,configurable:!0,writable:!0,value:o})}t.exports={assign:o,polyfill:r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(24),r=n(6),i=n(5),a=n(36),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(\"undefined\"!=typeof window){var n=a.getOpts.apply(void 0,t);return new Promise(function(t,e){i.default.promise={resolve:t,reject:e},o.default(n),setTimeout(function(){r.openModal()})})}};s.close=r.onAction,s.getState=r.getState,s.setActionValue=i.setActionValue,s.stopLoading=r.stopLoading,s.setDefaults=a.setDefaults,e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),r=n(0),i=r.default.MODAL,a=n(4),s=n(34),c=n(35),l=n(1);e.init=function(t){o.getNode(i)||(document.body||l.throwErr(\"You can only use SweetAlert AFTER the DOM has loaded!\"),s.default(),a.default()),a.initModalContent(t),c.default(t)},e.default=e.init},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),r=o.default.MODAL;e.modalMarkup='\\n  <div class=\"'+r+'\" role=\"dialog\" aria-modal=\"true\"></div>',e.default=e.modalMarkup},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),r=o.default.OVERLAY,i='<div \\n    class=\"'+r+'\"\\n    tabIndex=\"-1\">\\n  </div>';e.default=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),r=o.default.ICON;e.errorIconMarkup=function(){var t=r+\"--error\",e=t+\"__line\";return'\\n    <div class=\"'+t+'__x-mark\">\\n      <span class=\"'+e+\" \"+e+'--left\"></span>\\n      <span class=\"'+e+\" \"+e+'--right\"></span>\\n    </div>\\n  '},e.warningIconMarkup=function(){var t=r+\"--warning\";return'\\n    <span class=\"'+t+'__body\">\\n      <span class=\"'+t+'__dot\"></span>\\n    </span>\\n  '},e.successIconMarkup=function(){var t=r+\"--success\";return'\\n    <span class=\"'+t+\"__line \"+t+'__line--long\"></span>\\n    <span class=\"'+t+\"__line \"+t+'__line--tip\"></span>\\n\\n    <div class=\"'+t+'__ring\"></div>\\n    <div class=\"'+t+'__hide-corners\"></div>\\n  '}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),r=o.default.CONTENT;e.contentMarkup='\\n  <div class=\"'+r+'\">\\n\\n  </div>\\n'},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(0),r=o.default.BUTTON_CONTAINER,i=o.default.BUTTON,a=o.default.BUTTON_LOADER;e.buttonMarkup='\\n  <div class=\"'+r+'\">\\n\\n    <button\\n      class=\"'+i+'\"\\n    ></button>\\n\\n    <div class=\"'+a+'\">\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n    </div>\\n\\n  </div>\\n'},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(4),r=n(2),i=n(0),a=i.default.ICON,s=i.default.ICON_CUSTOM,c=[\"error\",\"warning\",\"success\",\"info\"],l={error:r.errorIconMarkup(),warning:r.warningIconMarkup(),success:r.successIconMarkup()},u=function(t,e){var n=a+\"--\"+t;e.classList.add(n);var o=l[t];o&&(e.innerHTML=o)},f=function(t,e){e.classList.add(s);var n=document.createElement(\"img\");n.src=t,e.appendChild(n)},d=function(t){if(t){var e=o.injectElIntoModal(r.iconMarkup);c.includes(t)?u(t,e):f(t,e)}};e.default=d},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(2),r=n(4),i=function(t){navigator.userAgent.includes(\"AppleWebKit\")&&(t.style.display=\"none\",t.offsetHeight,t.style.display=\"\")};e.initTitle=function(t){if(t){var e=r.injectElIntoModal(o.titleMarkup);e.textContent=t,i(e)}},e.initText=function(t){if(t){var e=document.createDocumentFragment();t.split(\"\\n\").forEach(function(t,n,o){e.appendChild(document.createTextNode(t)),n<o.length-1&&e.appendChild(document.createElement(\"br\"))});var n=r.injectElIntoModal(o.textMarkup);n.appendChild(e),i(n)}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),r=n(4),i=n(0),a=i.default.BUTTON,s=i.default.DANGER_BUTTON,c=n(3),l=n(2),u=n(6),f=n(5),d=function(t,e,n){var r=e.text,i=e.value,d=e.className,p=e.closeModal,m=o.stringToNode(l.buttonMarkup),b=m.querySelector(\".\"+a),v=a+\"--\"+t;if(b.classList.add(v),d){(Array.isArray(d)?d:d.split(\" \")).filter(function(t){return t.length>0}).forEach(function(t){b.classList.add(t)})}n&&t===c.CONFIRM_KEY&&b.classList.add(s),b.textContent=r;var g={};return g[t]=i,f.setActionValue(g),f.setActionOptionsFor(t,{closeModal:p}),b.addEventListener(\"click\",function(){return u.onAction(t)}),m},p=function(t,e){var n=r.injectElIntoModal(l.footerMarkup);for(var o in t){var i=t[o],a=d(o,i,e);i.visible&&n.appendChild(a)}0===n.children.length&&n.remove()};e.default=p},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(3),r=n(4),i=n(2),a=n(5),s=n(6),c=n(0),l=c.default.CONTENT,u=function(t){t.addEventListener(\"input\",function(t){var e=t.target,n=e.value;a.setActionValue(n)}),t.addEventListener(\"keyup\",function(t){if(\"Enter\"===t.key)return s.onAction(o.CONFIRM_KEY)}),setTimeout(function(){t.focus(),a.setActionValue(\"\")},0)},f=function(t,e,n){var o=document.createElement(e),r=l+\"__\"+e;o.classList.add(r);for(var i in n){var a=n[i];o[i]=a}\"input\"===e&&u(o),t.appendChild(o)},d=function(t){if(t){var e=r.injectElIntoModal(i.contentMarkup),n=t.element,o=t.attributes;\"string\"==typeof n?f(e,n,o):e.appendChild(n)}};e.default=d},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),r=n(2),i=function(){var t=o.stringToNode(r.overlayMarkup);document.body.appendChild(t)};e.default=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(5),r=n(6),i=n(1),a=n(3),s=n(0),c=s.default.MODAL,l=s.default.BUTTON,u=s.default.OVERLAY,f=function(t){t.preventDefault(),v()},d=function(t){t.preventDefault(),g()},p=function(t){if(o.default.isOpen)switch(t.key){case\"Escape\":return r.onAction(a.CANCEL_KEY)}},m=function(t){if(o.default.isOpen)switch(t.key){case\"Tab\":return f(t)}},b=function(t){if(o.default.isOpen)return\"Tab\"===t.key&&t.shiftKey?d(t):void 0},v=function(){var t=i.getNode(l);t&&(t.tabIndex=0,t.focus())},g=function(){var t=i.getNode(c),e=t.querySelectorAll(\".\"+l),n=e.length-1,o=e[n];o&&o.focus()},h=function(t){t[t.length-1].addEventListener(\"keydown\",m)},w=function(t){t[0].addEventListener(\"keydown\",b)},y=function(){var t=i.getNode(c),e=t.querySelectorAll(\".\"+l);e.length&&(h(e),w(e))},x=function(t){if(i.getNode(u)===t.target)return r.onAction(a.CANCEL_KEY)},_=function(t){var e=i.getNode(u);e.removeEventListener(\"click\",x),t&&e.addEventListener(\"click\",x)},k=function(t){o.default.timer&&clearTimeout(o.default.timer),t&&(o.default.timer=window.setTimeout(function(){return r.onAction(a.CANCEL_KEY)},t))},O=function(t){t.closeOnEsc?document.addEventListener(\"keyup\",p):document.removeEventListener(\"keyup\",p),t.dangerMode?v():g(),y(),_(t.closeOnClickOutside),k(t.timer)};e.default=O},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),r=n(3),i=n(37),a=n(38),s={title:null,text:null,icon:null,buttons:r.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},c=Object.assign({},s);e.setDefaults=function(t){c=Object.assign({},s,t)};var l=function(t){var e=t&&t.button,n=t&&t.buttons;return void 0!==e&&void 0!==n&&o.throwErr(\"Cannot set both 'button' and 'buttons' options!\"),void 0!==e?{confirm:e}:n},u=function(t){return o.ordinalSuffixOf(t+1)},f=function(t,e){o.throwErr(u(e)+\" argument ('\"+t+\"') is invalid\")},d=function(t,e){var n=t+1,r=e[n];o.isPlainObject(r)||void 0===r||o.throwErr(\"Expected \"+u(n)+\" argument ('\"+r+\"') to be a plain object\")},p=function(t,e){var n=t+1,r=e[n];void 0!==r&&o.throwErr(\"Unexpected \"+u(n)+\" argument (\"+r+\")\")},m=function(t,e,n,r){var i=typeof e,a=\"string\"===i,s=e instanceof Element;if(a){if(0===n)return{text:e};if(1===n)return{text:e,title:r[0]};if(2===n)return d(n,r),{icon:e};f(e,n)}else{if(s&&0===n)return d(n,r),{content:e};if(o.isPlainObject(e))return p(n,r),e;f(e,n)}};e.getOpts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={};t.forEach(function(e,o){var r=m(0,e,o,t);Object.assign(n,r)});var o=l(n);n.buttons=r.getButtonListOpts(o),delete n.button,n.content=i.getContentOpts(n.content);var u=Object.assign({},s,c,n);return Object.keys(u).forEach(function(t){a.DEPRECATED_OPTS[t]&&a.logDeprecation(t)}),u}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(1),r={element:\"input\",attributes:{placeholder:\"\"}};e.getContentOpts=function(t){var e={};return o.isPlainObject(t)?Object.assign(e,t):t instanceof Element?{element:t}:\"input\"===t?r:null}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.logDeprecation=function(t){var n=e.DEPRECATED_OPTS[t],o=n.onlyRename,r=n.replacement,i=n.subOption,a=n.link,s=o?\"renamed\":\"deprecated\",c='SweetAlert warning: \"'+t+'\" option has been '+s+\".\";if(r){c+=\" Please use\"+(i?' \"'+i+'\" in ':\" \")+'\"'+r+'\" instead.'}var l=\"https://sweetalert.js.org\";c+=a?\" More details: \"+l+a:\" More details: \"+l+\"/guides/#upgrading-from-1x\",console.warn(c)},e.DEPRECATED_OPTS={type:{replacement:\"icon\",link:\"/docs/#icon\"},imageUrl:{replacement:\"icon\",link:\"/docs/#icon\"},customClass:{replacement:\"className\",onlyRename:!0,link:\"/docs/#classname\"},imageSize:{},showCancelButton:{replacement:\"buttons\",link:\"/docs/#buttons\"},showConfirmButton:{replacement:\"button\",link:\"/docs/#button\"},confirmButtonText:{replacement:\"button\",link:\"/docs/#button\"},confirmButtonColor:{},cancelButtonText:{replacement:\"buttons\",link:\"/docs/#buttons\"},closeOnConfirm:{replacement:\"button\",subOption:\"closeModal\",link:\"/docs/#button\"},closeOnCancel:{replacement:\"buttons\",subOption:\"closeModal\",link:\"/docs/#buttons\"},showLoaderOnConfirm:{replacement:\"buttons\"},animation:{},inputType:{replacement:\"content\",link:\"/docs/#content\"},inputValue:{replacement:\"content\",link:\"/docs/#content\"},inputPlaceholder:{replacement:\"content\",link:\"/docs/#content\"},html:{replacement:\"content\",link:\"/docs/#content\"},allowEscapeKey:{replacement:\"closeOnEsc\",onlyRename:!0,link:\"/docs/#closeonesc\"},allowClickOutside:{replacement:\"closeOnClickOutside\",onlyRename:!0,link:\"/docs/#closeonclickoutside\"}}}])});","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nexport function bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\nexport function bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nexport function hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nexport function exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nexport function output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nconst assert = {\n  number,\n  bool,\n  bytes,\n  hash,\n  exists,\n  output,\n};\n\nexport default assert;\n","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nconst isPlainObject = (obj: any) =>\n  Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts)))\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n","// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n","const U32_MASK64 = BigInt(2 ** 32 - 1);\nconst _32n = BigInt(32);\n\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nexport function fromBig(n: bigint, le = false) {\n  if (le) return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n  return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\n\nexport function split(lst: bigint[], le = false) {\n  let Ah = new Uint32Array(lst.length);\n  let Al = new Uint32Array(lst.length);\n  for (let i = 0; i < lst.length; i++) {\n    const { h, l } = fromBig(lst[i], le);\n    [Ah[i], Al[i]] = [h, l];\n  }\n  return [Ah, Al];\n}\n\nexport const toBig = (h: number, l: number) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h: number, l: number, s: number) => h >>> s;\nconst shrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h: number, l: number, s: number) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h: number, l: number, s: number) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h: number, l: number, s: number) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (h: number, l: number) => l;\nconst rotr32L = (h: number, l: number) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h: number, l: number, s: number) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h: number, l: number, s: number) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h: number, l: number, s: number) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h: number, l: number, s: number) => (h << (s - 32)) | (l >>> (64 - s));\n\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\n// Removing \"export\" has 5% perf penalty -_-\nexport function add(Ah: number, Al: number, Bh: number, Bl: number) {\n  const l = (Al >>> 0) + (Bl >>> 0);\n  return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al: number, Bl: number, Cl: number) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low: number, Ah: number, Bh: number, Ch: number) =>\n  (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al: number, Bl: number, Cl: number, Dl: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number) =>\n  (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al: number, Bl: number, Cl: number, Dl: number, El: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number) =>\n  (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n\n// prettier-ignore\nconst u64 = {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n","import assert from './_assert.js';\nimport u64 from './_u64.js';\nimport {\n  Hash,\n  u32,\n  Input,\n  toBytes,\n  wrapConstructor,\n  wrapXOFConstructorWithOpts,\n  HashXOF,\n} from './utils.js';\n\n// Various per round constants calculations\nconst [SHA3_PI, SHA3_ROTL, _SHA3_IOTA]: [number[], number[], bigint[]] = [[], [], []];\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _7n = BigInt(7);\nconst _256n = BigInt(256);\nconst _0x71n = BigInt(0x71);\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n  // Pi\n  [x, y] = [y, (2 * x + 3 * y) % 5];\n  SHA3_PI.push(2 * (5 * y + x));\n  // Rotational\n  SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n  // Iota\n  let t = _0n;\n  for (let j = 0; j < 7; j++) {\n    R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n    if (R & _2n) t ^= _1n << ((_1n << BigInt(j)) - _1n);\n  }\n  _SHA3_IOTA.push(t);\n}\nconst [SHA3_IOTA_H, SHA3_IOTA_L] = u64.split(_SHA3_IOTA, true);\n\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h: number, l: number, s: number) =>\n  s > 32 ? u64.rotlBH(h, l, s) : u64.rotlSH(h, l, s);\nconst rotlL = (h: number, l: number, s: number) =>\n  s > 32 ? u64.rotlBL(h, l, s) : u64.rotlSL(h, l, s);\n\n// Same as keccakf1600, but allows to skip some rounds\nexport function keccakP(s: Uint32Array, rounds: number = 24) {\n  const B = new Uint32Array(5 * 2);\n  // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n  for (let round = 24 - rounds; round < 24; round++) {\n    // Theta θ\n    for (let x = 0; x < 10; x++) B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n    for (let x = 0; x < 10; x += 2) {\n      const idx1 = (x + 8) % 10;\n      const idx0 = (x + 2) % 10;\n      const B0 = B[idx0];\n      const B1 = B[idx0 + 1];\n      const Th = rotlH(B0, B1, 1) ^ B[idx1];\n      const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n      for (let y = 0; y < 50; y += 10) {\n        s[x + y] ^= Th;\n        s[x + y + 1] ^= Tl;\n      }\n    }\n    // Rho (ρ) and Pi (π)\n    let curH = s[2];\n    let curL = s[3];\n    for (let t = 0; t < 24; t++) {\n      const shift = SHA3_ROTL[t];\n      const Th = rotlH(curH, curL, shift);\n      const Tl = rotlL(curH, curL, shift);\n      const PI = SHA3_PI[t];\n      curH = s[PI];\n      curL = s[PI + 1];\n      s[PI] = Th;\n      s[PI + 1] = Tl;\n    }\n    // Chi (χ)\n    for (let y = 0; y < 50; y += 10) {\n      for (let x = 0; x < 10; x++) B[x] = s[y + x];\n      for (let x = 0; x < 10; x++) s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n    }\n    // Iota (ι)\n    s[0] ^= SHA3_IOTA_H[round];\n    s[1] ^= SHA3_IOTA_L[round];\n  }\n  B.fill(0);\n}\n\nexport class Keccak extends Hash<Keccak> implements HashXOF<Keccak> {\n  protected state: Uint8Array;\n  protected pos = 0;\n  protected posOut = 0;\n  protected finished = false;\n  protected state32: Uint32Array;\n  protected destroyed = false;\n  // NOTE: we accept arguments in bytes instead of bits here.\n  constructor(\n    public blockLen: number,\n    public suffix: number,\n    public outputLen: number,\n    protected enableXOF = false,\n    protected rounds: number = 24\n  ) {\n    super();\n    // Can be passed from user as dkLen\n    assert.number(outputLen);\n    // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n    if (0 >= this.blockLen || this.blockLen >= 200)\n      throw new Error('Sha3 supports only keccak-f1600 function');\n    this.state = new Uint8Array(200);\n    this.state32 = u32(this.state);\n  }\n  protected keccak() {\n    keccakP(this.state32, this.rounds);\n    this.posOut = 0;\n    this.pos = 0;\n  }\n  update(data: Input) {\n    assert.exists(this);\n    const { blockLen, state } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      for (let i = 0; i < take; i++) state[this.pos++] ^= data[pos++];\n      if (this.pos === blockLen) this.keccak();\n    }\n    return this;\n  }\n  protected finish() {\n    if (this.finished) return;\n    this.finished = true;\n    const { state, suffix, pos, blockLen } = this;\n    // Do the padding\n    state[pos] ^= suffix;\n    if ((suffix & 0x80) !== 0 && pos === blockLen - 1) this.keccak();\n    state[blockLen - 1] ^= 0x80;\n    this.keccak();\n  }\n  protected writeInto(out: Uint8Array): Uint8Array {\n    assert.exists(this, false);\n    assert.bytes(out);\n    this.finish();\n    const bufferOut = this.state;\n    const { blockLen } = this;\n    for (let pos = 0, len = out.length; pos < len; ) {\n      if (this.posOut >= blockLen) this.keccak();\n      const take = Math.min(blockLen - this.posOut, len - pos);\n      out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n      this.posOut += take;\n      pos += take;\n    }\n    return out;\n  }\n  xofInto(out: Uint8Array): Uint8Array {\n    // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n    if (!this.enableXOF) throw new Error('XOF is not possible for this instance');\n    return this.writeInto(out);\n  }\n  xof(bytes: number): Uint8Array {\n    assert.number(bytes);\n    return this.xofInto(new Uint8Array(bytes));\n  }\n  digestInto(out: Uint8Array) {\n    assert.output(out, this);\n    if (this.finished) throw new Error('digest() was already called');\n    this.writeInto(out);\n    this.destroy();\n    return out;\n  }\n  digest() {\n    return this.digestInto(new Uint8Array(this.outputLen));\n  }\n  destroy() {\n    this.destroyed = true;\n    this.state.fill(0);\n  }\n  _cloneInto(to?: Keccak): Keccak {\n    const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n    to ||= new Keccak(blockLen, suffix, outputLen, enableXOF, rounds);\n    to.state32.set(this.state32);\n    to.pos = this.pos;\n    to.posOut = this.posOut;\n    to.finished = this.finished;\n    to.rounds = rounds;\n    // Suffix can change in cSHAKE\n    to.suffix = suffix;\n    to.outputLen = outputLen;\n    to.enableXOF = enableXOF;\n    to.destroyed = this.destroyed;\n    return to;\n  }\n}\n\nconst gen = (suffix: number, blockLen: number, outputLen: number) =>\n  wrapConstructor(() => new Keccak(blockLen, suffix, outputLen));\n\nexport const sha3_224 = gen(0x06, 144, 224 / 8);\n/**\n * SHA3-256 hash function\n * @param message - that would be hashed\n */\nexport const sha3_256 = gen(0x06, 136, 256 / 8);\nexport const sha3_384 = gen(0x06, 104, 384 / 8);\nexport const sha3_512 = gen(0x06, 72, 512 / 8);\nexport const keccak_224 = gen(0x01, 144, 224 / 8);\n/**\n * keccak-256 hash function. Different from SHA3-256.\n * @param message - that would be hashed\n */\nexport const keccak_256 = gen(0x01, 136, 256 / 8);\nexport const keccak_384 = gen(0x01, 104, 384 / 8);\nexport const keccak_512 = gen(0x01, 72, 512 / 8);\n\nexport type ShakeOpts = { dkLen?: number };\n\nconst genShake = (suffix: number, blockLen: number, outputLen: number) =>\n  wrapXOFConstructorWithOpts<HashXOF<Keccak>, ShakeOpts>(\n    (opts: ShakeOpts = {}) =>\n      new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true)\n  );\n\nexport const shake128 = genShake(0x1f, 168, 128 / 8);\nexport const shake256 = genShake(0x1f, 136, 256 / 8);\n","import { keccak_224, keccak_256, keccak_384, keccak_512 } from \"@noble/hashes/sha3\";\nimport { wrapHash } from \"./utils.js\";\nexport const keccak224 = wrapHash(keccak_224);\nexport const keccak256 = (() => {\n    const k = wrapHash(keccak_256);\n    k.create = keccak_256.create;\n    return k;\n})();\nexport const keccak384 = wrapHash(keccak_384);\nexport const keccak512 = wrapHash(keccak_512);\n","import assert from \"@noble/hashes/_assert\";\nimport { hexToBytes as _hexToBytes } from \"@noble/hashes/utils\";\nconst assertBool = assert.bool;\nconst assertBytes = assert.bytes;\nexport { assertBool, assertBytes };\nexport { bytesToHex, bytesToHex as toHex, concatBytes, createView, utf8ToBytes } from \"@noble/hashes/utils\";\n// buf.toString('utf8') -> bytesToUtf8(buf)\nexport function bytesToUtf8(data) {\n    if (!(data instanceof Uint8Array)) {\n        throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof data}`);\n    }\n    return new TextDecoder().decode(data);\n}\nexport function hexToBytes(data) {\n    const sliced = data.startsWith(\"0x\") ? data.substring(2) : data;\n    return _hexToBytes(sliced);\n}\n// buf.equals(buf2) -> equalsBytes(buf, buf2)\nexport function equalsBytes(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n// Internal utils\nexport function wrapHash(hash) {\n    return (msg) => {\n        assert.bytes(msg);\n        return hash(msg);\n    };\n}\n// TODO(v3): switch away from node crypto, remove this unnecessary variable.\nexport const crypto = (() => {\n    const webCrypto = typeof globalThis === \"object\" && \"crypto\" in globalThis ? globalThis.crypto : undefined;\n    const nodeRequire = typeof module !== \"undefined\" &&\n        typeof module.require === \"function\" &&\n        module.require.bind(module);\n    return {\n        node: nodeRequire && !webCrypto ? nodeRequire(\"crypto\") : undefined,\n        web: webCrypto\n    };\n})();\n","export function fixProto(target, prototype) {\n    var setPrototypeOf = Object.setPrototypeOf;\n    setPrototypeOf\n        ? setPrototypeOf(target, prototype)\n        : (target.__proto__ = prototype);\n}\nexport function fixStack(target, fn) {\n    if (fn === void 0) { fn = target.constructor; }\n    var captureStackTrace = Error.captureStackTrace;\n    captureStackTrace && captureStackTrace(target, fn);\n}\n//# sourceMappingURL=utils.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { fixProto, fixStack } from './utils';\nvar CustomError = (function (_super) {\n    __extends(CustomError, _super);\n    function CustomError(message, options) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message, options) || this;\n        Object.defineProperty(_this, 'name', {\n            value: _newTarget.name,\n            enumerable: false,\n            configurable: true,\n        });\n        fixProto(_this, _newTarget.prototype);\n        fixStack(_this);\n        return _this;\n    }\n    return CustomError;\n}(Error));\nexport { CustomError };\n//# sourceMappingURL=custom-error.js.map","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"names":["waitWindowLoad","handleError","emit","error","navigator","onLine","registerValidSW","swUrl","registrationOptions","serviceWorker","register","then","registration","waiting","onupdatefound","installingWorker","installing","onstatechange","state","controller","catch","window","document","readyState","Promise","resolve","addEventListener","cb","exports","hooks","hook","args","len","arguments","length","apply","Boolean","location","hostname","match","fetch","response","status","Error","unregister","headers","get","indexOf","checkValidServiceWorker","ready","ecCurve","ec","encrypt","_x","_x2","_encrypt","_asyncToGenerator","_regeneratorRuntime","mark","_callee","publicKey","msg","encryptedDetails","wrap","_context","prev","next","encrypt$1","sent","abrupt","ciphertext","toString","ephemPublicKey","iv","mac","stop","decrypt","_x3","_x4","_decrypt","_callee2","privKey","bufferEncDetails","_context2","Buffer","from","decrypt$1","isEmptyObject","obj","Object","keys","constructor","isErrorObj","err","stack","message","prettyPrintError","JSON","stringify","serializeError","generatePrivateExcludingIndexes","shareIndexes","key","BN","generatePrivate","find","el","eq","KEY_NOT_FOUND","SHARE_DELETED","stripHexPrefix","str","slice","generateID","concat","Math","random","substr","Point","x","y","_classCallCheck","_defineProperty","this","_createClass","value","enc","params","keyFromPublic","getPublic","pt","getX","getY","toPrivKeyEC","bn","keyFromPrivate","toPrivKeyECC","tmp","getPubKeyECC","getPubKeyPoint","pubKeyEc","getPubKeyEC","TkeyError","_CustomError","_inherits","_super","_createSuper","code","_this","call","_assertThisInitialized","defineProperty","name","toJSON","CustomError","ONE_KEY_DELETE_NONCE","ONE_KEY_NAMESPACE","PublicPolynomial","polynomialCommitments","idSeed","i","nextChunk","encode","polynomialId","map","fromJSON","PublicShare","shareIndex","shareCommitment","Share","share","Polynomial","polynomial","tmpX","xi","sum","add","mul","umod","curve","n","newShareIndexes","index","shares","polyEval","push","publicPolynomial","ShareStore","polynomialID","CoreError","_TkeyError","extraMessage","undefined","messages","fromCode","generateEmptyBNArray","Array","interpolationPoly","innerPoints","coefficients","d","result","j","sub","denominator","cmp","default","invm","k","newCoefficients","lagrange","unsortedPoints","sortedPoints","pointArrClone","_toConsumableArray","sort","a","b","pointSort","lagrangeInterpolatePolynomial","points","lagrangeInterpolation","nodeIndex","secret","upper","lower","neg","temp","delta","generateRandomPolynomial","degree","deterministicShares","actualS","poly","isArray","forEach","values","polyCommitmentEval","polyCommitments","basePtPolyCommitments","factor","pow","e","Metadata","input","publicPolynomials","publicShares","generalStore","tkeyStore","scopedStore","pubKey","polyIDList","nonce","polyID","matchingPolyIDs","filter","tuple","publicShare","arr","getPublicPolynomial","getPolynomialID","shareIndexArr","addPublicShare","getPublicShare","prototype","hasOwnProperty","domain","data","_getEncryptedShare","shareStore","pubShare","encryptedShareStore","encryptedShare","rawDecrypted","encryptedShares","encryptedShareStoreUnavailable","parse","getGeneralStoreDomain","description","currentSD","setGeneralStoreDomain","splice","oldDescription","newDescription","pubkey","t","tempShare","serializedPolyIDList","_polyID$split$concat","sortedShareIndexes","serializedPolyID","split","join","metadata","fromCompressedPub","unserializedPolyIDList","_loop","arrPolyID","zeroIndex","findIndex","v","firstHalf","secondHalf","pubPolyID","pointCommitments","compressedCommitment","AuthMetadata","privKeyUnavailable","sig","sign","keccak256","toDER","m","metadataPubKeyUnavailable","verify","ThresholdKey","_ref","_ref$enableLogging","enableLogging","_ref$modules","modules","serviceProvider","storageLayer","_ref$manualSync","manualSync","serverTimeOffset","_refreshMiddleware","_reconstructKeyMiddleware","_shareSerializationMiddleware","storeDeviceShare","_localMetadataTransitions","setModuleReferences","haveWriteMetadataLock","metadataUndefined","_initialize","p","withShare","importKey","neverInitializeNewKey","transitionMetadata","previouslyFetchedCloudMetadata","previousLocalMetadataTransitions","previousLocalMetadataTransitionsExists","reinitializing","reinitializingWithNewKeyAssign","spIncludeLocalMetadataTransitions","spLocalMetadataTransitions","rawServiceProviderShare","currentMetadata","latestCloudMetadata","latestShareDetails","latestShare","delete1OutOf1","delete1OutOf1OnlyManualSync","getGenericMetadataWithTransitionStates","includeLocalMetadataTransitions","fromJSONConstructor","val","_initializeNewKey","initializeModules","importedKey","getKeyDetails","catchupToLatestShare","t0","shareMetadata","clone","lastFetchedCloudMetadata","inputShareStore","_catchupToLatestShare","_callee3","nextShare","_context3","getAuthMetadata","authMetadataGetUnavailable","getEncryptedShare","t1","_reconstructKey","_callee5","pubPoly","requiredThreshold","sharesLeft","fullShareList","shareIndexesRequired","sharesToInput","z","sharesForPoly","shareIndexesForPoly","currentShareForPoly","latestShareRes","polyShares","shareArr","_i3","reconstructedPubKey","returnObject","_this2","_args5","_context5","getLatestPublicPolynomial","getThreshold","getShareIndexesForPolynomial","unableToReconstruct","incorrectReconstruction","_setKey","allKeys","all","_ref2","_callee4","_returnObject$allKeys","extraKeys","_context4","threshold","pointsArr","sharesForExistingPoly","Set","size","_deleteShare","_callee6","shareIndexToDelete","shareToDelete","previousPolyID","existingShareIndexes","results","newShareStores","_context6","privateKeyUnavailable","outputShareStore","_refreshShares","shareStores","addLocalMetadataTransitions","dateAdded","Date","now","_x5","_generateNewShare","_callee7","existingShareIndexesBN","newShareIndex","_context7","_refreshShares2","_callee9","oldPoly","shareIndexesNeedingEncryption","shareIndexHex","oldShareStores","newScopedStore","sharesToPush","metadataToPush","moduleName","adjustedGeneralStore","newShareMetadataToPush","newShareStoreSharesToPush","AuthMetadatas","_index","_this3","_context9","generateShares","includes","addFromPolynomialAndShares","_ref3","_callee8","oldShare","_context8","_x9","setScopedStore","fill","deleteGeneralStoreDomain","me","generateAuthMetadata","_x6","_x7","_x8","_initializeNewKey2","_callee10","_ref4","determinedShare","tmpPriv","shareIndexForDeviceStorage","shareIndexForDeterminedShare","serviceProviderShare","authMetadatas","_this4","_args10","_context10","postboxKey","deviceShare","userShare","_addLocalMetadataTransitions","_callee11","_context11","syncLocalMetadataTransitions","_x10","_syncLocalMetadataTransitions","_callee12","acquiredLock","_context12","acquireWriteMetadataLock","setMetadataStream","metadataPostFailed","releaseWriteMetadataLock","_updateSDK","_callee13","tb","allPolyIDList","lastValidPolyID","shareStoresForLastValidPolyID","_this5","_context13","initialize","id","inputShareStoreSafe","_x11","ss","_inputShareStoreSafe","_callee14","autoUpdateMetadata","_args14","_context14","_x12","shareIndexParsed","polyIDToSearch","shareFromStore","shareMap","reconstructLatestPoly","latestPolynomialId","requiredShares","shareDescriptions","getShareDescription","reduce","acc","totalShares","authMetadata","setMetadata","_setAuthMetadataBulk","_callee15","_context15","_x13","_getAuthMetadata","_callee16","raw","_context16","_objectSpread","_x14","_getGenericMetadataWithTransitionStates","_callee17","transitions","_context17","getMetadata","metadataGetFailed","_x15","_acquireWriteMetadataLock","_callee18","randomShareStore","latestPolyIDOnCloud","shareIndexesExistInSDK","randomIndex","latestRes","latestMetadata","res","_context18","floor","acquireLockFailed","acquireWriteLock","_releaseWriteMetadataLock","_callee19","_context19","releaseLockFailed","releaseWriteLock","_syncShareMetadata2","_callee20","adjustScopedStore","shareArray","_context20","getAllShareStoresForLatestPolynomial","syncMultipleShareMetadata","_x16","_syncMultipleShareMetadata","_callee22","newMetadataPromise","newMetadata","_this6","_context22","_ref5","_callee21","specificShareMetadata","scopedStoreToBeSet","_context21","_x19","setAuthMetadataBulk","_x17","_x18","middleware","serialize","deserialize","storeDeviceStorage","_addShareDescription","_callee23","updateMetadata","_context23","addShareDescription","_syncShareMetadata","_x20","_x21","_x22","_deleteShareDescription","_callee24","_context24","deleteShareDescription","_x23","_x24","_x25","_updateShareDescription","_callee25","_context25","updateShareDescription","_x26","_x27","_x28","_x29","_encrypt2","_callee26","_context26","_x30","_decrypt2","_callee27","encryptedMessage","_context27","_x31","_setTKeyStoreItem2","_callee29","rawTkeyStoreItems","decryptedItems","encryptedData","duplicateItemIndex","_this7","_context29","getTkeyStoreDomain","_ref6","_callee28","decryptedItem","_context28","_x34","setTkeyStoreDomain","_x32","_x33","_deleteTKeyStoreItem2","_callee31","finalItems","_this8","_context31","_ref7","_callee30","_context30","_x37","_x35","_x36","_getTKeyStore","_callee33","_this9","_context33","_ref8","_callee32","_context32","_x39","_x38","_getTKeyStoreItem","_callee35","item","_this10","_context35","_ref9","_callee34","_context34","_x42","_x40","_x41","_outputShare","_callee36","type","_context36","_x43","_x44","_inputShare","_callee37","deserialized","_context37","shareToShareStore","_x45","_x46","_this11","allExistingShares","_CRITICAL_deleteTkey","_callee38","_context38","bind","getStorageLayer","_addRefreshMiddleware","_addReconstructKeyMiddleware","_addShareSerializationMiddleware","generateNewShare","inputShare","outputShare","_setDeviceStorage","getTKeyStore","getTKeyStoreItem","_setTKeyStoreItem","_deleteTKeyStoreItem","deleteShare","_this12","getApi","_initializeModules","_callee39","_this13","_context39","_fromJSON","_callee40","shareStoreMapElement","shareElementKey","AuthMetadataKeys","ShareStoreKeys","sampleMessageMetadata","MessageMetadataKeys","localTransitionShares","localTransitionData","tempMetadata","tempCloud","shareToUseForSerialization","_context40","every","tempAuth","_x47","_x48","ServiceProviderBase","serviceProviderName","retrievePubKey","r","s","PROMISE_RESOLVED_VOID","sleep","time","resolveWith","setTimeout","randomToken","substring","lastMs","additional","microSeconds","ms","getTime","log","loglevel","setLevel","create","channelName","messagesCallback","bc","BroadcastChannel","subFns","onmessage","close","channelState","onMessage","fn","postMessage","messageJson","reject","canBeUsed","options","support3PC","_pubkey","averageResponseTime","micro","ObliviousSet","ttl","Map","_to","has","set","obliviousSet","olderThen","iterator","Symbol","delete","removeTooOldValues","clear","fillOptionsWithDefaults","originalOptions","browserInfo","Bowser","userAgent","info","thirdPartyCookieSupport","brave","engine","WebKit","Gecko","are3PCSupported","webWorkerSupport","idb","fallbackInterval","onclose","localstorage","removeTimeout","server","url","methods","DB_PREFIX","OBJECT_STORE_ID","TRANSACTION_SETTINGS","durability","getIdb","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","commitIndexedDBTransaction","tx","commit","getMessagesHigherThan","db","lastCursorId","transaction","objectStore","ret","keyRangeValue","IDBKeyRange","bound","Infinity","getAll","getAllRequest","rej","onerror","onsuccess","target","openCursorRequest","openCursor","ev","cursor","cleanOldMessages","msgObk","getOldMessages","tooOld","ids","deleteRequest","removeMessagesById","_readLoop","closed","readNewMessages","newerMessages","useMessages","msgObj","uuid","eMIs","messagesCallbackTime","_filterMessage","msgObjA","msgObjB","IndexedDB","dbName","openRequest","open","onupgradeneeded","createObjectStore","keyPath","autoIncrement","createDatabase","writeBlockPromise","readQueuePromises","readerUuid","writeObject","oncomplete","writeMessage","min","max","KEY_PREFIX","getLocalStorage","localStorage","storageKey","ls","setItem","removeItem","listener","newValue","addStorageEventListener","token","removeEventListener","writeObj","createEvent","initEvent","dispatchEvent","toLowerCase","defaultTime","PACKET_TYPES","PACKET_TYPES_REVERSE","TEXT_ENCODER","ERROR_PACKET","withNativeBlob","Blob","withNativeArrayBuffer","ArrayBuffer","isView","buffer","encodePacket","supportsBinary","callback","encodeBlobAsBase64","fileReader","FileReader","onload","content","readAsDataURL","toArray","Uint8Array","byteOffset","byteLength","chars","lookup","charCodeAt","TEXT_DECODER","decodePacket","encodedPacket","binaryType","mapBinary","charAt","decodeBase64Packet","decoded","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","bytes","decode","SEPARATOR","String","fromCharCode","Emitter","mixin","on","event","_callbacks","once","off","removeListener","removeAllListeners","callbacks","emitReserved","listeners","hasListeners","globalThisShim","self","Function","pick","_len","attr","_key","NATIVE_SET_TIMEOUT","globalThis","NATIVE_CLEAR_TIMEOUT","clearTimeout","installTimerFunctions","opts","useNativeTimers","setTimeoutFn","clearTimeoutFn","TransportError","_Error","reason","context","_wrapNativeSuper","Transport","_Emitter","_super2","writable","query","socket","_get","_getPrototypeOf","doOpen","doClose","onClose","packets","write","packet","onPacket","details","onPause","schema","_hostname","_port","path","_query","port","secure","Number","encodedQuery","encodeURIComponent","alphabet","seed","num","encoded","yeast","XMLHttpRequest","hasCORS","XHR","xdomain","empty","hasXHR2","responseType","Polling","_Transport","polling","isSSL","protocol","xd","forceBase64","withCredentials","cookieJar","createCookieJar","poll","pause","total","doPoll","encodedPayload","encodedPackets","decodedPacket","decodePayload","onOpen","count","encodePayload","doWrite","timestampRequests","timestampParam","sid","b64","createUri","assign","Request","uri","req","request","method","xhrStatus","onError","onData","pollXhr","_a","xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","addCookies","requestTimeout","timeout","onreadystatechange","parseCookies","onLoad","send","requestsCount","requests","cleanup","fromError","abort","responseText","attachEvent","unloadHandler","nextTick","WebSocket","MozWebSocket","isReactNative","product","WS","check","protocols","ws","addEventListeners","onopen","autoUnref","_socket","unref","closeEvent","lastPacket","WT","WebTransport","transport","transportOptions","createBidirectionalStream","stream","binaryFlag","reader","readable","getReader","writer","getWriter","read","done","isBinary","TextDecoder","isPlainBinary","decodePacketFromBinary","handshake","TextEncoder","arrayBuffer","encodePacketToBinary","shouldIncludeBinaryHeader","of","transports","websocket","webtransport","re","parts","src","replace","exec","source","host","authority","ipv6uri","pathNames","regx","names","queryKey","$0","$1","$2","Socket","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","closeOnBeforeunload","qs","qry","pairs","l","pair","decodeURIComponent","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","offlineEventListener","EIO","priorWebsocketSuccess","createTransport","shift","setTransport","onDrain","failed","onTransportOpen","upgrading","flush","freezeTransport","onTransportClose","onupgrade","to","probe","onHandshake","resetPingTimeout","sendPacket","filterUpgrades","maxPayload","getWritablePackets","payloadSize","c","utf8Length","ceil","compress","cleanupAndClose","waitForUpgrade","filteredUpgrades","withNativeFile","File","hasBinary","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","newData","reconstructPacket","_reconstructPacket","PacketType","RESERVED_EVENTS","Encoder","replacer","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","deconstruction","unshift","isObject","Decoder","reviver","reconstructor","isBinaryEvent","decodeString","BinaryReconstructor","takeBinaryData","start","buf","payload","tryParse","isPayloadValid","finishedReconstruction","CONNECT","DISCONNECT","CONNECT_ERROR","reconPack","binData","freeze","connect","connect_error","disconnect","disconnecting","newListener","io","connected","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","acks","flags","auth","_opts","_autoConnect","subs","onpacket","subEvents","_readyState","_len2","_key2","retries","fromQueue","volatile","_addToQueue","ack","pop","_registerAckCallback","isTransportWritable","notifyOutgoingListeners","ackTimeout","timer","_len3","_key3","_len4","_key4","withErr","arg1","arg2","tryCount","pending","_len5","responseArgs","_key5","_drainQueue","force","_packet","_sendConnectPacket","_pid","pid","offset","_lastOffset","onconnect","onevent","onack","ondisconnect","destroy","emitEvent","_anyListeners","_step","_iterator","_createForOfIteratorHelper","f","_len6","_key6","emitBuffered","subDestroy","_anyOutgoingListeners","_step2","_iterator2","Backoff","jitter","attempts","duration","rand","deviation","reset","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","decoder","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","_reconnecting","reconnect","Engine","skipReconnect","openSubDestroy","maybeReconnectOnOpen","errorSub","onping","ondata","ondecoded","active","_i","_nsps","_close","delay","onreconnect","attempt","cache","parsed","loc","test","href","sameNamespace","forceNew","multiplex","keccak256$1","ec$1","encParamsHexToBuf","encParamsHex","encParamsBufToHex","encParams","encryptData","_encryptData","privKeyHex","serializedDec","serializedBuf","sData","decryptData","_decryptData","keyPair","getPrivate","SOCKET_CONN_INSTANCE","runningChannels","setupSocketConnection","serverUrl","socketConn","SOCKET_CONN","debug","getSocketInstance","channelEncPrivKey","channelPubKey","decData","visibilityListener","visibilityState","encData","body","t2","signature","SIMULATE_CHANNELS","channel","METHODS","NativeMethod","IndexeDbMethod","LocalstorageMethod","ServerMethod","ENFORCED_OPTIONS","OPEN_BROADCAST_CHANNELS","lastId","chooseMethods","SimulateMethod","useMethod","chooseMethod","_iL","_onML","_addEL","internal","_uMP","_befC","_prepP","maybePromise","_state","_prepareChannel","_post","broadcastChannel","sendPromise","_hasMessageListeners","_addListenerObject","listenerFn","listenerObject","hundredMsInMicro","minMessageTime","_startListening","_removeListenerObject","o","_stopListening","postInternal","listenObj","awaitPrepare","isClosed","SAPPHIRE_NETWORK_URLS","_SAPPHIRE_NETWORK_URL","TORUS_NETWORK","SAPPHIRE_DEVNET","SAPPHIRE_TESTNET","SAPPHIRE_MAINNET","getSSSEndpoints","network","endpoints","getRSSEndpoints","getTSSEndpoints","NODE_DETAILS_MAINNET","currentEpoch","torusNodeEndpoints","torusIndexes","torusNodePub","X","Y","NODE_DETAILS_SAPPHIRE_DEVNET","TORUS_SAPPHIRE_NETWORK","torusNodeSSSEndpoints","torusNodeRSSEndpoints","torusNodeTSSEndpoints","NODE_DETAILS_SAPPHIRE_TESTNET","NODE_DETAILS_SAPPHIRE_MAINNET","NODE_DETAILS_TESTNET","logger","NodeDetailManager","_ref2$network","MAINNET","fndServerEndpoint","_ref2$enableLogging","updated","enableAll","disableAll","_currentEpoch","_torusNodeEndpoints","_torusNodeSSSEndpoints","_torusNodeRSSEndpoints","_torusNodeTSSEndpoints","_torusNodePub","_torusIndexes","_getNodeDetails","verifier","verifierId","_yield$get","_nodeDetails","nodeDetails","MULTI_CLUSTER_NETWORKS","setNodeDetails","TESTNET","LOGIN","AGGREGATE_VERIFIER","UX_MODE","REDIRECT_PARAMS_STORAGE_METHOD","TORUS_METHOD","SENTRY_TXNS","log$1","loginToConnectionMap","_loginToConnectionMap","_defineProperty2","padUrlString","endsWith","broadcastChannelOptions","caseSensitiveField","field","isCaseSensitive","getVerifierId","userInfo","typeOfLogin","verifierIdField","isVerifierIdCaseSensitive","handleRedirectParameters","hash","queryParameters","hashParameters","_item$split","_item$split2","_slicedToArray","part0","part1","instanceParameters","atob","error_description","isFirefox","_window","_window$navigator","constructURL","baseURL","URL","searchParams","append","h","validateAndConstructUrl","PopupHandler","_EventEmitter","features","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","left","abs","top","w","getPopupFeatures","windowTimer","iClosedWindow","_setupTimer","setInterval","clearInterval","_this$window","focus","locationReplaceOnRedirect","EventEmitter","AbstractLoginHandler","clientId","redirect_uri","uxMode","redirectToOpener","jwtParams","customState","btoa","_objectSpread$2","instanceId","verifierWindow","finalURL","popupFeatures","handleData","instanceParams","_ref$hashParams","accessToken","idToken","rest","hashParams","access_token","id_token","_objectWithoutProperties","_excluded$2","success","postMessageEventHandler","postMessageEvent","redirect","DiscordHandler","_AbstractLoginHandler","setFinalUrl","finalUrl","clonedParams","finalJwtParams","deepmerge","response_type","RESPONSE_TYPE","client_id","scope","SCOPE","_getUserInfo","avatar","_userInfo$email","email","_userInfo$username","_userInfo$discriminat","discriminator","profileImage","Authorization","username","FacebookHandler","_AbstractLoginHandler2","_super3","_getUserInfo2","_userInfo$name","picture","_userInfo$email2","GoogleHandler","_AbstractLoginHandler3","_super4","prompt","PROMPT","_getUserInfo3","_userInfo$picture","_userInfo$email3","_userInfo$name2","JwtHandler","_super5","pathname","connection","_getUserInfo4","_this$jwtParams","_this$jwtParams$user_","user_info_route","domainUrl","decodedToken","_name","_email","_picture","jwtDecode","MockLoginHandler","_AbstractLoginHandler5","_super6","_getUserInfo5","_this$jwtParams2","_this$jwtParams2$user","_name2","_email2","_picture2","_this$jwtParams3","_AbstractLoginHandler6","_super7","_getUserInfo6","_this$jwtParams4","_name3","_email3","_picture3","_ref$hashParams2","_excluded$1","_objectSpread$1","_this10$jwtParams","_this10$jwtParams$con","login_hint","phone_number","authParams","post","RedditHandler","_AbstractLoginHandler7","_super8","_getUserInfo7","_userInfo$icon_img","_userInfo$name3","icon_img","TwitchHandler","_AbstractLoginHandler8","_super9","force_verify","_getUserInfo8","_ref7$","_ref7$$profile_image_","_ref7$$display_name","_ref7$$email","profile_image_url","display_name","WEBAUTHN_LOOKUP_SERVER","WebAuthnHandler","_AbstractLoginHandler9","_super10","registerOnly","register_only","_getUserInfo9","parameters","ref","extraParamsPassed","extraParams","clientDataJSON","authenticatorData","challenge","rpOrigin","credId","_JSON$parse","_yield$get2","verifier_id","warn","extraVerifierParams","createHandler","JwtHandler$1","registerServiceWorker","baseUrl","registered","cached","updatefound","offline","SentryHandler","sentry","startTransaction","finish","StorageHelper","storageServerUrl","support","_navigator","localStorageAvailable","storage","storageAvailable","currentStorageMethod","isInitialized","_storeLoginDetails","publicKeyHex","_retrieveLoginDetails","_loginDetails","loginDetails","getItem","startsWith","CustomAuth","_ref$network","_ref$enableOneKey","enableOneKey","_ref$redirectToOpener","_ref$redirectPathName","redirectPathName","_ref$apiKey","apiKey","_ref$uxMode","_ref$locationReplaceO","_ref$metadataUrl","metadataUrl","_ref$storageServerUrl","web3AuthClientId","baseUri","config","torus","Torus","metadataHost","setAPIKey","nodeDetailManager","storageHelper","sentryHandler","_init","_ref9$skipSw","skipSw","_ref9$skipInit","skipInit","_ref9$skipPrefetch","skipPrefetch","_args16","init","ok","handlePrefetchRedirectUri","_triggerLogin","loginHandler","loginParams","_handleRedirectParame","nodeTx","_yield$this$nodeDetai","lookupTx","torusPubKey","_torusKey","torusKey","_excluded","clearOrphanedLoginDetails","storeLoginDetails","handleLoginWindow","getUserInfo","getNodeDetails","finishTransaction","getPublicAddress","typeOfUser","pub_key_X","pub_key_Y","publicAddress","address","privateKey","metadataNonce","getTorusKey","_triggerAggregateLogin","aggregateVerifierType","verifierIdentifier","subVerifierDetailsArray","userInfoPromises","loginParamsArray","subVerifierDetail","_loginParams","_handleRedirectParame2","_accessToken","_idToken","_userInfoArray","userInfoArray","aggregateVerifierParams","aggregateIdTokenSeeds","aggregateVerifierId","aggregateIdToken","_excluded2","aggregateVerifier","verify_params","sub_verifier_ids","idtoken","_triggerHybridAggregateLogin","singleLogin","aggregateLoginParams","_handleRedirectParame3","torusKey1Promise","_loginParams2","_idToken2","_accessToken2","torusKey2Promise","_yield$Promise$all","_yield$Promise$all2","torusKey1","torusKey2","_excluded3","aggregateLogins","_getTorusKey","verifierParams","additionalParams","_yield$this$nodeDetai2","pubLookupTx","sharesTx","retrieveShares","ethAddress","_getAggregateTorusKey","subVerifierInfoArray","getPostboxKeyFrom1OutOf1","_getRedirectResult","_ref10","_ref10$replaceUrl","replaceUrl","_ref10$clearLoginDeta","clearLoginDetails","queryParams","cleanUrl","_handleRedirectParame4","_await$this$storageHe","methodArgs","_methodArgs","_methodArgs2","_args22","origin","history","replaceState","retrieveLoginDetails","_excluded4","clearLoginDetailsStorage","triggerLogin","triggerAggregateLogin","triggerHybridAggregateLogin","_handlePrefetchRedirectUri","_this14","redirectHtml","createElement","crossOrigin","rel","resolveFn","relList","supports","head","appendChild","TorusServiceProvider","_ServiceProviderBase","customAuthArgs","directWeb","aggregateLoginKey","singleLoginKey","SHA2","_Hash","blockLen","outputLen","padOffset","isLE","finished","pos","destroyed","view","createView","assert","toBytes","take","subarray","process","dataView","roundClean","out","setBigUint64","_32n","BigInt","_u32_max","wh","wl","setUint32","oview","outLen","digestInto","Hash","Maj","SHA256_K","Uint32Array","IV","SHA256_W","SHA256","_SHA","A","B","C","D","E","F","G","H","getUint32","W15","W2","s0","rotr","s1","T1","T2","SHA224","_SHA2","sha256","wrapConstructor","wrapHash","_sha256","ShareSerializationError","english","binaryToByte","bin","parseInt","lpad","padString","string","bytesToBinary","deriveChecksumBits","entropyBuffer","CS","SHARE_SERIALIZATION_MODULE_NAME","ShareSerializationModule","tbSDK","_serialize","serializeMnemonic","typeNotSupported","_deserialize","serializedShare","deserializeMnemonic","entropy","newEntropy","isBuffer","invalidEntropy","words","binary","entropyToMnemonic","padStart","mnemonic","normalize","invalidMnemonic","bits","word","dividerIndex","entropyBits","checksumBits","entropyBytes","invalidChecksum","mnemonicToEntropy","ShareTransferError","ShareRequest","encPubKey","encShareInTransit","availableShareIndexes","userIp","timestamp","testEncPubKey","ShareTransferStorePointer","pointer","getClientIp","_getClientIp","promiseTimeout","text","SHARE_TRANSFER_MODULE_NAME","ShareTransferModule","requestStatusCheckInterval","refreshShareTransferMiddleware","interval","rawShareTransferStorePointer","shareTransferStorePointer","_requestNewShare","newShareTransferStore","encPubKeyX","currentEncKey","requestExists","getShareTransferStore","setShareTransferStore","requestStatusCheckId","latestShareTransferStore","shareStoreBuf","receivedShare","missingEncryptionKey","_cleanUpCurrentRequest","userCancelledRequest","_addCustomInfoToShareRequest","customInfo","shareTransferStore","_lookForRequests","_approveRequest","bufferedShare","store","latestPolynomial","indexes","filtered","shareRequest","_approveRequestWithShareIndex","approveRequest","_getShareTransferStore","_setShareTransferStore","_startRequestStatusCheck","deleteRequestAfterCompletion","deleteShareTransferStore","_cancelRequestStatusCheck","_deleteShareTransferStore","currentShareTransferStore","_resetShareTransferStore","numberOfOldShares","MockStorageLayer","dataMap","lockMap","storageLayerName","_getMetadata","usedKey","retrievePubKeyPoint","_setMetadata","_setMetadataStream","_acquireWriteLock","_releaseWriteLock","signDataWithPrivKey","TorusStorageLayer","_ref$hostUrl","hostUrl","_ref$serverTimeOffset","_getMetadata2","keyDetails","metadataResponse","decrypted","generateMetadataParams","_setMetadata2","metadataParams","apiError","serializeMetadataParamsInput","t3","t4","json","t5","_setMetadataStream2","newInput","finalMetadataParams","FD","customOptions","FormData","mode","isUrlEncodedData","pubX","pubY","namespace","setTKeyStore","unparsedSig","pubK","point","set_data","_acquireWriteLock2","_releaseWriteLock2","_serializeMetadataParamsInput","bufferMetadata","serializedEncryptedDetails","_value$serverTimeOffs","_TKey","_defaultModules","finalServiceProvider","finalStorageLayer","defaultModules","_defaultModules2","tempOldStorageLayer","tempOldServiceProvider","_ref2$modules","_ref2$serverTimeOffse","TKey","SecurityQuestionsError","SecurityQuestionStore","sqPublicShare","questions","answerToUserInputHashBN","answerString","TKEYSTORE_ID","SecurityQuestionsModule","saveAnswers","refreshSecurityQuestionsMiddleware","_generateNewShareWithSecurityQuestions","newSharesDetails","newShareStore","userInputHash","sqStore","unableToReplace","module","saveAnswerOnTkeyStore","_inputShareFromSecurityQuestions","rawSqStore","unavailable","incorrectAnswer","_changeSecurityQuestionAndAnswer","newAnswerString","newQuestions","sqShare","newSqStore","_saveAnswerOnTkeyStore","answerStore","answer","_getAnswer","noPasswordSaved","sqIndex","sqAnswer","newNonce","WebStorageError","getWindow","requestedBytes","download","filename","element","setAttribute","style","display","click","removeChild","requestQuota","_requestQuota","webkitPersistentStorage","browserRequestFileSystem","_browserRequestFileSystem","grantedBytes","win","requestFileSystem","webkitRequestFileSystem","PERSISTENT","getFile","_getFile","fs","root","readFile","_readFile","fileEntry","file","getShareFromFileStorage","fileStr","shareUnavailableInFileStorage","fileStorageUnavailable","storeShareOnFileStorage","fileName","createWriter","fileWriter","onwriteend","bb","canAccessFileStorage","permissions","DOMException","storeShareOnLocalStorage","localStorageUnavailable","getShareFromLocalStorage","foundFile","shareUnavailableInLocalStorage","WebStorageModule","canUseFileStorage","setFileStorageAccess","_setFileStorageAccess","_self","onchange","_storeDeviceShare","deviceShareStore","customDeviceInfo","tkeypubx","shareDescription","_storeDeviceShareOnFileStorage","_getDeviceShare","_fileErr$message","unableToReadFromStorage","_inputShareFromWebStorage","latestShareStore","getDeviceShare","CYAN","AQUA","CELESTE","_PROXY_CONTRACT_ADDRE","SIGNER_MAP","_NETWORK_MAP","_SIGNER_MAP","browserCrypto","global","crypto","msCrypto","subtle","webkitSubtle","EC_GROUP_ORDER","ZERO32","alloc","condition","isValidPrivateKey","compare","equalConstTime","b1","b2","randomBytes","getRandomValues","nodeCrypto","sha512","_sha","_hash","_result","digest","update","getAes","op","importAlgorithm","cryptoKey","encAlgorithm","cipher","firstChunk","secondChunk","decipher","_firstChunk","_secondChunk","final","aesCbcEncrypt","aesCbcDecrypt","hmacSha256Sign","_hmacSha256Sign","_result2","hmac","hmacSha256Verify","_hmacSha256Verify","expectedSig","canonical","derive","privateKeyA","publicKeyB","keyA","keyB","Px","deriveUnpadded","derivePadded","publicKeyTo","ephemPrivateKey","encryptionKey","macKey","dataToMac","_padding","padding","deriveLocal","macGood","logLevel","levels","INFO","embedHost","tracingOrigins","tracingPaths","setEmbedHost","embedHost_","apiKey_","fetchAndTrace","_fetchAndTrace","_url","span","startChild","getApiKeyHeaders","debugLogResponse","statusText","promise","race","options_","defaultOptions","_args","useAPIKey","merge","logTracingHeader","generateJsonRPCObject","jsonrpc","SomeError","errors","responses","predicate","Some","promises","predicateError","finishedCount","sharedState","resolved","errorArr","resultArr","resp","finally","_error$data","toUpperCase","it","_predicateError","GetOrSetNonceError","_Error2","kCombinations","_","cur","combs","tailCombs","thresholdSame","hashMap","JsonStringify","keyLookup","lookupPromises","lookupResults","lookupShares","x1","errorResult","x2","keyResult","x3","waitKeyLookup","keyAssign","torusNodePubs","lastPoint","firstPoint","signerHost","nodeNum","initialPoint","signedData","acceptedErrorMsgs","pubKeyX","pubKeyY","some","toChecksumAddress","hexAddress","_ref$metadataHost","allowHost","_getUserTypeAndAddress","doesKeyAssign","isNewKey","finalKeyResult","assignResult","_nonce","_nonceResult","_finalKeyResult$keys$","nonceResult","modifiedPubKey","pubNonce","finalX","finalY","_args3","getOrSetNonce","generateAddressFromPubKey","upgraded","_setCustomKey","torusKeyHex","customKeyHex","customKey","newMetadataNonce","_retrieveShares","promiseArr","tmpKey","tokenCommitment","_args8","messageprefix","tokencommitment","temppubx","temppuby","verifieridentifier","promiseArrRequest","nodeSigs","encrypted","nodesignatures","shareResponses","completedRequests","thresholdPublicKey","sharePromises","nodeIndexes","_currentShareResponse","_currentShareResponse2","currentShareResponse","firstKey","sharesResolved","decryptedShares","allCombis","_ret","PublicKey","Index","curr","currentCombi","currentCombiShares","indices","derivedPrivateKey","decryptedPubKey","decryptedPubKeyX","decryptedPubKeyY","delegateYield","returnedKey","_yield$_this2$getNonc","getNonce","generateAddressFromPrivKey","_args9","setData","publicKeyX","publicKeyY","_getPublicAddress","isExtended","_nonce2","_nonceResult2","_finalKeyResult$keys$2","_args11","_getOrSetNonce","_args12","_getNonce","privKeyBN","nonceBN","enumerable","toStringTag","__esModule","getFirstMatch","getSecondMatch","matchAndReturnConst","getWindowsVersionName","getMacOSVersionName","getAndroidVersionName","getVersionPrecision","compareVersions","u","reverse","getBrowserAlias","BROWSER_ALIASES_MAP","getBrowserTypeByAlias","BROWSER_MAP","ENGINE_MAP","OS_MAP","PLATFORMS_MAP","Bada","BlackBerry","Chrome","Chromium","Electron","Epiphany","Firefox","Focus","Generic","Googlebot","Maxthon","Opera","PhantomJS","Puffin","QupZilla","QQ","QQLite","Safari","Sailfish","SeaMonkey","Sleipnir","Swing","Tizen","Vivaldi","WeChat","Roku","amazon_silk","android","bada","blackberry","chrome","chromium","electron","epiphany","firefox","generic","googlebot","google_search","ie","k_meleon","maxthon","edge","mz","naver","opera","opera_coast","phantomjs","puffin","qupzilla","qq","qqlite","safari","sailfish","samsung_internet","seamonkey","sleipnir","swing","tizen","uc","vivaldi","webos","wechat","yandex","tablet","mobile","desktop","tv","WindowsPhone","Windows","MacOS","iOS","Android","WebOS","Linux","ChromeOS","PlayStation4","EdgeHTML","Blink","Trident","Presto","configurable","getParser","getResult","_ua","parsedResult","getUA","parseBrowser","browser","describe","getBrowser","getBrowserName","getBrowserVersion","version","getOS","os","parseOS","getOSName","getOSVersion","getPlatform","platform","parsePlatform","getPlatformType","getEngine","parseEngine","getEngineName","satisfies","isOS","isPlatform","isBrowser","compareVersion","isEngine","is","search","versionName","vendor","model","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","asyncTag","funcTag","genTag","nullTag","objectTag","proxyTag","undefinedTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","func","transform","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","objectCtorString","reIsNative","RegExp","allocUnsafe","getPrototype","getPrototypeOf","arg","objectCreate","propertyIsEnumerable","symToStringTag","getNative","nativeIsBuffer","nativeMax","nativeNow","nativeCreate","baseCreate","object","proto","entries","entry","ListCache","MapCache","Stack","__data__","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","assignMergeValue","baseAssignValue","assignValue","objValue","assocIndexOf","array","getMapData","LARGE_ARRAY_SIZE","fromRight","baseFor","keysFunc","iterable","props","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsNative","isMasked","isFunction","toSource","baseKeysIn","nativeKeysIn","isProto","isPrototype","baseMerge","srcIndex","customizer","srcValue","mergeFunc","safeGet","stacked","isCommon","isTyped","isArrayLike","copyArray","isDeep","copy","cloneBuffer","typedArray","cloneArrayBuffer","cloneTypedArray","Ctor","isPlainObject","isNew","copyObject","keysIn","toPlainObject","initCloneObject","baseMergeDeep","baseRest","setToString","otherArgs","thisArg","overRest","identity","baseSetToString","isKeyable","getValue","lastCalled","stamp","remaining","shortOut","other","isLength","baseUnary","assigner","sources","guard","isIterateeCall","definition","define","noop","undefinedType","isIE","logMethods","bindMethod","methodName","traceForIE","console","trace","realMethod","replaceLoggingMethods","level","loggerName","methodFactory","enableLoggingWhenConsoleArrives","defaultMethodFactory","Logger","defaultLevel","factory","currentLevel","persistLevelIfPossible","levelNum","levelName","ignore","cookie","getPersistedLevel","storedLevel","clearPersistedLevel","getLevel","persist","SILENT","setDefaultLevel","resetLevel","TRACE","initialLevel","defaultLogger","_loggersByName","getLogger","TypeError","_log","noConflict","getLoggers","NonError","_prepareSuperMessage","captureStackTrace","_unused","commonProperties","property","isCalled","destroyCircular","seen","to_","forceEnumerable","maxDepth","depth","_Object$entries","_Object$entries$_i","_i2","_commonProperties","_commonProperties$_i","_options$maxDepth","POSITIVE_INFINITY","deserializeError","_options$maxDepth2","newError","CLASS_NAMES","MODAL","OVERLAY","SHOW_MODAL","MODAL_TITLE","MODAL_TEXT","ICON","ICON_CUSTOM","CONTENT","FOOTER","BUTTON_CONTAINER","BUTTON","CONFIRM_BUTTON","CANCEL_BUTTON","DANGER_BUTTON","BUTTON_LOADING","BUTTON_LOADER","getNode","querySelector","stringToNode","innerHTML","trim","firstChild","insertAfter","nextSibling","parentNode","insertBefore","removeNode","parentElement","throwErr","ordinalSuffixOf","overlayMarkup","iconMarkup","titleMarkup","textMarkup","footerMarkup","CONFIRM_KEY","CANCEL_KEY","visible","className","closeModal","defaultButtonList","cancel","confirm","getButtonListOpts","injectElIntoModal","textContent","classList","initModalContent","icon","initTitle","title","initText","buttons","dangerMode","modalMarkup","isOpen","actions","resetState","setActionValue","setActionOptionsFor","openModal","remove","onAction","getState","stopLoading","querySelectorAll","eval","sweetAlert","swal","insertAt","locals","sourceRoot","unescape","refs","base","css","media","sourceMap","insertInto","attrs","singleton","g","createObjectURL","revokeObjectURL","styleSheet","cssText","createTextNode","childNodes","convertToAbsoluteUrls","DEBUG","isNaN","Element","CharacterData","DocumentType","_handled","_value","_deferreds","_immediateFn","onFulfilled","onRejected","_unhandledRejectionFn","_setImmediateFn","_setUnhandledRejectionFn","setImmediate","_id","_clearFn","enroll","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","clearImmediate","importScripts","MessageChannel","port1","port2","run","fun","env","argv","versions","addListener","prependListener","prependOnceListener","cwd","chdir","umask","polyfill","getOwnPropertyDescriptor","getOpts","setDefaults","errorIconMarkup","warningIconMarkup","successIconMarkup","contentMarkup","buttonMarkup","warning","offsetHeight","createDocumentFragment","children","attributes","preventDefault","shiftKey","tabIndex","O","closeOnEsc","closeOnClickOutside","button","getContentOpts","DEPRECATED_OPTS","logDeprecation","onlyRename","replacement","subOption","link","imageUrl","customClass","imageSize","showCancelButton","showConfirmButton","confirmButtonText","confirmButtonColor","cancelButtonText","closeOnConfirm","closeOnCancel","showLoaderOnConfirm","animation","inputType","inputValue","inputPlaceholder","html","allowEscapeKey","allowClickOutside","runtime","regeneratorRuntime","accidentalStrictMode","number","isSafeInteger","lengths","bool","exists","instance","checkFinished","output","u8a","u32","DataView","utf8ToBytes","_cloneInto","hashCons","hashC","wrapXOFConstructorWithOpts","U32_MASK64","fromBig","u64","lst","le","Ah","Al","_fromBig","toBig","shrSH","shrSL","rotrSH","rotrSL","rotrBH","rotrBL","rotr32H","rotr32L","rotlSH","rotlSL","rotlBH","rotlBL","Bh","Bl","add3L","Cl","add3H","low","Ch","add4L","Dl","add4H","Dh","add5H","Eh","add5L","El","SHA3_PI","SHA3_ROTL","_SHA3_IOTA","_0n","_1n","_2n","_7n","_256n","_0x71n","round","R","_u64$split","_u64$split2","SHA3_IOTA_H","SHA3_IOTA_L","rotlH","rotlL","Keccak","suffix","enableXOF","rounds","posOut","state32","idx1","idx0","B0","B1","Th","Tl","curH","curL","PI","keccakP","keccak","bufferOut","writeInto","xofInto","gen","keccak_224","keccak_256","keccak_384","keccak_512","genShake","dkLen","webCrypto","nodeRequire","fixStack","_newTarget","setPrototypeOf","__proto__","fixProto","__extends","excluded","sourceKeys","getOwnPropertySymbols","sourceSymbolKeys"],"sourceRoot":""}