"use strict";(self.webpackChunkPaytez_web=self.webpackChunkPaytez_web||[]).push([[26],{4802:function(e,n,t){t.d(n,{TE:function(){return v},iZ:function(){return p},sq:function(){return x},yX:function(){return m},EG:function(){return h},mB:function(){return j},iW:function(){return f},RF:function(){return y}});var a=t(23680),s=t(24611),r=t(53755),i=t(26219),c=t(50959),l=t(5779),o=t(7733),u=t.n(o),d=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),p=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getBalance();case 2:return t=e.sent,a=i.bM(t,18),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,t,a){var r,l,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new c.CH(n,d,a),e.next=3,r.balanceOf(t);case 3:return l=e.sent,o=i.bM(l,"ether"),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,t){var a,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new c.CH(n,d,t),e.next=3,a.symbol();case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),v=function(e){navigator.clipboard.writeText(e).then((function(){l.aS.success("Copied")})).catch((function(e){l.aS.failure("Error copying text to clipboard:")}))},x=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){var t,a,r,i,c=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:"USD",e.prev=1,e.next=4,u().get("https://api.coingecko.com/api/v3/simple/price?ids=".concat(n,"&vs_currencies=").concat(t,"&x_cg_demo_api_key=CG-uTaKZVjZTx7tzeHj1BkVXj4A"));case 4:return a=e.sent,r=a.data,i=r[n][t.toLowerCase()],e.abrupt("return",parseFloat(i||1).toFixed(4));case 10:return e.prev=10,e.t0=e.catch(1),console.log("errr",e.t0),e.abrupt("return",0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,t,r,c){var l,o,u,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendTransaction({to:r,value:i.fi(c)});case 2:return l=e.sent,console.log("transactionHash",l.hash),e.next=6,j(l.hash,n);case 6:return o=e.sent,u=(0,a.Z)(o,2),d=u[0],p=u[1],e.abrupt("return",{txhash:d,status:p});case 11:case"end":return e.stop()}}),e)})));return function(n,t,a,s){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,t,r,l,o){var u,p,m,h,v,x,f,y;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=new c.CH(r,d,t),p=l,console.log("sendAddress",l),console.log("sendValue",o),m=i.vz(o,"18"),e.next=7,u.transfer(p,m);case 7:return h=e.sent,console.log("transactionHash",h.hash),e.next=11,j(h.hash,n);case 11:return v=e.sent,x=(0,a.Z)(v,2),f=x[0],y=x[1],e.abrupt("return",{txhash:f,status:y});case 16:case"end":return e.stop()}}),e)})));return function(n,t,a,s,r){return e.apply(this,arguments)}}(),b=function(e){return new Promise((function(n){return setTimeout(n,e)}))},j=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,t){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null;case 1:if(null!=a){e.next=9;break}return e.next=4,t.getTransactionReceipt(n);case 4:return a=e.sent,e.next=7,b(3e3);case 7:e.next=1;break;case 9:if(!a.status){e.next=13;break}return e.abrupt("return",[n,!0]);case 13:return e.abrupt("return",[n,!1]);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},96792:function(e,n,t){t(76870);var a=t(52516);n.Z=function(e){var n=e.title,t=e.subtitle;return(0,a.jsx)("div",{class:"row",children:(0,a.jsx)("div",{class:"col-lg-12",children:(0,a.jsxs)("div",{class:"page-title",children:[(0,a.jsx)("h3",{class:"my-0",children:n}),(0,a.jsx)("p",{class:"mt-1 fw-medium",children:t})]})})})}},97026:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var a=t(24611),s=t(53755),r=t(23680),i=t(76870),c=t(95573),l=t(96792),o=t(5779),u=t(7733),d=t.n(u),p=t(99033),m=(t(44953),t(72106)),h=t(52516),v=function(e){var n=e.getInvoiceList,t=(0,p.v9)((function(e){return e.web3})),c=(t.chainId,t.signer,t.provider,(0,p.v9)((function(e){return e.auth})).user,(0,p.v9)((function(e){return e.usersetting})).userconfig),l=(0,i.useState)(""),u=(0,r.Z)(l,2),v=u[0],x=(u[1],(0,i.useState)("")),f=(0,r.Z)(x,2),y=f[0],b=f[1],j=(0,i.useState)(""),g=(0,r.Z)(j,2),w=g[0],N=g[1],Z=(0,i.useState)({}),T=(0,r.Z)(Z,2),k=T[0],S=T[1],M=(0,i.useState)({}),C=(0,r.Z)(M,2),A=C[0],P=C[1],I=(0,i.useState)(""),_=(0,r.Z)(I,2);_[0],_[1];(0,i.useEffect)((function(){P({})}),[y,w]);var F=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var s,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==y){e.next=4;break}return o.aS.failure("Fill All the Fields"),e.abrupt("return");case 4:return o.aY.standard(".addinvoice","Please wait... Don't Close"),e.prev=5,s={invoiceAmount:y,description:w,currencySymbol:c.defaultCurrency},e.next=9,d().post(o.T5+"/api/invoice",s);case 9:(r=e.sent).data&&(b(""),N(""),P(r.data),o.aY.remove(".addinvoice"),o.aS.success("Invoice Successfully Added"),n()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),o.aY.remove(".addinvoice"),e.t0&&e.t0.response&&e.t0.response.data&&S(e.t0.response.data);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsx)("div",{children:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{id:"addinvoiceModal",className:"modal fade ",tabIndex:-1,role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true",children:(0,h.jsx)("div",{className:"modal-dialog",children:(0,h.jsx)("div",{className:"modal-content addinvoice",children:(0,h.jsx)("div",{className:"modal-body",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("div",{className:"row g-0",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"p-xl-5 p-3",children:[(0,h.jsx)("div",{className:"text-center mb-5",children:(0,h.jsx)("img",{src:"assets/images/logo.png",className:"align-self-center",alt:"logo-img",height:40})}),(0,h.jsx)("h3",{className:"h3 mb-0 mt-3 text-center",children:"Create New Invoice"}),(0,h.jsx)("p",{className:"text-muted mt-1 mb-4 text-center",children:"Craft, Share, and Simplify Invoices with Ease!"}),(0,h.jsxs)("form",{onSubmit:F,className:"authentication-form",children:[(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsx)(m.Z,{isRequired:!0,type:"number",label:"Enter Amount in ".concat(c.defaultCurrency),onChange:function(e){return b(e.target.value)},value:y,placeholder:"",error:k.invoiceAmount})}),(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsx)(m.Z,{label:"Purpose of Invoice",onChange:function(e){return N(e.target.value)},value:w,placeholder:"",error:k.description})}),A&&Object.keys(A).length>0&&(0,h.jsxs)("div",{role:"alert",class:"alert text-success bg-white border alert-dismissible",children:[(0,h.jsxs)("div",{class:"d-flex align-items-start",children:[(0,h.jsx)("span",{class:"badge badge-soft-success align-self-center me-3",children:"Success"}),(0,h.jsxs)("div",{class:"w-100",children:["Your invoice  is created ",(0,h.jsx)("a",{href:"".concat(o.Ms,"/viewinvoice/").concat(A._id),target:"_blank",class:"text-success alert-link",children:"View Invoice"})]})]}),(0,h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),(0,h.jsx)("div",{className:"mb-0 text-center d-grid",children:v?(0,h.jsxs)("button",{class:"btn btn-outline-primary btn-sm",type:"button",children:[(0,h.jsx)("span",{class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):(0,h.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Create Invoice"})})]})]})})})})," "]})})})})})})})},x=t(22667),f=t(4802),y=t(75473),b=t.n(y),j=function(e){var n=e.item,t="danger";return"Paid"===n.status&&(t="success"),(0,h.jsx)("div",{className:"row mb-2 mt-2",children:(0,h.jsx)("div",{className:"col",children:(0,h.jsx)("div",{className:"card mb-0",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row align-items-center justify-content-sm-between",children:[(0,h.jsxs)("div",{className:"col-lg-1",children:[(0,h.jsx)("div",{className:"form-check",children:(0,h.jsxs)("label",{className:"form-check-label",htmlFor:"task4",children:["#",n.invoiceNo," "," "]})})," "]})," ",(0,h.jsxs)("div",{className:"col-lg-2",children:[(0,h.jsx)("div",{className:"form-check",children:(0,h.jsx)("label",{className:"form-check-label",htmlFor:"task4",children:b()(n.createdAt).format("DD-MM-YYYY")})})," "]})," ",(0,h.jsxs)("div",{className:"col-lg-2",children:[(0,h.jsx)("div",{className:"form-check",children:(0,h.jsxs)("label",{className:"form-check-label",htmlFor:"task4",children:[n.invoiceAmount," ",n.currencySymbol]})})," "]})," ",(0,h.jsx)("div",{className:"col-lg-3",children:n.txnHash?(0,h.jsxs)("label",{className:"form-check-label",htmlFor:"task4",children:[parseFloat(n.paidAmount).toFixed(4)," ",n.assetSymbol," ",(0,h.jsx)("br",{}),(0,h.jsxs)("small",{children:[n.assetPrice,"/",n.assetSymbol]})]}):(0,h.jsx)("span",{className:"badge badge-soft-secondary rounded-pill",children:"Paid Details Not Available"})}),(0,h.jsx)("div",{className:"col-lg-1",children:n.txnHash?(0,h.jsx)("a",{href:o.Fl[n.chainId]+n.txnHash,target:"_blank",children:(0,h.jsx)("span",{className:"badge badge-soft-secondary rounded-pill",children:"View Txn"})}):(0,h.jsx)("span",{className:"badge badge-soft-secondary rounded-pill",children:"~"})}),(0,h.jsx)("div",{className:"col-lg-3",children:(0,h.jsxs)("ul",{className:"list-inline text-sm-end mb-0",children:[(0,h.jsx)("li",{className:"list-inline-item pe-3",id:"tooltip-container8",children:(0,h.jsx)("span",{className:"fs-13 fw-medium",children:(0,h.jsx)("span",{style:{cursor:"pointer"},onClick:function(){(0,f.TE)("".concat(o.Ms,"/viewinvoice/").concat(n._id))},className:"icon icon-xxs text-normal",children:"Share"})})}),(0,h.jsx)("li",{className:"list-inline-item pe-3",id:"tooltip-container8",children:(0,h.jsx)("span",{className:"fs-13 fw-medium",children:(0,h.jsx)("a",{target:"_blank",href:"/viewinvoice/".concat(n._id),children:(0,h.jsx)("span",{className:"icon icon-xxs text-normal",children:"View"})})})}),(0,h.jsx)("li",{className:"list-inline-item",children:(0,h.jsx)("span",{className:"badge badge-soft-".concat(t," p-1"),style:{width:100},children:n.status})})]})})," "]})})})})})},g=function(){var e=(0,i.useState)([]),n=(0,r.Z)(e,2),t=n[0],u=n[1],m=(0,i.useState)(!1),f=(0,r.Z)(m,2),y=f[0],b=f[1],g=(0,i.useState)(1),w=(0,r.Z)(g,2),N=w[0],Z=w[1],T=(0,i.useState)(!1),k=(0,r.Z)(T,2),S=k[0],M=k[1],C=(0,p.v9)((function(e){return e.usersetting})).userconfig,A=["invoiceName","invoiceLogo","invoiceEmail","invoicePhone","invoiceAddress"].every((function(e){return C.hasOwnProperty(e)}));console.log("userconfig",C),console.log("checkSettingExist",A),(0,i.useEffect)((function(){I()}),[]);var P,I=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.aY.standard(".invoicelist","Please wait..."),e.prev=1,e.next=4,d().get(o.T5+"/api/invoice/?limit=10&page=".concat(N));case 4:n=e.sent,o.aY.remove(".invoicelist"),n.data&&(u(n.data.docs),b(n.data.hasNextPage),Z(n.data.page)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),o.aY.remove(".invoicelist"),o.aS.failure("Error Ocuured in API");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),o.aY.standard(".invoicelist","Please wait..."),e.prev=2,e.next=5,d().get(o.T5+"/api/invoice/?limit=10&page=".concat(N+1));case 5:n=e.sent,o.aY.remove(".invoicelist"),M(!1),n.data&&(s=t.concat(n.data.docs),u(s),b(n.data.page),Z(n.data.hasNextPage)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),M(!1),o.aY.remove(".invoicelist"),o.aS.failure("Error Ocuured in API");case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return P=t.length>0?t.map((function(e){return(0,h.jsx)(j,{item:e})})):(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("h1",{children:"No Record Available"})})})})}),(0,h.jsxs)(c.Z,{children:[(0,h.jsx)("section",{class:"position-relative p-3 bg-gradient2 min100vh",children:(0,h.jsxs)("div",{class:"container",children:[(0,h.jsx)(l.Z,{title:"Invoices",subtitle:"All your invoices in one place"}),!A&&(0,h.jsx)("div",{className:"row mt-2 m4-2",children:(0,h.jsxs)("div",{role:"alert",className:"alert alert-danger alert-dismissible",children:["Uh-oh! It seems you haven't configured the essential settings yet. Please take a moment to set them up for an optimal experience \xa0\xa0\xa0",(0,h.jsx)(x.rU,{to:"/user/setting",children:(0,h.jsx)("span",{class:"badge badge-soft-danger p-1",children:"Configure Now"})})]})}),(0,h.jsx)("div",{className:"row mt-2 m4-2",children:(0,h.jsx)("div",{className:"col-lg-12",children:(0,h.jsxs)("div",{class:"row",children:[(0,h.jsx)("div",{class:"col",children:(0,h.jsx)("h4",{class:"mb-3 mt-0 fs-16",children:"Invoices"})}),A&&(0,h.jsx)("div",{class:"col text-end",children:(0,h.jsx)("button",{type:"button",class:"btn btn-soft-primary col-3 me-2","data-bs-toggle":"modal","data-bs-target":"#addinvoiceModal",children:"New Invoice"})})]})})}),(0,h.jsx)("div",{className:"invoicelist",children:P}),y&&!S&&(0,h.jsxs)("div",{className:"row mb-3 mt-4",children:[(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"text-center",children:(0,h.jsx)("button",{onClick:function(){return _()},className:"btn btn-outline-primary btn-sm",type:"button",children:"Load More"})})})," "]})]})}),(0,h.jsx)(v,{getInvoiceList:I})]})}}}]);
//# sourceMappingURL=26.74311d18.chunk.js.map